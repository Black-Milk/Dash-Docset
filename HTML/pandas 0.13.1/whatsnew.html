

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s New &mdash; pandas 0.13.1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.13.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pandas 0.13.1 documentation" href="index.html" />
    <link rel="next" title="Installation" href="install.html" />
    <link rel="prev" title="pandas: powerful Python data analysis toolkit" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="pandas: powerful Python data analysis toolkit"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pandas 0.13.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
<div class="content-wrapper">
    <div class="content">
        <div class="document">
            <div class="sphinxsidebar">
                <h3>Table Of Contents</h3>
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">What&#8217;s New</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v0-13-1-february-3-2014">v0.13.1 (February 3, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#output-formatting-enhancements">Output Formatting Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-changes">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prior-version-deprecations-changes">Prior Version Deprecations/Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental">Experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-13-0-january-3-2014">v0.13.0 (January 3, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Prior Version Deprecations/Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexing-api-changes">Indexing API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#float64index-api-change">Float64Index API Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hdfstore-api-changes">HDFStore API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataframe-repr-changes">DataFrame repr Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0130-experimental">Experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-refactoring">Internal Refactoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-12-0-july-24-2013">v0.12.0 (July 24, 2013)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-enhancements">I/O Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-enhancements">Other Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental-features">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-11-0-april-22-2013">v0.11.0 (April 22, 2013)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#selection-choices">Selection Choices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selection-deprecations">Selection Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dtypes">Dtypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dtype-conversion">Dtype Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dtype-gotchas">Dtype Gotchas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datetimes-conversion">Datetimes Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-10-1-january-22-2013">v0.10.1 (January 22, 2013)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hdfstore">HDFStore</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-10-0-december-17-2012">v0.10.0 (December 17, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-parsing-new-features">File parsing new features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wide-dataframe-printing">Wide DataFrame Printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updated-pytables-support">Updated PyTables Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#n-dimensional-panels-experimental">N Dimensional Panels (Experimental)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-9-1-november-14-2012">v0.9.1 (November 14, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">API changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-9-0-october-7-2012">v0.9.0 (October 7, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">API changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-8-1-july-22-2012">v0.8.1 (July 22, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id18">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance-improvements">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-8-0-june-29-2012">v0.8.0 (June 29, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#support-for-non-unique-indexes">Support for non-unique indexes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#numpy-datetime64-dtype-and-1-6-dependency">NumPy datetime64 dtype and 1.6 dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-series-changes-and-improvements">Time series changes and improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-new-features">Other new features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-plotting-methods">New plotting methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-api-changes">Other API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#potential-porting-issues-for-pandas-0-7-3-users">Potential porting issues for pandas &lt;= 0.7.3 users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-3-april-12-2012">v.0.7.3 (April 12, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#na-boolean-comparison-api-change">NA Boolean Comparison API Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">Other API Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-2-march-16-2012">v.0.7.2 (March 16, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id21">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-1-february-29-2012">v.0.7.1 (February 29, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id23">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-0-february-9-2012">v.0.7.0 (February 9, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-changes-to-integer-indexing">API Changes to integer indexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-tweaks-regarding-label-based-slicing">API tweaks regarding label-based slicing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-to-series-operator">Changes to Series <tt class="docutils literal"><span class="pre">[]</span></tt> operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">Other API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-6-1-december-13-2011">v.0.6.1 (December 13, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id28">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id29">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-6-0-november-25-2011">v.0.6.0 (November 25, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id30">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance-enhancements">Performance Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-5-0-october-24-2011">v.0.5.0 (October 24, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id31">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id32">Performance Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-4-3-through-v0-4-1-september-25-october-9-2011">v.0.4.3 through v0.4.1 (September 25 - October 9, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id33">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id34">Performance Enhancements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Package overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="10min.html">10 Minutes to Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="dsintro.html">Intro to Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Essential Basic Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing and Selecting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="computation.html">Computational tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="missing_data.html">Working with missing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="groupby.html">Group By: split-apply-combine</a></li>
<li class="toctree-l1"><a class="reference internal" href="merging.html">Merge, join, and concatenate</a></li>
<li class="toctree-l1"><a class="reference internal" href="reshaping.html">Reshaping and Pivot Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="timeseries.html">Time Series / Date functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Plotting with matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="rplot.html">Trellis plotting interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">IO Tools (Text, CSV, HDF5, ...)</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote_data.html">Remote Data Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="enhancingperf.html">Enhancing Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="sparse.html">Sparse data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="gotchas.html">Caveats and Gotchas</a></li>
<li class="toctree-l1"><a class="reference internal" href="r_interface.html">rpy2 / R interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="ecosystem.html">Pandas Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparison_with_r.html">Comparison with R / R libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparison_with_sql.html">Comparison with SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Release Notes</a></li>
</ul>

                <h3 style="margin-top: 1.5em;">Search</h3>

                <form class="search" action="search.html" method="get">
                    <input type="text" name="q" size="18"/>
                    <input type="submit" value="Go"/>
                    <input type="hidden" name="check_keywords" value="yes"/>
                    <input type="hidden" name="area" value="default"/>
                </form>
                <p class="searchtip" style="font-size: 90%">
                    Enter search terms or a module, class or function name.
                </p>

                <p>

                <p>
                    <script type="text/javascript"
                            src="http://www.ohloh.net/p/482908/widgets/project_partner_badge.js"></script>
                </p>
            </div>
             
            <div class="documentwrapper">
                <div class="bodywrapper">
                    <div class="body">
                        
  <div class="section" id="what-s-new">
<span id="whatsnew"></span><h1>What&#8217;s New<a class="headerlink" href="#what-s-new" title="Permalink to this headline">¶</a></h1>
<p>These are new features and improvements of note in each release.</p>
<div class="section" id="v0-13-1-february-3-2014">
<span id="whatsnew-0131"></span><h2>v0.13.1 (February 3, 2014)<a class="headerlink" href="#v0-13-1-february-3-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.13.0 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>Added <tt class="docutils literal"><span class="pre">infer_datetime_format</span></tt> keyword to <tt class="docutils literal"><span class="pre">read_csv/to_datetime</span></tt> to allow speedups for homogeneously formatted datetimes.</li>
<li>Will intelligently limit display precision for datetime/timedelta formats.</li>
<li>Enhanced Panel <a class="reference internal" href="generated/pandas.Panel.apply.html#pandas.Panel.apply" title="pandas.Panel.apply"><tt class="xref py py-meth docutils literal"><span class="pre">apply()</span></tt></a> method.</li>
<li>Suggested tutorials in new <a class="reference internal" href="tutorials.html#tutorials"><em>Tutorials</em></a> section.</li>
<li>Our pandas ecosystem is growing, We now feature related projects in a new <a class="reference internal" href="ecosystem.html#ecosystem"><em>Pandas Ecosystem</em></a> section.</li>
<li>Much work has been taking place on improving the docs, and a new <a class="reference internal" href="contributing.html#contributing"><em>Contributing</em></a> section has been added.</li>
<li>Even though it may only be of interest to devs, we &lt;3 our new CI status page: <a class="reference external" href="http://scatterci.github.io/pydata/pandas">ScatterCI</a>.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>0.13.1 fixes a bug that was caused by a combination of having numpy &lt; 1.8, and doing
chained assignment on a string-like array. Please review <a class="reference internal" href="indexing.html#indexing-view-versus-copy"><em>the docs</em></a>,
chained indexing can have unexpected results and should generally be avoided.</p>
<p>This would previously segfault:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">,</span><span class="s">&#39;bah&#39;</span><span class="p">,</span><span class="s">&#39;foo&#39;</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">])))</span>

<span class="gp">In [2]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [3]: </span><span class="n">df</span>
<span class="gr">Out[3]: </span>
<span class="go">     A</span>
<span class="go">0  NaN</span>
<span class="go">1  bar</span>
<span class="go">2  bah</span>
<span class="go">3  foo</span>
<span class="go">4  bar</span>

<span class="go">[5 rows x 1 columns]</span>
</pre></div>
</div>
<p>The recommended way to do this type of assignment is:</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span class="gp">In [4]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">,</span><span class="s">&#39;bah&#39;</span><span class="p">,</span><span class="s">&#39;foo&#39;</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">])))</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [6]: </span><span class="n">df</span>
<span class="gr">Out[6]: </span>
<span class="go">     A</span>
<span class="go">0  NaN</span>
<span class="go">1  bar</span>
<span class="go">2  bah</span>
<span class="go">3  foo</span>
<span class="go">4  bar</span>

<span class="go">[5 rows x 1 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="output-formatting-enhancements">
<h3>Output Formatting Enhancements<a class="headerlink" href="#output-formatting-enhancements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">df.info() view now display dtype info per column (<a class="reference external" href="https://github.com/pydata/pandas/issues/5682">GH5682</a>)</p>
</li>
<li><p class="first">df.info() now honors the option <tt class="docutils literal"><span class="pre">max_info_rows</span></tt>, to disable null counts for large frames (<a class="reference external" href="https://github.com/pydata/pandas/issues/5974">GH5974</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [7]: </span><span class="n">max_info_rows</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s">&#39;max_info_rows&#39;</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="gp">   ...:</span>                     <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="gp">   ...:</span>                     <span class="n">C</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">)))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [9]: </span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="c"># set to not display the null counts</span>
<span class="gp">In [10]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;max_info_rows&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">Int64Index: 10 entries, 0 to 9</span>
<span class="go">Data columns (total 3 columns):</span>
<span class="go">A    float64</span>
<span class="go">B    float64</span>
<span class="go">C    datetime64[ns]</span>
<span class="go">dtypes: datetime64[ns](1), float64(2)</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="c"># this is the default (same as in 0.13.0)</span>
<span class="gp">In [12]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;max_info_rows&#39;</span><span class="p">,</span><span class="n">max_info_rows</span><span class="p">)</span>

<span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">Int64Index: 10 entries, 0 to 9</span>
<span class="go">Data columns (total 3 columns):</span>
<span class="go">A    7 non-null float64</span>
<span class="go">B    10 non-null float64</span>
<span class="go">C    7 non-null datetime64[ns]</span>
<span class="go">dtypes: datetime64[ns](1), float64(2)</span>
</pre></div>
</div>
</li>
<li><p class="first">Add <tt class="docutils literal"><span class="pre">show_dimensions</span></tt> display option for the new DataFrame repr to control whether the dimensions print.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [14]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>

<span class="gp">In [15]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;show_dimensions&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">df</span>
<span class="gr">Out[16]: </span>
<span class="go">   0  1</span>
<span class="go">0  1  2</span>
<span class="go">1  3  4</span>

<span class="gp">In [17]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;show_dimensions&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">df</span>
<span class="gr">Out[18]: </span>
<span class="go">   0  1</span>
<span class="go">0  1  2</span>
<span class="go">1  3  4</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">ArrayFormatter</span></tt> for <tt class="docutils literal"><span class="pre">datetime</span></tt> and <tt class="docutils literal"><span class="pre">timedelta64</span></tt> now intelligently
limit precision based on the values in the array (<a class="reference external" href="https://github.com/pydata/pandas/issues/3401">GH3401</a>)</p>
<p>Previously output might look like:</p>
<div class="highlight-python"><div class="highlight"><pre>  <span class="n">age</span>                 <span class="n">today</span>               <span class="n">diff</span>
<span class="mi">0</span> <span class="mi">2001</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">2013</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">19</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">4491</span> <span class="n">days</span><span class="p">,</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>
<span class="mi">1</span> <span class="mi">2004</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">2013</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">19</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">3244</span> <span class="n">days</span><span class="p">,</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>
</pre></div>
</div>
<p>Now the output looks like:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [19]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;20010101&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                  <span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;20040601&#39;</span><span class="p">)</span> <span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;age&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [20]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;today&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;20130419&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">&#39;today&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">df</span><span class="p">[</span><span class="s">&#39;age&#39;</span><span class="p">]</span>

<span class="gp">In [22]: </span><span class="n">df</span>
<span class="gr">Out[22]: </span>
<span class="go">         age      today      diff</span>
<span class="go">0 2001-01-01 2013-04-19 4491 days</span>
<span class="go">1 2004-06-01 2013-04-19 3244 days</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="api-changes">
<h3>API changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Add <tt class="docutils literal"><span class="pre">-NaN</span></tt> and <tt class="docutils literal"><span class="pre">-nan</span></tt> to the default set of NA values (<a class="reference external" href="https://github.com/pydata/pandas/issues/5952">GH5952</a>).
See <a class="reference internal" href="io.html#io-na-values"><em>NA Values</em></a>.</p>
</li>
<li><p class="first">Added <tt class="docutils literal"><span class="pre">Series.str.get_dummies</span></tt> vectorized string method (<a class="reference external" href="https://github.com/pydata/pandas/issues/6021">GH6021</a>), to extract
dummy/indicator variables for separated string columns:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [23]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;a|b&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s">&#39;a|c&#39;</span><span class="p">])</span>

<span class="gp">In [24]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s">&#39;|&#39;</span><span class="p">)</span>
<span class="gr">Out[24]: </span>
<span class="go">   a  b  c</span>
<span class="go">0  1  0  0</span>
<span class="go">1  1  1  0</span>
<span class="go">2  0  0  0</span>
<span class="go">3  1  0  1</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Added the <tt class="docutils literal"><span class="pre">NDFrame.equals()</span></tt> method to compare if two NDFrames are
equal have equal axes, dtypes, and values. Added the
<tt class="docutils literal"><span class="pre">array_equivalent</span></tt> function to compare if two ndarrays are
equal. NaNs in identical locations are treated as
equal. (<a class="reference external" href="https://github.com/pydata/pandas/issues/5283">GH5283</a>) See also <a class="reference internal" href="basics.html#basics-equals"><em>the docs</em></a> for a motivating example.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;col&#39;</span><span class="p">:[</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="gp">In [26]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;col&#39;</span><span class="p">:[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="gp">In [27]: </span><span class="n">df</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gr">Out[27]: </span><span class="bp">True</span>

<span class="gp">In [28]: </span><span class="kn">import</span> <span class="nn">pandas.core.common</span> <span class="kn">as</span> <span class="nn">com</span>

<span class="gp">In [29]: </span><span class="n">com</span><span class="o">.</span><span class="n">array_equivalent</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]))</span>
<span class="gr">Out[29]: </span><span class="bp">True</span>

<span class="gp">In [30]: </span><span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]))</span>
<span class="gr">Out[30]: </span><span class="bp">False</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DataFrame.apply</span></tt> will use the <tt class="docutils literal"><span class="pre">reduce</span></tt> argument to determine whether a
<tt class="docutils literal"><span class="pre">Series</span></tt> or a <tt class="docutils literal"><span class="pre">DataFrame</span></tt> should be returned when the <tt class="docutils literal"><span class="pre">DataFrame</span></tt> is
empty (<a class="reference external" href="https://github.com/pydata/pandas/issues/6007">GH6007</a>).</p>
<p>Previously, calling <tt class="docutils literal"><span class="pre">DataFrame.apply</span></tt> an empty <tt class="docutils literal"><span class="pre">DataFrame</span></tt> would return
either a <tt class="docutils literal"><span class="pre">DataFrame</span></tt> if there were no columns, or the function being
applied would be called with an empty <tt class="docutils literal"><span class="pre">Series</span></tt> to guess whether a
<tt class="docutils literal"><span class="pre">Series</span></tt> or <tt class="docutils literal"><span class="pre">DataFrame</span></tt> should be returned:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [31]: </span><span class="k">def</span> <span class="nf">applied_func</span><span class="p">(</span><span class="n">col</span><span class="p">):</span>
<span class="gp">   ....:</span>    <span class="k">print</span> <span class="s">&quot;Apply function being called with:&quot;</span><span class="p">,</span> <span class="n">col</span>
<span class="gp">   ....:</span>    <span class="k">return</span> <span class="n">col</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gp">   ....:</span> 

<span class="gp">In [32]: </span><span class="n">empty</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">])</span>

<span class="gp">In [33]: </span><span class="n">empty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">applied_func</span><span class="p">)</span>
<span class="go">Apply function being called with: Series([], dtype: float64)</span>
<span class="gr">Out[33]: </span>
<span class="go">a   NaN</span>
<span class="go">b   NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Now, when <tt class="docutils literal"><span class="pre">apply</span></tt> is called on an empty <tt class="docutils literal"><span class="pre">DataFrame</span></tt>: if the <tt class="docutils literal"><span class="pre">reduce</span></tt>
argument is <tt class="docutils literal"><span class="pre">True</span></tt> a <tt class="docutils literal"><span class="pre">Series</span></tt> will returned, if it is <tt class="docutils literal"><span class="pre">False</span></tt> a
<tt class="docutils literal"><span class="pre">DataFrame</span></tt> will be returned, and if it is <tt class="docutils literal"><span class="pre">None</span></tt> (the default) the
function being applied will be called with an empty series to try and guess
the return type.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [34]: </span><span class="n">empty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">applied_func</span><span class="p">,</span> <span class="nb">reduce</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[34]: </span>
<span class="go">a   NaN</span>
<span class="go">b   NaN</span>
<span class="go">dtype: float64</span>

<span class="gp">In [35]: </span><span class="n">empty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">applied_func</span><span class="p">,</span> <span class="nb">reduce</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[35]: </span>
<span class="go">Empty DataFrame</span>
<span class="go">Columns: [a, b]</span>
<span class="go">Index: []</span>

<span class="go">[0 rows x 2 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="prior-version-deprecations-changes">
<h3>Prior Version Deprecations/Changes<a class="headerlink" href="#prior-version-deprecations-changes" title="Permalink to this headline">¶</a></h3>
<p>There are no announced changes in 0.13 or prior that are taking effect as of 0.13.1</p>
</div>
<div class="section" id="deprecations">
<h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h3>
<p>There are no deprecations of prior behavior in 0.13.1</p>
</div>
<div class="section" id="enhancements">
<h3>Enhancements<a class="headerlink" href="#enhancements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">pd.read_csv</span></tt> and <tt class="docutils literal"><span class="pre">pd.to_datetime</span></tt> learned a new <tt class="docutils literal"><span class="pre">infer_datetime_format</span></tt> keyword which greatly
improves parsing perf in many cases. Thanks to &#64;lexual for suggesting and &#64;danbirken
for rapidly implementing. (<a class="reference external" href="https://github.com/pydata/pandas/issues/5490">GH5490</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/6021">GH6021</a>)</p>
<p>If <tt class="docutils literal"><span class="pre">parse_dates</span></tt> is enabled and this flag is set, pandas will attempt to
infer the format of the datetime strings in the columns, and if it can
be inferred, switch to a faster method of parsing them.  In some cases
this can increase the parsing speed by ~5-10x.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Try to infer the format for the index column</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&#39;foo.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                 <span class="n">infer_datetime_format</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">date_format</span></tt> and <tt class="docutils literal"><span class="pre">datetime_format</span></tt> keywords can now be specified when writing to <tt class="docutils literal"><span class="pre">excel</span></tt>
files (<a class="reference external" href="https://github.com/pydata/pandas/issues/4133">GH4133</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">MultiIndex.from_product</span></tt> convenience function for creating a MultiIndex from
the cartesian product of a set of iterables (<a class="reference external" href="https://github.com/pydata/pandas/issues/6055">GH6055</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [36]: </span><span class="n">shades</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;light&#39;</span><span class="p">,</span> <span class="s">&#39;dark&#39;</span><span class="p">]</span>

<span class="gp">In [37]: </span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">,</span> <span class="s">&#39;blue&#39;</span><span class="p">]</span>

<span class="gp">In [38]: </span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">shades</span><span class="p">,</span> <span class="n">colors</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;shade&#39;</span><span class="p">,</span> <span class="s">&#39;color&#39;</span><span class="p">])</span>
<span class="gr">Out[38]: </span>
<span class="go">MultiIndex(levels=[[u&#39;dark&#39;, u&#39;light&#39;], [u&#39;blue&#39;, u&#39;green&#39;, u&#39;red&#39;]],</span>
<span class="go">           labels=[[1, 1, 1, 0, 0, 0], [2, 1, 0, 2, 1, 0]],</span>
<span class="go">           names=[u&#39;shade&#39;, u&#39;color&#39;])</span>
</pre></div>
</div>
</li>
<li><p class="first">Panel <a class="reference internal" href="generated/pandas.Panel.apply.html#pandas.Panel.apply" title="pandas.Panel.apply"><tt class="xref py py-meth docutils literal"><span class="pre">apply()</span></tt></a> will work on non-ufuncs. See <a class="reference internal" href="basics.html#basics-apply-panel"><em>the docs</em></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [39]: </span><span class="kn">import</span> <span class="nn">pandas.util.testing</span> <span class="kn">as</span> <span class="nn">tm</span>

<span class="gp">In [40]: </span><span class="n">panel</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">makePanel</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">In [41]: </span><span class="n">panel</span>
<span class="gr">Out[41]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="gp">In [42]: </span><span class="n">panel</span><span class="p">[</span><span class="s">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[42]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03 -0.700262 -0.159861 -0.178315  1.495435</span>
<span class="go">2000-01-04 -0.237922  0.286230  0.386127  1.785587</span>
<span class="go">2000-01-05  0.803216 -0.311358  0.309259  1.135875</span>
<span class="go">2000-01-06  0.323302  1.144951 -0.328860  0.699592</span>
<span class="go">2000-01-07 -0.419578 -0.726740  0.056344  0.245373</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
<p>Specifying an <tt class="docutils literal"><span class="pre">apply</span></tt> that operates on a Series (to return a single element)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [43]: </span><span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s">&#39;items&#39;</span><span class="p">)</span>
<span class="gr">Out[43]: </span>
<span class="go">                  A        B        C        D</span>
<span class="go">2000-01-03  float64  float64  float64  float64</span>
<span class="go">2000-01-04  float64  float64  float64  float64</span>
<span class="go">2000-01-05  float64  float64  float64  float64</span>
<span class="go">2000-01-06  float64  float64  float64  float64</span>
<span class="go">2000-01-07  float64  float64  float64  float64</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
<p>A similar reduction type operation</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [44]: </span><span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">axis</span><span class="o">=</span><span class="s">&#39;major_axis&#39;</span><span class="p">)</span>
<span class="gr">Out[44]: </span>
<span class="go">      ItemA     ItemB     ItemC</span>
<span class="go">A -0.231243  1.074220  0.542019</span>
<span class="go">B  0.233222  0.968872 -4.067618</span>
<span class="go">C  0.244554  2.925382 -1.702876</span>
<span class="go">D  5.361861 -0.725465 -2.106863</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<p>This is equivalent to</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [45]: </span><span class="n">panel</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s">&#39;major_axis&#39;</span><span class="p">)</span>
<span class="gr">Out[45]: </span>
<span class="go">      ItemA     ItemB     ItemC</span>
<span class="go">A -0.231243  1.074220  0.542019</span>
<span class="go">B  0.233222  0.968872 -4.067618</span>
<span class="go">C  0.244554  2.925382 -1.702876</span>
<span class="go">D  5.361861 -0.725465 -2.106863</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<p>A transformation operation that returns a Panel, but is computing
the z-score across the major_axis</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [46]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
<span class="gp">   ....:</span>            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span>
<span class="gp">   ....:</span>            <span class="n">axis</span><span class="o">=</span><span class="s">&#39;major_axis&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [47]: </span><span class="n">result</span>
<span class="gr">Out[47]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="gp">In [48]: </span><span class="n">result</span><span class="p">[</span><span class="s">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[48]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03 -1.081788 -0.289691 -0.741235  0.687524</span>
<span class="go">2000-01-04 -0.317043  0.336096  1.100033  1.159054</span>
<span class="go">2000-01-05  1.405080 -0.502213  0.849282  0.103199</span>
<span class="go">2000-01-06  0.611265  1.540729 -1.232327 -0.605810</span>
<span class="go">2000-01-07 -0.617515 -1.084921  0.024246 -1.343967</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Panel <a class="reference internal" href="generated/pandas.Panel.apply.html#pandas.Panel.apply" title="pandas.Panel.apply"><tt class="xref py py-meth docutils literal"><span class="pre">apply()</span></tt></a> operating on cross-sectional slabs. (<a class="reference external" href="https://github.com/pydata/pandas/issues/1148">GH1148</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [49]: </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">((</span><span class="n">x</span><span class="o">.</span><span class="n">T</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>

<span class="gp">In [50]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;items&#39;</span><span class="p">,</span><span class="s">&#39;major_axis&#39;</span><span class="p">])</span>

<span class="gp">In [51]: </span><span class="n">result</span>
<span class="gr">Out[51]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 4 (items) x 5 (major_axis) x 3 (minor_axis)</span>
<span class="go">Items axis: A to D</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: ItemA to ItemC</span>

<span class="gp">In [52]: </span><span class="n">result</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[52]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03 -0.842839  0.453596 -0.199453  0.822702</span>
<span class="go">2000-01-04 -1.013312 -1.058639  0.769984  0.974988</span>
<span class="go">2000-01-05  1.140828  0.267052 -0.593754  1.121503</span>
<span class="go">2000-01-06  0.630766  1.073118 -0.687542  1.008418</span>
<span class="go">2000-01-07 -0.895065 -0.181779 -0.162569 -0.052844</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
<p>This is equivalent to the following</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [53]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="nb">dict</span><span class="p">([</span> <span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="n">panel</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="n">ax</span><span class="p">]))</span>
<span class="gp">   ....:</span>                         <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">panel</span><span class="o">.</span><span class="n">minor_axis</span> <span class="p">]))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [54]: </span><span class="n">result</span>
<span class="gr">Out[54]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 4 (items) x 5 (major_axis) x 3 (minor_axis)</span>
<span class="go">Items axis: A to D</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: ItemA to ItemC</span>

<span class="gp">In [55]: </span><span class="n">result</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[55]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03 -0.842839  0.453596 -0.199453  0.822702</span>
<span class="go">2000-01-04 -1.013312 -1.058639  0.769984  0.974988</span>
<span class="go">2000-01-05  1.140828  0.267052 -0.593754  1.121503</span>
<span class="go">2000-01-06  0.630766  1.073118 -0.687542  1.008418</span>
<span class="go">2000-01-07 -0.895065 -0.181779 -0.162569 -0.052844</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="performance">
<h3>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h3>
<p>Performance improvements for 0.13.1</p>
<ul class="simple">
<li>Series datetime/timedelta binary operations (<a class="reference external" href="https://github.com/pydata/pandas/issues/5801">GH5801</a>)</li>
<li>DataFrame <tt class="docutils literal"><span class="pre">count/dropna</span></tt> for <tt class="docutils literal"><span class="pre">axis=1</span></tt></li>
<li>Series.str.contains now has a <cite>regex=False</cite> keyword which can be faster for plain (non-regex) string patterns. (<a class="reference external" href="https://github.com/pydata/pandas/issues/5879">GH5879</a>)</li>
<li>Series.str.extract (<a class="reference external" href="https://github.com/pydata/pandas/issues/5944">GH5944</a>)</li>
<li><tt class="docutils literal"><span class="pre">dtypes/ftypes</span></tt> methods (<a class="reference external" href="https://github.com/pydata/pandas/issues/5968">GH5968</a>)</li>
<li>indexing with object dtypes (<a class="reference external" href="https://github.com/pydata/pandas/issues/5968">GH5968</a>)</li>
<li><tt class="docutils literal"><span class="pre">DataFrame.apply</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/6013">GH6013</a>)</li>
<li>Regression in JSON IO (<a class="reference external" href="https://github.com/pydata/pandas/issues/5765">GH5765</a>)</li>
<li>Index construction from Series (<a class="reference external" href="https://github.com/pydata/pandas/issues/6150">GH6150</a>)</li>
</ul>
</div>
<div class="section" id="experimental">
<h3>Experimental<a class="headerlink" href="#experimental" title="Permalink to this headline">¶</a></h3>
<p>There are no experimental changes in 0.13.1</p>
</div>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="release.html#release-bug-fixes-0-13-1"><em>V0.13.1 Bug Fixes</em></a> for an extensive list of bugs that have been fixed in 0.13.1.</p>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list of all API changes, Enhancements and Bug Fixes.</p>
</div>
</div>
<div class="section" id="v0-13-0-january-3-2014">
<span id="whatsnew-0130"></span><h2>v0.13.0 (January 3, 2014)<a class="headerlink" href="#v0-13-0-january-3-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.12.0 and includes a number of API changes, several new features and
enhancements along with a large number of bug fixes.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>support for a new index type <tt class="docutils literal"><span class="pre">Float64Index</span></tt>, and other Indexing enhancements</li>
<li><tt class="docutils literal"><span class="pre">HDFStore</span></tt> has a new string based syntax for query specification</li>
<li>support for new methods of interpolation</li>
<li>updated <tt class="docutils literal"><span class="pre">timedelta</span></tt> operations</li>
<li>a new string manipulation method <tt class="docutils literal"><span class="pre">extract</span></tt></li>
<li>Nanosecond support for Offsets</li>
<li><tt class="docutils literal"><span class="pre">isin</span></tt> for DataFrames</li>
</ul>
<p>Several experimental features are added, including:</p>
<ul class="simple">
<li>new <tt class="docutils literal"><span class="pre">eval/query</span></tt> methods for expression evaluation</li>
<li>support for <tt class="docutils literal"><span class="pre">msgpack</span></tt> serialization</li>
<li>an i/o interface to Google&#8217;s <tt class="docutils literal"><span class="pre">BigQuery</span></tt></li>
</ul>
<p>Their are several new or updated docs sections including:</p>
<ul class="simple">
<li><a class="reference internal" href="comparison_with_sql.html#compare-with-sql"><em>Comparison with SQL</em></a>, which should be useful for those familiar with SQL but still learning pandas.</li>
<li><a class="reference internal" href="comparison_with_r.html#compare-with-r"><em>Comparison with R</em></a>, idiom translations from R to pandas.</li>
<li><a class="reference internal" href="enhancingperf.html#enhancingperf"><em>Enhancing Performance</em></a>, ways to enhance pandas performance with <tt class="docutils literal"><span class="pre">eval/query</span></tt>.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In 0.13.0 <tt class="docutils literal"><span class="pre">Series</span></tt> has internally been refactored to no longer sub-class <tt class="docutils literal"><span class="pre">ndarray</span></tt>
but instead subclass <tt class="docutils literal"><span class="pre">NDFrame</span></tt>, similar to the rest of the pandas containers. This should be
a transparent change with only very limited API implications. See <a class="reference internal" href="#whatsnew-0130-refactoring"><em>Internal Refactoring</em></a></p>
</div>
<div class="section" id="id1">
<h3>API changes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_excel</span></tt> now supports an integer in its <tt class="docutils literal"><span class="pre">sheetname</span></tt> argument giving
the index of the sheet to read in (<a class="reference external" href="https://github.com/pydata/pandas/issues/4301">GH4301</a>).</p>
</li>
<li><p class="first">Text parser now treats anything that reads like inf (&#8220;inf&#8221;, &#8220;Inf&#8221;, &#8220;-Inf&#8221;,
&#8220;iNf&#8221;, etc.) as infinity. (<a class="reference external" href="https://github.com/pydata/pandas/issues/4220">GH4220</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4219">GH4219</a>), affecting
<tt class="docutils literal"><span class="pre">read_table</span></tt>, <tt class="docutils literal"><span class="pre">read_csv</span></tt>, etc.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">pandas</span></tt> now is Python 2/3 compatible without the need for 2to3 thanks to
&#64;jtratner. As a result, pandas now uses iterators more extensively. This
also led to the introduction of substantive parts of the Benjamin
Peterson&#8217;s <tt class="docutils literal"><span class="pre">six</span></tt> library into compat. (<a class="reference external" href="https://github.com/pydata/pandas/issues/4384">GH4384</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4375">GH4375</a>,
<a class="reference external" href="https://github.com/pydata/pandas/issues/4372">GH4372</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">pandas.util.compat</span></tt> and <tt class="docutils literal"><span class="pre">pandas.util.py3compat</span></tt> have been merged into
<tt class="docutils literal"><span class="pre">pandas.compat</span></tt>. <tt class="docutils literal"><span class="pre">pandas.compat</span></tt> now includes many functions allowing
2/3 compatibility. It contains both list and iterator versions of range,
filter, map and zip, plus other necessary elements for Python 3
compatibility. <tt class="docutils literal"><span class="pre">lmap</span></tt>, <tt class="docutils literal"><span class="pre">lzip</span></tt>, <tt class="docutils literal"><span class="pre">lrange</span></tt> and <tt class="docutils literal"><span class="pre">lfilter</span></tt> all produce
lists instead of iterators, for compatibility with <tt class="docutils literal"><span class="pre">numpy</span></tt>, subscripting
and <tt class="docutils literal"><span class="pre">pandas</span></tt> constructors.(<a class="reference external" href="https://github.com/pydata/pandas/issues/4384">GH4384</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4375">GH4375</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4372">GH4372</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series.get</span></tt> with negative indexers now returns the same as <tt class="docutils literal"><span class="pre">[]</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4390">GH4390</a>)</p>
</li>
<li><p class="first">Changes to how <tt class="docutils literal"><span class="pre">Index</span></tt> and <tt class="docutils literal"><span class="pre">MultiIndex</span></tt> handle metadata (<tt class="docutils literal"><span class="pre">levels</span></tt>,
<tt class="docutils literal"><span class="pre">labels</span></tt>, and <tt class="docutils literal"><span class="pre">names</span></tt>) (<a class="reference external" href="https://github.com/pydata/pandas/issues/4039">GH4039</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># previously, you would have set levels or labels directly</span>
<span class="n">index</span><span class="o">.</span><span class="n">levels</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>

<span class="c"># now, you use the set_levels or set_labels methods</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">set_levels</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>

<span class="c"># similarly, for names, you can rename the object</span>
<span class="c"># but setting names is not deprecated</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">set_names</span><span class="p">([</span><span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;cranberry&quot;</span><span class="p">])</span>

<span class="c"># and all methods take an inplace kwarg - but return None</span>
<span class="n">index</span><span class="o">.</span><span class="n">set_names</span><span class="p">([</span><span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;cranberry&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>All</strong> division with <tt class="docutils literal"><span class="pre">NDFrame</span></tt> objects is now <em>truedivision</em>, regardless
of the future import. This means that operating on pandas objects will by default
use <em>floating point</em> division, and return a floating point dtype.
You can use <tt class="docutils literal"><span class="pre">//</span></tt> and <tt class="docutils literal"><span class="pre">floordiv</span></tt> to do integer division.</p>
<p>Integer division</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">arr</span> <span class="o">/</span> <span class="n">arr2</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">Series</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">//</span> <span class="n">Series</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span>
<span class="mi">0</span>    <span class="mi">0</span>
<span class="mi">1</span>    <span class="mi">0</span>
<span class="mi">2</span>    <span class="mi">1</span>
<span class="mi">3</span>    <span class="mi">4</span>
<span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</pre></div>
</div>
<p>True Division</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span> <span class="c"># no future import required</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span>
<span class="mi">0</span>    <span class="mf">0.200000</span>
<span class="mi">1</span>    <span class="mf">0.666667</span>
<span class="mi">2</span>    <span class="mf">1.500000</span>
<span class="mi">3</span>    <span class="mf">4.000000</span>
<span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Infer and downcast dtype if <tt class="docutils literal"><span class="pre">downcast='infer'</span></tt> is passed to <tt class="docutils literal"><span class="pre">fillna/ffill/bfill</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4604">GH4604</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">__nonzero__</span></tt> for all NDFrame objects, will now raise a <tt class="docutils literal"><span class="pre">ValueError</span></tt>, this reverts back to (<a class="reference external" href="https://github.com/pydata/pandas/issues/1073">GH1073</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4633">GH4633</a>)
behavior. See <a class="reference internal" href="gotchas.html#gotchas-truth"><em>gotchas</em></a> for a more detailed discussion.</p>
<p>This prevents doing boolean comparison on <em>entire</em> pandas objects, which is inherently ambiguous. These all will raise a <tt class="docutils literal"><span class="pre">ValueError</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">df</span><span class="p">:</span>
   <span class="o">....</span>
<span class="n">df1</span> <span class="ow">and</span> <span class="n">df2</span>
<span class="n">s1</span> <span class="ow">and</span> <span class="n">s2</span>
</pre></div>
</div>
<p>Added the <tt class="docutils literal"><span class="pre">.bool()</span></tt> method to <tt class="docutils literal"><span class="pre">NDFrame</span></tt> objects to facilitate evaluating of single-element boolean Series:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">Series</span><span class="p">([</span><span class="bp">True</span><span class="p">])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[1]: </span><span class="bp">True</span>

<span class="gp">In [2]: </span><span class="n">Series</span><span class="p">([</span><span class="bp">False</span><span class="p">])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[2]: </span><span class="bp">False</span>

<span class="gp">In [3]: </span><span class="n">DataFrame</span><span class="p">([[</span><span class="bp">True</span><span class="p">]])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[3]: </span><span class="bp">True</span>

<span class="gp">In [4]: </span><span class="n">DataFrame</span><span class="p">([[</span><span class="bp">False</span><span class="p">]])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[4]: </span><span class="bp">False</span>
</pre></div>
</div>
</li>
<li><p class="first">All non-Index NDFrames (<tt class="docutils literal"><span class="pre">Series</span></tt>, <tt class="docutils literal"><span class="pre">DataFrame</span></tt>, <tt class="docutils literal"><span class="pre">Panel</span></tt>, <tt class="docutils literal"><span class="pre">Panel4D</span></tt>,
<tt class="docutils literal"><span class="pre">SparsePanel</span></tt>, etc.), now support the entire set of arithmetic operators
and arithmetic flex methods (add, sub, mul, etc.). <tt class="docutils literal"><span class="pre">SparsePanel</span></tt> does not
support <tt class="docutils literal"><span class="pre">pow</span></tt> or <tt class="docutils literal"><span class="pre">mod</span></tt> with non-scalars. (<a class="reference external" href="https://github.com/pydata/pandas/issues/3765">GH3765</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series</span></tt> and <tt class="docutils literal"><span class="pre">DataFrame</span></tt> now have a <tt class="docutils literal"><span class="pre">mode()</span></tt> method to calculate the
statistical mode(s) by axis/Series. (<a class="reference external" href="https://github.com/pydata/pandas/issues/5367">GH5367</a>)</p>
</li>
<li><p class="first">Chained assignment will now by default warn if the user is assigning to a copy. This can be changed
with the option <tt class="docutils literal"><span class="pre">mode.chained_assignment</span></tt>, allowed options are <tt class="docutils literal"><span class="pre">raise/warn/None</span></tt>. See <a class="reference internal" href="indexing.html#indexing-view-versus-copy"><em>the docs</em></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [5]: </span><span class="n">dfc</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;A&#39;</span><span class="p">:[</span><span class="s">&#39;aaa&#39;</span><span class="p">,</span><span class="s">&#39;bbb&#39;</span><span class="p">,</span><span class="s">&#39;ccc&#39;</span><span class="p">],</span><span class="s">&#39;B&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [6]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;chained_assignment&#39;</span><span class="p">,</span><span class="s">&#39;warn&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The following warning / exception will show if this is attempted.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [7]: </span><span class="n">dfc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1111</span>
</pre></div>
</div>
<div class="highlight-python"><pre>Traceback (most recent call last)
   ...
SettingWithCopyWarning:
   A value is trying to be set on a copy of a slice from a DataFrame.
   Try using .loc[row_index,col_indexer] = value instead</pre>
</div>
<p>Here is the correct method of assignment.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [8]: </span><span class="n">dfc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span>

<span class="gp">In [9]: </span><span class="n">dfc</span>
<span class="gr">Out[9]: </span>
<span class="go">     A  B</span>
<span class="go">0   11  1</span>
<span class="go">1  bbb  2</span>
<span class="go">2  ccc  3</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">Panel.reindex</span></tt> has the following call signature <tt class="docutils literal"><span class="pre">Panel.reindex(items=None,</span> <span class="pre">major_axis=None,</span> <span class="pre">minor_axis=None,</span> <span class="pre">**kwargs)</span></tt></dt>
<dd><p class="first last">to conform with other <tt class="docutils literal"><span class="pre">NDFrame</span></tt> objects. See <a class="reference internal" href="#whatsnew-0130-refactoring"><em>Internal Refactoring</em></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">Series.argmin</span></tt> and <tt class="docutils literal"><span class="pre">Series.argmax</span></tt> are now aliased to <tt class="docutils literal"><span class="pre">Series.idxmin</span></tt> and <tt class="docutils literal"><span class="pre">Series.idxmax</span></tt>. These return the <em>index</em> of the</dt>
<dd><p class="first last">min or max element respectively. Prior to 0.13.0 these would return the position of the min / max element. (<a class="reference external" href="https://github.com/pydata/pandas/issues/6214">GH6214</a>)</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Prior Version Deprecations/Changes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>These were announced changes in 0.12 or prior that are taking effect as of 0.13.0</p>
<ul class="simple">
<li>Remove deprecated <tt class="docutils literal"><span class="pre">Factor</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/3650">GH3650</a>)</li>
<li>Remove deprecated <tt class="docutils literal"><span class="pre">set_printoptions/reset_printoptions</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/3046">GH3046</a>)</li>
<li>Remove deprecated <tt class="docutils literal"><span class="pre">_verbose_info</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/3215">GH3215</a>)</li>
<li>Remove deprecated <tt class="docutils literal"><span class="pre">read_clipboard/to_clipboard/ExcelFile/ExcelWriter</span></tt> from <tt class="docutils literal"><span class="pre">pandas.io.parsers</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/3717">GH3717</a>)
These are available as functions in the main pandas namespace (e.g. <tt class="docutils literal"><span class="pre">pd.read_clipboard</span></tt>)</li>
<li>default for <tt class="docutils literal"><span class="pre">tupleize_cols</span></tt> is now <tt class="docutils literal"><span class="pre">False</span></tt> for both <tt class="docutils literal"><span class="pre">to_csv</span></tt> and <tt class="docutils literal"><span class="pre">read_csv</span></tt>. Fair warning in 0.12 (<a class="reference external" href="https://github.com/pydata/pandas/issues/3604">GH3604</a>)</li>
<li>default for <cite>display.max_seq_len</cite> is now 100 rather then <cite>None</cite>. This activates
truncated display (&#8221;...&#8221;) of long sequences in various places. (<a class="reference external" href="https://github.com/pydata/pandas/issues/3391">GH3391</a>)</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Deprecations<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Deprecated in 0.13.0</p>
<ul class="simple">
<li>deprecated <tt class="docutils literal"><span class="pre">iterkv</span></tt>, which will be removed in a future release (this was
an alias of iteritems used to bypass <tt class="docutils literal"><span class="pre">2to3</span></tt>&#8216;s changes).
(<a class="reference external" href="https://github.com/pydata/pandas/issues/4384">GH4384</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4375">GH4375</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4372">GH4372</a>)</li>
<li>deprecated the string method <tt class="docutils literal"><span class="pre">match</span></tt>, whose role is now performed more
idiomatically by <tt class="docutils literal"><span class="pre">extract</span></tt>. In a future release, the default behavior
of <tt class="docutils literal"><span class="pre">match</span></tt> will change to become analogous to <tt class="docutils literal"><span class="pre">contains</span></tt>, which returns
a boolean indexer. (Their
distinction is strictness: <tt class="docutils literal"><span class="pre">match</span></tt> relies on <tt class="docutils literal"><span class="pre">re.match</span></tt> while
<tt class="docutils literal"><span class="pre">contains</span></tt> relies on <tt class="docutils literal"><span class="pre">re.search</span></tt>.) In this release, the deprecated
behavior is the default, but the new behavior is available through the
keyword argument <tt class="docutils literal"><span class="pre">as_indexer=True</span></tt>.</li>
</ul>
</div>
<div class="section" id="indexing-api-changes">
<h3>Indexing API Changes<a class="headerlink" href="#indexing-api-changes" title="Permalink to this headline">¶</a></h3>
<p>Prior to 0.13, it was impossible to use a label indexer (<tt class="docutils literal"><span class="pre">.loc/.ix</span></tt>) to set a value that
was not contained in the index of a particular axis. (<a class="reference external" href="https://github.com/pydata/pandas/issues/2578">GH2578</a>). See <a class="reference internal" href="indexing.html#indexing-basics-partial-setting"><em>the docs</em></a></p>
<p>In the <tt class="docutils literal"><span class="pre">Series</span></tt> case this is effectively an appending operation</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [10]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>

<span class="gp">In [11]: </span><span class="n">s</span>
<span class="gr">Out[11]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [12]: </span><span class="n">s</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mf">5.</span>

<span class="gp">In [13]: </span><span class="n">s</span>
<span class="gr">Out[13]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">5    5</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [14]: </span><span class="n">dfi</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....:</span>                 <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [15]: </span><span class="n">dfi</span>
<span class="gr">Out[15]: </span>
<span class="go">   A  B</span>
<span class="go">0  0  1</span>
<span class="go">1  2  3</span>
<span class="go">2  4  5</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>This would previously <tt class="docutils literal"><span class="pre">KeyError</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [16]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s">&#39;C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfi</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s">&#39;A&#39;</span><span class="p">]</span>

<span class="gp">In [17]: </span><span class="n">dfi</span>
<span class="gr">Out[17]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  0  1  0</span>
<span class="go">1  2  3  2</span>
<span class="go">2  4  5  4</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<p>This is like an <tt class="docutils literal"><span class="pre">append</span></tt> operation.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [18]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>

<span class="gp">In [19]: </span><span class="n">dfi</span>
<span class="gr">Out[19]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  0  1  0</span>
<span class="go">1  2  3  2</span>
<span class="go">2  4  5  4</span>
<span class="go">3  5  5  5</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<p>A Panel setting operation on an arbitrary axis aligns the input to the Panel</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [20]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Item1&#39;</span><span class="p">,</span><span class="s">&#39;Item2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>             <span class="n">major_axis</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;2001/1/12&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s">&#39;float64&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [21]: </span><span class="n">p</span>
<span class="gr">Out[21]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 4 (major_axis) x 2 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2001-01-12 00:00:00 to 2001-01-15 00:00:00</span>
<span class="go">Minor_axis axis: A to B</span>

<span class="gp">In [22]: </span><span class="n">p</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s">&#39;C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span><span class="mi">32</span><span class="p">],</span><span class="n">index</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="n">p</span>
<span class="gr">Out[23]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 4 (major_axis) x 3 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2001-01-12 00:00:00 to 2001-01-15 00:00:00</span>
<span class="go">Minor_axis axis: A to C</span>

<span class="gp">In [24]: </span><span class="n">p</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s">&#39;C&#39;</span><span class="p">]</span>
<span class="gr">Out[24]: </span>
<span class="go">            Item1  Item2</span>
<span class="go">2001-01-12     30     32</span>
<span class="go">2001-01-13     30     32</span>
<span class="go">2001-01-14     30     32</span>
<span class="go">2001-01-15     30     32</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="float64index-api-change">
<h3>Float64Index API Change<a class="headerlink" href="#float64index-api-change" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Added a new index type, <tt class="docutils literal"><span class="pre">Float64Index</span></tt>. This will be automatically created when passing floating values in index creation.
This enables a pure label-based slicing paradigm that makes <tt class="docutils literal"><span class="pre">[],ix,loc</span></tt> for scalar indexing and slicing work exactly the
same. See <a class="reference internal" href="indexing.html#indexing-float64index"><em>the docs</em></a>, (<a class="reference external" href="https://github.com/pydata/pandas/issues/263">GH263</a>)</p>
<p>Construction is by default for floating type values.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>

<span class="gp">In [26]: </span><span class="n">index</span>
<span class="gr">Out[26]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;object&#39;</span><span class="p">)</span>

<span class="gp">In [27]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">s</span>
<span class="gr">Out[28]: </span>
<span class="go">1.5    0</span>
<span class="go">2.0    1</span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">5.0    4</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Scalar selection for <tt class="docutils literal"><span class="pre">[],.ix,.loc</span></tt> will always be label based. An integer will match an equal float index (e.g. <tt class="docutils literal"><span class="pre">3</span></tt> is equivalent to <tt class="docutils literal"><span class="pre">3.0</span></tt>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [29]: </span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[29]: </span><span class="mi">2</span>

<span class="gp">In [30]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[30]: </span><span class="mi">2</span>

<span class="gp">In [31]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[31]: </span><span class="mi">2</span>
</pre></div>
</div>
<p>The only positional indexing is via <tt class="docutils literal"><span class="pre">iloc</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [32]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[32]: </span><span class="mi">3</span>
</pre></div>
</div>
<p>A scalar index that is not found will raise <tt class="docutils literal"><span class="pre">KeyError</span></tt></p>
<p>Slicing is ALWAYS on the values of the index, for <tt class="docutils literal"><span class="pre">[],ix,loc</span></tt> and ALWAYS positional with <tt class="docutils literal"><span class="pre">iloc</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [33]: </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[33]: </span>
<span class="go">2    1</span>
<span class="go">3    2</span>
<span class="go">dtype: int64</span>

<span class="gp">In [34]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[34]: </span>
<span class="go">2    1</span>
<span class="go">3    2</span>
<span class="go">dtype: int64</span>

<span class="gp">In [35]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[35]: </span>
<span class="go">2    1</span>
<span class="go">3    2</span>
<span class="go">dtype: int64</span>

<span class="gp">In [36]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[36]: </span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>In float indexes, slicing using floats are allowed</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [37]: </span><span class="n">s</span><span class="p">[</span><span class="mf">2.1</span><span class="p">:</span><span class="mf">4.6</span><span class="p">]</span>
<span class="gr">Out[37]: </span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [38]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">2.1</span><span class="p">:</span><span class="mf">4.6</span><span class="p">]</span>
<span class="gr">Out[38]: </span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first">Indexing on other index types are preserved (and positional fallback for <tt class="docutils literal"><span class="pre">[],ix</span></tt>), with the exception, that floating point slicing
on indexes on non <tt class="docutils literal"><span class="pre">Float64Index</span></tt> will now raise a <tt class="docutils literal"><span class="pre">TypeError</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.5</span><span class="p">]</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">the</span> <span class="n">label</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">proper</span> <span class="n">indexer</span> <span class="k">for</span> <span class="n">this</span> <span class="n">index</span> <span class="nb">type</span> <span class="p">(</span><span class="n">Int64Index</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.5</span><span class="p">:</span><span class="mf">4.5</span><span class="p">]</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">the</span> <span class="nb">slice</span> <span class="n">start</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">proper</span> <span class="n">indexer</span> <span class="k">for</span> <span class="n">this</span> <span class="n">index</span> <span class="nb">type</span> <span class="p">(</span><span class="n">Int64Index</span><span class="p">)</span>
</pre></div>
</div>
<p>Using a scalar float indexer will be deprecated in a future version, but is allowed for now.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="mi">3</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="hdfstore-api-changes">
<h3>HDFStore API Changes<a class="headerlink" href="#hdfstore-api-changes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Query Format Changes. A much more string-like query format is now supported. See <a class="reference internal" href="io.html#io-hdf5-query"><em>the docs</em></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [39]: </span><span class="n">path</span> <span class="o">=</span> <span class="s">&#39;test.h5&#39;</span>

<span class="gp">In [40]: </span><span class="n">dfq</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>          <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s">&#39;ABCD&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>          <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [41]: </span><span class="n">dfq</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;dfq&#39;</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;table&#39;</span><span class="p">,</span><span class="n">data_columns</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Use boolean expressions, with in-line function evaluation.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [42]: </span><span class="n">read_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;dfq&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>     <span class="n">where</span><span class="o">=</span><span class="s">&quot;index&gt;Timestamp(&#39;20130104&#39;) &amp; columns=[&#39;A&#39;, &#39;B&#39;]&quot;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[42]: </span>
<span class="go">                   A         B</span>
<span class="go">2013-01-05 -0.063353 -1.719595</span>
<span class="go">2013-01-06  1.018307 -1.423334</span>
<span class="go">2013-01-07  0.602286  0.935929</span>
<span class="go">2013-01-08  0.329999  0.894066</span>
<span class="go">2013-01-09 -0.933857 -0.030896</span>
<span class="go">2013-01-10 -0.012390  0.253387</span>

<span class="go">[6 rows x 2 columns]</span>
</pre></div>
</div>
<p>Use an inline column reference</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [43]: </span><span class="n">read_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;dfq&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>     <span class="n">where</span><span class="o">=</span><span class="s">&quot;A&gt;0 or C&gt;0&quot;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[43]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2013-01-01  0.066932 -0.929963  0.304346  0.790176</span>
<span class="go">2013-01-02  0.518267  0.530211  0.289180  1.356091</span>
<span class="go">2013-01-03  0.287746  1.371943 -0.284844  0.866407</span>
<span class="go">2013-01-04  0.229041  0.797449  0.153394  1.250650</span>
<span class="go">2013-01-05 -0.063353 -1.719595  1.078142 -1.157042</span>
<span class="go">2013-01-06  1.018307 -1.423334  0.600642  2.202617</span>
<span class="go">2013-01-07  0.602286  0.935929 -0.091967 -1.086482</span>
<span class="go">2013-01-08  0.329999  0.894066  0.196023  1.355471</span>
<span class="go">2013-01-09 -0.933857 -0.030896  1.850906 -0.402282</span>
<span class="go">2013-01-10 -0.012390  0.253387  0.862390 -0.054772</span>

<span class="go">[10 rows x 4 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">the <tt class="docutils literal"><span class="pre">format</span></tt> keyword now replaces the <tt class="docutils literal"><span class="pre">table</span></tt> keyword; allowed values are <tt class="docutils literal"><span class="pre">fixed(f)</span></tt> or <tt class="docutils literal"><span class="pre">table(t)</span></tt>
the same defaults as prior &lt; 0.13.0 remain, e.g. <tt class="docutils literal"><span class="pre">put</span></tt> implies <tt class="docutils literal"><span class="pre">fixed</span></tt> format and <tt class="docutils literal"><span class="pre">append</span></tt> implies
<tt class="docutils literal"><span class="pre">table</span></tt> format. This default format can be set as an option by setting <tt class="docutils literal"><span class="pre">io.hdf.default_format</span></tt>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [44]: </span><span class="n">path</span> <span class="o">=</span> <span class="s">&#39;test.h5&#39;</span>

<span class="gp">In [45]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="gp">In [46]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;df_table&#39;</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [47]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;df_table2&#39;</span><span class="p">,</span><span class="n">append</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [48]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;df_fixed&#39;</span><span class="p">)</span>

<span class="gp">In [49]: </span><span class="k">with</span> <span class="n">get_store</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">store</span><span class="p">:</span>
<span class="gp">   ....:</span>    <span class="k">print</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df_fixed             frame        (shape-&gt;[10,2])                                       </span>
<span class="go">/df_table             frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
<span class="go">/df_table2            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
</pre></div>
</div>
</li>
<li><p class="first">Significant table writing performance improvements</p>
</li>
<li><p class="first">handle a passed <tt class="docutils literal"><span class="pre">Series</span></tt> in table format (<a class="reference external" href="https://github.com/pydata/pandas/issues/4330">GH4330</a>)</p>
</li>
<li><p class="first">can now serialize a <tt class="docutils literal"><span class="pre">timedelta64[ns]</span></tt> dtype in a table (<a class="reference external" href="https://github.com/pydata/pandas/issues/3577">GH3577</a>), See <a class="reference internal" href="io.html#io-hdf5-timedelta"><em>the docs</em></a>.</p>
</li>
<li><p class="first">added an <tt class="docutils literal"><span class="pre">is_open</span></tt> property to indicate if the underlying file handle is_open;
a closed store will now report &#8216;CLOSED&#8217; when viewing the store (rather than raising an error)
(<a class="reference external" href="https://github.com/pydata/pandas/issues/4409">GH4409</a>)</p>
</li>
<li><p class="first">a close of a <tt class="docutils literal"><span class="pre">HDFStore</span></tt> now will close that instance of the <tt class="docutils literal"><span class="pre">HDFStore</span></tt>
but will only close the actual file if the ref count (by <tt class="docutils literal"><span class="pre">PyTables</span></tt>) w.r.t. all of the open handles
are 0. Essentially you have a local instance of <tt class="docutils literal"><span class="pre">HDFStore</span></tt> referenced by a variable. Once you
close it, it will report closed. Other references (to the same file) will continue to operate
until they themselves are closed. Performing an action on a closed file will raise
<tt class="docutils literal"><span class="pre">ClosedFileError</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [50]: </span><span class="n">path</span> <span class="o">=</span> <span class="s">&#39;test.h5&#39;</span>

<span class="gp">In [51]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="gp">In [52]: </span><span class="n">store1</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="gp">In [53]: </span><span class="n">store2</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="gp">In [54]: </span><span class="n">store1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [55]: </span><span class="n">store2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;df2&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [56]: </span><span class="n">store1</span>
<span class="gr">Out[56]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df             frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
<span class="go">/df2            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>

<span class="gp">In [57]: </span><span class="n">store2</span>
<span class="gr">Out[57]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df             frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
<span class="go">/df2            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>

<span class="gp">In [58]: </span><span class="n">store1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="gp">In [59]: </span><span class="n">store2</span>
<span class="gr">Out[59]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df             frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
<span class="go">/df2            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>

<span class="gp">In [60]: </span><span class="n">store2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="gp">In [61]: </span><span class="n">store2</span>
<span class="gr">Out[61]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">File is CLOSED</span>
</pre></div>
</div>
</li>
<li><p class="first">removed the <tt class="docutils literal"><span class="pre">_quiet</span></tt> attribute, replace by a <tt class="docutils literal"><span class="pre">DuplicateWarning</span></tt> if retrieving
duplicate rows from a table (<a class="reference external" href="https://github.com/pydata/pandas/issues/4367">GH4367</a>)</p>
</li>
<li><p class="first">removed the <tt class="docutils literal"><span class="pre">warn</span></tt> argument from <tt class="docutils literal"><span class="pre">open</span></tt>. Instead a <tt class="docutils literal"><span class="pre">PossibleDataLossError</span></tt> exception will
be raised if you try to use <tt class="docutils literal"><span class="pre">mode='w'</span></tt> with an OPEN file handle (<a class="reference external" href="https://github.com/pydata/pandas/issues/4367">GH4367</a>)</p>
</li>
<li><p class="first">allow a passed locations array or mask as a <tt class="docutils literal"><span class="pre">where</span></tt> condition (<a class="reference external" href="https://github.com/pydata/pandas/issues/4467">GH4467</a>).
See <a class="reference internal" href="io.html#io-hdf5-where-mask"><em>the docs</em></a> for an example.</p>
</li>
<li><p class="first">add the keyword <tt class="docutils literal"><span class="pre">dropna=True</span></tt> to <tt class="docutils literal"><span class="pre">append</span></tt> to change whether ALL nan rows are not written
to the store (default is <tt class="docutils literal"><span class="pre">True</span></tt>, ALL nan rows are NOT written), also settable
via the option <tt class="docutils literal"><span class="pre">io.hdf.dropna_table</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4625">GH4625</a>)</p>
</li>
<li><p class="first">pass thru store creation arguments; can be used to support in-memory stores</p>
</li>
</ul>
</div>
<div class="section" id="dataframe-repr-changes">
<h3>DataFrame repr Changes<a class="headerlink" href="#dataframe-repr-changes" title="Permalink to this headline">¶</a></h3>
<p>The HTML and plain text representations of <a class="reference internal" href="generated/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><tt class="xref py py-class docutils literal"><span class="pre">DataFrame</span></tt></a> now show
a truncated view of the table once it exceeds a certain size, rather
than switching to the short info view (<a class="reference external" href="https://github.com/pydata/pandas/issues/4886">GH4886</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/5550">GH5550</a>).
This makes the representation more consistent as small DataFrames get
larger.</p>
<img alt="Truncated HTML representation of a DataFrame" src="_images/df_repr_truncated.png" />
<p>To get the info view, call <a class="reference internal" href="generated/pandas.DataFrame.info.html#pandas.DataFrame.info" title="pandas.DataFrame.info"><tt class="xref py py-meth docutils literal"><span class="pre">DataFrame.info()</span></tt></a>. If you prefer the
info view as the repr for large DataFrames, you can set this by running
<tt class="docutils literal"><span class="pre">set_option('display.large_repr',</span> <span class="pre">'info')</span></tt>.</p>
</div>
<div class="section" id="id4">
<h3>Enhancements<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">df.to_clipboard()</span></tt> learned a new <tt class="docutils literal"><span class="pre">excel</span></tt> keyword that let&#8217;s you
paste df data directly into excel (enabled by default). (<a class="reference external" href="https://github.com/pydata/pandas/issues/5070">GH5070</a>).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_html</span></tt> now raises a <tt class="docutils literal"><span class="pre">URLError</span></tt> instead of catching and raising a
<tt class="docutils literal"><span class="pre">ValueError</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4303">GH4303</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4305">GH4305</a>)</p>
</li>
<li><p class="first">Added a test for <tt class="docutils literal"><span class="pre">read_clipboard()</span></tt> and <tt class="docutils literal"><span class="pre">to_clipboard()</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4282">GH4282</a>)</p>
</li>
<li><p class="first">Clipboard functionality now works with PySide (<a class="reference external" href="https://github.com/pydata/pandas/issues/4282">GH4282</a>)</p>
</li>
<li><p class="first">Added a more informative error message when plot arguments contain
overlapping color and style arguments (<a class="reference external" href="https://github.com/pydata/pandas/issues/4402">GH4402</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">to_dict</span></tt> now takes <tt class="docutils literal"><span class="pre">records</span></tt> as a possible outtype.  Returns an array
of column-keyed dictionaries. (<a class="reference external" href="https://github.com/pydata/pandas/issues/4936">GH4936</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">NaN</span></tt> handing in get_dummies (<a class="reference external" href="https://github.com/pydata/pandas/issues/4446">GH4446</a>) with <cite>dummy_na</cite></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="c"># previously, nan was erroneously counted as 2 here</span>
<span class="c"># now it is not counted at all</span>
<span class="gp">In [62]: </span><span class="n">get_dummies</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gr">Out[62]: </span>
<span class="go">   1  2</span>
<span class="go">0  1  0</span>
<span class="go">1  0  1</span>
<span class="go">2  0  0</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="c"># unless requested</span>
<span class="gp">In [63]: </span><span class="n">get_dummies</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">dummy_na</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[63]: </span>
<span class="go">    1    2   NaN</span>
<span class="go">0    1    0    0</span>
<span class="go">1    0    1    0</span>
<span class="go">2    0    0    1</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">timedelta64[ns]</span></tt> operations. See <a class="reference internal" href="timeseries.html#timeseries-timedeltas-convert"><em>the docs</em></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Most of these operations require <tt class="docutils literal"><span class="pre">numpy</span> <span class="pre">&gt;=</span> <span class="pre">1.7</span></tt></p>
</div>
<p>Using the new top-level <tt class="docutils literal"><span class="pre">to_timedelta</span></tt>, you can convert a scalar or array from the standard
timedelta format (produced by <tt class="docutils literal"><span class="pre">to_csv</span></tt>) into a timedelta type (<tt class="docutils literal"><span class="pre">np.timedelta64</span></tt> in <tt class="docutils literal"><span class="pre">nanoseconds</span></tt>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [64]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="s">&#39;1 days 06:05:01.00003&#39;</span><span class="p">)</span>
<span class="gr">Out[64]: </span><span class="n">numpy</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">108301000030000</span><span class="p">,</span><span class="s">&#39;ns&#39;</span><span class="p">)</span>

<span class="gp">In [65]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="s">&#39;15.5us&#39;</span><span class="p">)</span>
<span class="gr">Out[65]: </span><span class="n">numpy</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">15500</span><span class="p">,</span><span class="s">&#39;ns&#39;</span><span class="p">)</span>

<span class="gp">In [66]: </span><span class="n">to_timedelta</span><span class="p">([</span><span class="s">&#39;1 days 06:05:01.00003&#39;</span><span class="p">,</span><span class="s">&#39;15.5us&#39;</span><span class="p">,</span><span class="s">&#39;nan&#39;</span><span class="p">])</span>
<span class="gr">Out[66]: </span>
<span class="go">0   1 days, 06:05:01.000030</span>
<span class="go">1   0 days, 00:00:00.000016</span>
<span class="go">2                       NaT</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [67]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">unit</span><span class="o">=</span><span class="s">&#39;s&#39;</span><span class="p">)</span>
<span class="gr">Out[67]: </span>
<span class="go">0   00:00:00</span>
<span class="go">1   00:00:01</span>
<span class="go">2   00:00:02</span>
<span class="go">3   00:00:03</span>
<span class="go">4   00:00:04</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [68]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">unit</span><span class="o">=</span><span class="s">&#39;d&#39;</span><span class="p">)</span>
<span class="gr">Out[68]: </span>
<span class="go">0   0 days</span>
<span class="go">1   1 days</span>
<span class="go">2   2 days</span>
<span class="go">3   3 days</span>
<span class="go">4   4 days</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p>A Series of dtype <tt class="docutils literal"><span class="pre">timedelta64[ns]</span></tt> can now be divided by another
<tt class="docutils literal"><span class="pre">timedelta64[ns]</span></tt> object, or astyped to yield a <tt class="docutils literal"><span class="pre">float64</span></tt> dtyped Series. This
is frequency conversion. See <a class="reference internal" href="timeseries.html#timeseries-timedeltas-convert"><em>the docs</em></a> for the docs.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [69]: </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="gp">In [70]: </span><span class="n">td</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span><span class="o">-</span><span class="n">Series</span><span class="p">(</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;20121201&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [71]: </span><span class="n">td</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">seconds</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>

<span class="gp">In [72]: </span><span class="n">td</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [73]: </span><span class="n">td</span>
<span class="gr">Out[73]: </span>
<span class="go">0   31 days, 00:00:00</span>
<span class="go">1   31 days, 00:00:00</span>
<span class="go">2   31 days, 00:05:03</span>
<span class="go">3                 NaT</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="c"># to days</span>
<span class="gp">In [74]: </span><span class="n">td</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;D&#39;</span><span class="p">)</span>
<span class="gr">Out[74]: </span>
<span class="go">0    31.000000</span>
<span class="go">1    31.000000</span>
<span class="go">2    31.003507</span>
<span class="go">3          NaN</span>
<span class="go">dtype: float64</span>

<span class="gp">In [75]: </span><span class="n">td</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;timedelta64[D]&#39;</span><span class="p">)</span>
<span class="gr">Out[75]: </span>
<span class="go">0    31</span>
<span class="go">1    31</span>
<span class="go">2    31</span>
<span class="go">3   NaN</span>
<span class="go">dtype: float64</span>

<span class="c"># to seconds</span>
<span class="gp">In [76]: </span><span class="n">td</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;s&#39;</span><span class="p">)</span>
<span class="gr">Out[76]: </span>
<span class="go">0    2678400</span>
<span class="go">1    2678400</span>
<span class="go">2    2678703</span>
<span class="go">3        NaN</span>
<span class="go">dtype: float64</span>

<span class="gp">In [77]: </span><span class="n">td</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;timedelta64[s]&#39;</span><span class="p">)</span>
<span class="gr">Out[77]: </span>
<span class="go">0    2678400</span>
<span class="go">1    2678400</span>
<span class="go">2    2678703</span>
<span class="go">3        NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Dividing or multiplying a <tt class="docutils literal"><span class="pre">timedelta64[ns]</span></tt> Series by an integer or integer Series</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [78]: </span><span class="n">td</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
<span class="gr">Out[78]: </span>
<span class="go">0   -31 days, 00:00:00</span>
<span class="go">1   -31 days, 00:00:00</span>
<span class="go">2   -31 days, 00:05:03</span>
<span class="go">3                  NaT</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [79]: </span><span class="n">td</span> <span class="o">*</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gr">Out[79]: </span>
<span class="go">0   31 days, 00:00:00</span>
<span class="go">1   62 days, 00:00:00</span>
<span class="go">2   93 days, 00:15:09</span>
<span class="go">3                 NaT</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p>Absolute <tt class="docutils literal"><span class="pre">DateOffset</span></tt> objects can act equivalently to <tt class="docutils literal"><span class="pre">timedeltas</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [80]: </span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">offsets</span>

<span class="gp">In [81]: </span><span class="n">td</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">Minute</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">Milli</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gr">Out[81]: </span>
<span class="go">0   31 days, 00:05:00.005000</span>
<span class="go">1   31 days, 00:05:00.005000</span>
<span class="go">2   31 days, 00:10:03.005000</span>
<span class="go">3                        NaT</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p>Fillna is now supported for timedeltas</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [82]: </span><span class="n">td</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[82]: </span>
<span class="go">0   31 days, 00:00:00</span>
<span class="go">1   31 days, 00:00:00</span>
<span class="go">2   31 days, 00:05:03</span>
<span class="go">3    0 days, 00:00:00</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [83]: </span><span class="n">td</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">seconds</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
<span class="gr">Out[83]: </span>
<span class="go">0   31 days, 00:00:00</span>
<span class="go">1   31 days, 00:00:00</span>
<span class="go">2   31 days, 00:05:03</span>
<span class="go">3    1 days, 00:00:05</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p>You can do numeric reduction operations on timedeltas.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [84]: </span><span class="n">td</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gr">Out[84]: </span>
<span class="go">0   31 days, 00:01:41</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [85]: </span><span class="n">td</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[85]: </span><span class="n">numpy</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">2678400000000000</span><span class="p">,</span><span class="s">&#39;ns&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">plot(kind='kde')</span></tt> now accepts the optional parameters <tt class="docutils literal"><span class="pre">bw_method</span></tt> and
<tt class="docutils literal"><span class="pre">ind</span></tt>, passed to scipy.stats.gaussian_kde() (for scipy &gt;= 0.11.0) to set
the bandwidth, and to gkde.evaluate() to specify the indices at which it
is evaluated, respectively. See scipy docs. (<a class="reference external" href="https://github.com/pydata/pandas/issues/4298">GH4298</a>)</p>
</li>
<li><p class="first">DataFrame constructor now accepts a numpy masked record array (<a class="reference external" href="https://github.com/pydata/pandas/issues/3478">GH3478</a>)</p>
</li>
<li><p class="first">The new vectorized string method <tt class="docutils literal"><span class="pre">extract</span></tt> return regular expression
matches more conveniently.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [86]: </span><span class="n">Series</span><span class="p">([</span><span class="s">&#39;a1&#39;</span><span class="p">,</span> <span class="s">&#39;b2&#39;</span><span class="p">,</span> <span class="s">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s">&#39;[ab](\d)&#39;</span><span class="p">)</span>
<span class="gr">Out[86]: </span>
<span class="go">0      1</span>
<span class="go">1      2</span>
<span class="go">2    NaN</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Elements that do not match return <tt class="docutils literal"><span class="pre">NaN</span></tt>. Extracting a regular expression
with more than one group returns a DataFrame with one column per group.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [87]: </span><span class="n">Series</span><span class="p">([</span><span class="s">&#39;a1&#39;</span><span class="p">,</span> <span class="s">&#39;b2&#39;</span><span class="p">,</span> <span class="s">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s">&#39;([ab])(\d)&#39;</span><span class="p">)</span>
<span class="gr">Out[87]: </span>
<span class="go">     0    1</span>
<span class="go">0    a    1</span>
<span class="go">1    b    2</span>
<span class="go">2  NaN  NaN</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>Elements that do not match return a row of <tt class="docutils literal"><span class="pre">NaN</span></tt>.
Thus, a Series of messy strings can be <em>converted</em> into a
like-indexed Series or DataFrame of cleaned-up or more useful strings,
without necessitating <tt class="docutils literal"><span class="pre">get()</span></tt> to access tuples or <tt class="docutils literal"><span class="pre">re.match</span></tt> objects.</p>
<p>Named groups like</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [88]: </span><span class="n">Series</span><span class="p">([</span><span class="s">&#39;a1&#39;</span><span class="p">,</span> <span class="s">&#39;b2&#39;</span><span class="p">,</span> <span class="s">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span>
<span class="gp">   ....:</span>         <span class="s">&#39;(?P&lt;letter&gt;[ab])(?P&lt;digit&gt;\d)&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[88]: </span>
<span class="go">  letter digit</span>
<span class="go">0      a     1</span>
<span class="go">1      b     2</span>
<span class="go">2    NaN   NaN</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>and optional groups can also be used.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [89]: </span><span class="n">Series</span><span class="p">([</span><span class="s">&#39;a1&#39;</span><span class="p">,</span> <span class="s">&#39;b2&#39;</span><span class="p">,</span> <span class="s">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span>
<span class="gp">   ....:</span>         <span class="s">&#39;(?P&lt;letter&gt;[ab])?(?P&lt;digit&gt;\d)&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[89]: </span>
<span class="go">  letter digit</span>
<span class="go">0      a     1</span>
<span class="go">1      b     2</span>
<span class="go">2    NaN     3</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_stata</span></tt> now accepts Stata 13 format (<a class="reference external" href="https://github.com/pydata/pandas/issues/4291">GH4291</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_fwf</span></tt> now infers the column specifications from the first 100 rows of
the file if the data has correctly separated and properly aligned columns
using the delimiter provided to the function (<a class="reference external" href="https://github.com/pydata/pandas/issues/4488">GH4488</a>).</p>
</li>
<li><p class="first">support for nanosecond times as an offset</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">These operations require <tt class="docutils literal"><span class="pre">numpy</span> <span class="pre">&gt;=</span> <span class="pre">1.7</span></tt></p>
</div>
<p>Period conversions in the range of seconds and below were reworked and extended
up to nanoseconds. Periods in the nanosecond range are now available.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [90]: </span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;2013-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">&#39;5N&#39;</span><span class="p">)</span>
<span class="gr">Out[90]: </span>
<span class="go">&lt;class &#39;pandas.tseries.index.DatetimeIndex&#39;&gt;</span>
<span class="go">[2013-01-01 00:00:00, ..., 2013-01-01 00:00:00.000000020]</span>
<span class="go">Length: 5, Freq: 5N, Timezone: None</span>
</pre></div>
</div>
<p>or with frequency as offset</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [91]: </span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;2013-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Nano</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gr">Out[91]: </span>
<span class="go">&lt;class &#39;pandas.tseries.index.DatetimeIndex&#39;&gt;</span>
<span class="go">[2013-01-01 00:00:00, ..., 2013-01-01 00:00:00.000000020]</span>
<span class="go">Length: 5, Freq: 5N, Timezone: None</span>
</pre></div>
</div>
<p>Timestamps can be modified in the nanosecond range</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [92]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;20130101 09:01:02&#39;</span><span class="p">)</span>

<span class="gp">In [93]: </span><span class="n">t</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">datetools</span><span class="o">.</span><span class="n">Nano</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="gr">Out[93]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;2013-01-01 09:01:02.000000123&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">A new method, <tt class="docutils literal"><span class="pre">isin</span></tt> for DataFrames, which plays nicely with boolean indexing. The argument to <tt class="docutils literal"><span class="pre">isin</span></tt>, what we&#8217;re comparing the DataFrame to, can be a DataFrame, Series, dict, or array of values. See <a class="reference internal" href="indexing.html#indexing-basics-indexing-isin"><em>the docs</em></a> for more.</p>
<p>To get the rows where any of the conditions are met:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [94]: </span><span class="n">dfi</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">]})</span>

<span class="gp">In [95]: </span><span class="n">dfi</span>
<span class="gr">Out[95]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">1  2  b</span>
<span class="go">2  3  f</span>
<span class="go">3  4  n</span>

<span class="go">[4 rows x 2 columns]</span>

<span class="gp">In [96]: </span><span class="n">other</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="s">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">]})</span>

<span class="gp">In [97]: </span><span class="n">mask</span> <span class="o">=</span> <span class="n">dfi</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

<span class="gp">In [98]: </span><span class="n">mask</span>
<span class="gr">Out[98]: </span>
<span class="go">       A      B</span>
<span class="go">0   True  False</span>
<span class="go">1  False  False</span>
<span class="go">2   True   True</span>
<span class="go">3  False  False</span>

<span class="go">[4 rows x 2 columns]</span>

<span class="gp">In [99]: </span><span class="n">dfi</span><span class="p">[</span><span class="n">mask</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
<span class="gr">Out[99]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">2  3  f</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series</span></tt> now supports a <tt class="docutils literal"><span class="pre">to_frame</span></tt> method to convert it to a single-column DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/5164">GH5164</a>)</p>
</li>
<li><p class="first">All R datasets listed here <a class="reference external" href="http://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html">http://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html</a> can now be loaded into Pandas objects</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas.rpy.common</span> <span class="kn">as</span> <span class="nn">com</span>
<span class="n">com</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s">&#39;Titanic&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">tz_localize</span></tt> can infer a fall daylight savings transition based on the structure
of the unlocalized data (<a class="reference external" href="https://github.com/pydata/pandas/issues/4230">GH4230</a>), see <a class="reference internal" href="timeseries.html#timeseries-timezone"><em>the docs</em></a></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DatetimeIndex</span></tt> is now in the API documentation, see <a class="reference internal" href="api.html#api-datetimeindex"><em>the docs</em></a></p>
</li>
<li><p class="first"><tt class="xref py py-meth docutils literal"><span class="pre">json_normalize()</span></tt> is a new method to allow you to create a flat table
from semi-structured JSON data. See <a class="reference internal" href="io.html#io-json-normalize"><em>the docs</em></a> (<a class="reference external" href="https://github.com/pydata/pandas/issues/1067">GH1067</a>)</p>
</li>
<li><p class="first">Added PySide support for the qtpandas DataFrameModel and DataFrameWidget.</p>
</li>
<li><p class="first">Python csv parser now supports usecols (<a class="reference external" href="https://github.com/pydata/pandas/issues/4335">GH4335</a>)</p>
</li>
<li><p class="first">Frequencies gained several new offsets:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">LastWeekOfMonth</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4637">GH4637</a>)</li>
<li><tt class="docutils literal"><span class="pre">FY5253</span></tt>, and <tt class="docutils literal"><span class="pre">FY5253Quarter</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4511">GH4511</a>)</li>
</ul>
</li>
<li><p class="first">DataFrame has a new <tt class="docutils literal"><span class="pre">interpolate</span></tt> method, similar to Series (<a class="reference external" href="https://github.com/pydata/pandas/issues/4434">GH4434</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1892">GH1892</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [100]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">4.7</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">,</span> <span class="mf">6.8</span><span class="p">],</span>
<span class="gp">   .....:</span>                 <span class="s">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">12.2</span><span class="p">,</span> <span class="mf">14.4</span><span class="p">]})</span>
<span class="gp">   .....:</span> 

<span class="gp">In [101]: </span><span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>
<span class="gr">Out[101]: </span>
<span class="go">     A      B</span>
<span class="go">0  1.0   0.25</span>
<span class="go">1  2.1   1.50</span>
<span class="go">2  3.4   2.75</span>
<span class="go">3  4.7   4.00</span>
<span class="go">4  5.6  12.20</span>
<span class="go">5  6.8  14.40</span>

<span class="go">[6 rows x 2 columns]</span>
</pre></div>
</div>
<p>Additionally, the <tt class="docutils literal"><span class="pre">method</span></tt> argument to <tt class="docutils literal"><span class="pre">interpolate</span></tt> has been expanded
to include <tt class="docutils literal"><span class="pre">'nearest',</span> <span class="pre">'zero',</span> <span class="pre">'slinear',</span> <span class="pre">'quadratic',</span> <span class="pre">'cubic',</span>
<span class="pre">'barycentric',</span> <span class="pre">'krogh',</span> <span class="pre">'piecewise_polynomial',</span> <span class="pre">'pchip',</span> <span class="pre">`polynomial`,</span> <span class="pre">'spline'</span></tt>
The new methods require <a class="reference external" href="http://www.scipy.org">scipy</a>. Consult the Scipy reference <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html">guide</a> and <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/interpolate.html#univariate-interpolation">documentation</a> for more information
about when the various methods are appropriate. See <a class="reference internal" href="missing_data.html#missing-data-interpolate"><em>the docs</em></a>.</p>
<p>Interpolate now also accepts a <tt class="docutils literal"><span class="pre">limit</span></tt> keyword argument.
This works similar to <tt class="docutils literal"><span class="pre">fillna</span></tt>&#8216;s limit:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [102]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>

<span class="gp">In [103]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[103]: </span>
<span class="go">0     1</span>
<span class="go">1     3</span>
<span class="go">2     5</span>
<span class="go">3     7</span>
<span class="go">4   NaN</span>
<span class="go">5    11</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Added <tt class="docutils literal"><span class="pre">wide_to_long</span></tt> panel data convenience function. See <a class="reference internal" href="reshaping.html#reshaping-melt"><em>the docs</em></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [104]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>

<span class="gp">In [105]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s">&quot;A1970&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s">&quot;c&quot;</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s">&quot;A1980&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s">&quot;d&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="s">&quot;e&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s">&quot;f&quot;</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s">&quot;B1970&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">.</span><span class="mi">7</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s">&quot;B1980&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="mf">3.2</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">.</span><span class="mi">1</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s">&quot;X&quot;</span>     <span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="gp">   .....:</span>                   <span class="p">})</span>
<span class="gp">   .....:</span> 

<span class="gp">In [106]: </span><span class="n">df</span><span class="p">[</span><span class="s">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span>

<span class="gp">In [107]: </span><span class="n">df</span>
<span class="gr">Out[107]: </span>
<span class="go">  A1970 A1980  B1970  B1980         X  id</span>
<span class="go">0     a     d    2.5    3.2 -1.085631   0</span>
<span class="go">1     b     e    1.2    1.3  0.997345   1</span>
<span class="go">2     c     f    0.7    0.1  0.282978   2</span>

<span class="go">[3 rows x 6 columns]</span>

<span class="gp">In [108]: </span><span class="n">wide_to_long</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">],</span> <span class="n">i</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="s">&quot;year&quot;</span><span class="p">)</span>
<span class="gr">Out[108]: </span>
<span class="go">                X  A    B</span>
<span class="go">id year                  </span>
<span class="go">0  1970 -1.085631  a  2.5</span>
<span class="go">1  1970  0.997345  b  1.2</span>
<span class="go">2  1970  0.282978  c  0.7</span>
<span class="go">0  1980 -1.085631  d  3.2</span>
<span class="go">1  1980  0.997345  e  1.3</span>
<span class="go">2  1980  0.282978  f  0.1</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">to_csv</span></tt> now takes a <tt class="docutils literal"><span class="pre">date_format</span></tt> keyword argument that specifies how
output datetime objects should be formatted. Datetimes encountered in the
index, columns, and values will all have this formatting applied. (<a class="reference external" href="https://github.com/pydata/pandas/issues/4313">GH4313</a>)</li>
<li><tt class="docutils literal"><span class="pre">DataFrame.plot</span></tt> will scatter plot x versus y by passing <tt class="docutils literal"><span class="pre">kind='scatter'</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/2215">GH2215</a>)</li>
<li>Added support for Google Analytics v3 API segment IDs that also supports v2 IDs. (<a class="reference external" href="https://github.com/pydata/pandas/issues/5271">GH5271</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0130-experimental">
<span id="id5"></span><h3>Experimental<a class="headerlink" href="#whatsnew-0130-experimental" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The new <a class="reference internal" href="generated/pandas.eval.html#pandas.eval" title="pandas.eval"><tt class="xref py py-func docutils literal"><span class="pre">eval()</span></tt></a> function implements expression evaluation using
<tt class="docutils literal"><span class="pre">numexpr</span></tt> behind the scenes. This results in large speedups for
complicated expressions involving large DataFrames/Series. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [109]: </span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">20000</span><span class="p">,</span> <span class="mi">100</span>

<span class="gp">In [110]: </span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df3</span><span class="p">,</span> <span class="n">df4</span> <span class="o">=</span> <span class="p">[</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">))</span>
<span class="gp">   .....:</span>                       <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="gp">   .....:</span> 
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="c"># eval with NumExpr backend</span>
<span class="gp">In [111]: </span><span class="o">%</span><span class="n">timeit</span> <span class="n">pd</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s">&#39;df1 + df2 + df3 + df4&#39;</span><span class="p">)</span>
<span class="go">10 loops, best of 3: 31.6 ms per loop</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="c"># pure Python evaluation</span>
<span class="gp">In [112]: </span><span class="o">%</span><span class="n">timeit</span> <span class="n">df1</span> <span class="o">+</span> <span class="n">df2</span> <span class="o">+</span> <span class="n">df3</span> <span class="o">+</span> <span class="n">df4</span>
<span class="go">10 loops, best of 3: 74.8 ms per loop</span>
</pre></div>
</div>
<p>For more details, see the <a class="reference internal" href="enhancingperf.html#enhancingperf-eval"><em>the docs</em></a></p>
</li>
<li><p class="first">Similar to <tt class="docutils literal"><span class="pre">pandas.eval</span></tt>, <a class="reference internal" href="generated/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><tt class="xref py py-class docutils literal"><span class="pre">DataFrame</span></tt></a> has a new
<tt class="docutils literal"><span class="pre">DataFrame.eval</span></tt> method that evaluates an expression in the context of
the <tt class="docutils literal"><span class="pre">DataFrame</span></tt>. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [113]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">])</span>

<span class="gp">In [114]: </span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s">&#39;a + b&#39;</span><span class="p">)</span>
<span class="gr">Out[114]: </span>
<span class="go">0   -0.685204</span>
<span class="go">1    1.589745</span>
<span class="go">2    0.325441</span>
<span class="go">3   -1.784153</span>
<span class="go">4   -0.432893</span>
<span class="go">5    0.171850</span>
<span class="go">6    1.895919</span>
<span class="go">7    3.065587</span>
<span class="go">8   -0.092759</span>
<span class="go">9    1.391365</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference internal" href="generated/pandas.DataFrame.query.html#pandas.DataFrame.query" title="pandas.DataFrame.query"><tt class="xref py py-meth docutils literal"><span class="pre">query()</span></tt></a> method has been added that allows
you to select elements of a <tt class="docutils literal"><span class="pre">DataFrame</span></tt> using a natural query syntax
nearly identical to Python syntax. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [115]: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">20</span>

<span class="gp">In [116]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [117]: </span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&#39;a &lt; b &lt; c&#39;</span><span class="p">)</span>
<span class="gr">Out[117]: </span>
<span class="go">    a   b   c</span>
<span class="go">11  1   5   8</span>
<span class="go">15  8  16  19</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
<p>selects all the rows of <tt class="docutils literal"><span class="pre">df</span></tt> where <tt class="docutils literal"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span> <span class="pre">&lt;</span> <span class="pre">c</span></tt> evaluates to <tt class="docutils literal"><span class="pre">True</span></tt>.
For more details see the <a class="reference internal" href="indexing.html#indexing-query"><em>the docs</em></a>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">pd.read_msgpack()</span></tt> and <tt class="docutils literal"><span class="pre">pd.to_msgpack()</span></tt> are now a supported method of serialization
of arbitrary pandas (and python objects) in a lightweight portable binary format. See <a class="reference internal" href="io.html#io-msgpack"><em>the docs</em></a></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Since this is an EXPERIMENTAL LIBRARY, the storage format may not be stable until a future release.</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [118]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s">&#39;AB&#39;</span><span class="p">))</span>

<span class="gp">In [119]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_msgpack</span><span class="p">(</span><span class="s">&#39;foo.msg&#39;</span><span class="p">)</span>

<span class="gp">In [120]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_msgpack</span><span class="p">(</span><span class="s">&#39;foo.msg&#39;</span><span class="p">)</span>
<span class="gr">Out[120]: </span>
<span class="go">          A         B</span>
<span class="go">0  0.251082  0.017357</span>
<span class="go">1  0.347915  0.929879</span>
<span class="go">2  0.546233  0.203368</span>
<span class="go">3  0.064942  0.031722</span>
<span class="go">4  0.355309  0.524575</span>

<span class="go">[5 rows x 2 columns]</span>

<span class="gp">In [121]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [122]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_msgpack</span><span class="p">(</span><span class="s">&#39;foo.msg&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="gp">In [123]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_msgpack</span><span class="p">(</span><span class="s">&#39;foo.msg&#39;</span><span class="p">)</span>
<span class="gr">Out[123]: </span>
<span class="go">[          A         B</span>
<span class="go"> 0  0.251082  0.017357</span>
<span class="go"> 1  0.347915  0.929879</span>
<span class="go"> 2  0.546233  0.203368</span>
<span class="go"> 3  0.064942  0.031722</span>
<span class="go"> 4  0.355309  0.524575</span>
<span class="go"> </span>
<span class="go"> [5 rows x 2 columns], 2013-01-01    0.022321</span>
<span class="go"> 2013-01-02    0.227025</span>
<span class="go"> 2013-01-03    0.383282</span>
<span class="go"> 2013-01-04    0.193225</span>
<span class="go"> 2013-01-05    0.110977</span>
<span class="go"> Freq: D, dtype: float64]</span>
</pre></div>
</div>
<p>You can pass <tt class="docutils literal"><span class="pre">iterator=True</span></tt> to iterator over the unpacked results</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [124]: </span><span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_msgpack</span><span class="p">(</span><span class="s">&#39;foo.msg&#39;</span><span class="p">,</span><span class="n">iterator</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
<span class="gp">   .....:</span>    <span class="k">print</span> <span class="n">o</span>
<span class="gp">   .....:</span> 
<span class="go">          A         B</span>
<span class="go">0  0.251082  0.017357</span>
<span class="go">1  0.347915  0.929879</span>
<span class="go">2  0.546233  0.203368</span>
<span class="go">3  0.064942  0.031722</span>
<span class="go">4  0.355309  0.524575</span>

<span class="go">[5 rows x 2 columns]</span>
<span class="go">2013-01-01    0.022321</span>
<span class="go">2013-01-02    0.227025</span>
<span class="go">2013-01-03    0.383282</span>
<span class="go">2013-01-04    0.193225</span>
<span class="go">2013-01-05    0.110977</span>
<span class="go">Freq: D, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">pandas.io.gbq</span></tt> provides a simple way to extract from, and load data into,
Google&#8217;s BigQuery Data Sets by way of pandas DataFrames. BigQuery is a high
performance SQL-like database service, useful for performing ad-hoc queries
against extremely large datasets. <a class="reference internal" href="io.html#io-bigquery"><em>See the docs</em></a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pandas.io</span> <span class="kn">import</span> <span class="n">gbq</span>

<span class="c"># A query to select the average monthly temperatures in the</span>
<span class="c"># in the year 2000 across the USA. The dataset,</span>
<span class="c"># publicata:samples.gsod, is available on all BigQuery accounts,</span>
<span class="c"># and is based on NOAA gsod data.</span>

<span class="n">query</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;SELECT station_number as STATION,</span>
<span class="s">month as MONTH, AVG(mean_temp) as MEAN_TEMP</span>
<span class="s">FROM publicdata:samples.gsod</span>
<span class="s">WHERE YEAR = 2000</span>
<span class="s">GROUP BY STATION, MONTH</span>
<span class="s">ORDER BY STATION, MONTH ASC&quot;&quot;&quot;</span>

<span class="c"># Fetch the result set for this query</span>

<span class="c"># Your Google BigQuery Project ID</span>
<span class="c"># To find this, see your dashboard:</span>
<span class="c"># https://code.google.com/apis/console/b/0/?noredirect</span>
<span class="n">projectid</span> <span class="o">=</span> <span class="n">xxxxxxxxx</span><span class="p">;</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">gbq</span><span class="o">.</span><span class="n">read_gbq</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">project_id</span> <span class="o">=</span> <span class="n">projectid</span><span class="p">)</span>

<span class="c"># Use pandas to process and reshape the dataset</span>

<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s">&#39;STATION&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s">&#39;MONTH&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s">&#39;MEAN_TEMP&#39;</span><span class="p">)</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df2</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">df2</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">df2</span><span class="o">.</span><span class="n">max</span><span class="p">()],</span>
                    <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;Min Tem&quot;</span><span class="p">,</span> <span class="s">&quot;Mean Temp&quot;</span><span class="p">,</span> <span class="s">&quot;Max Temp&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>The resulting DataFrame is:</p>
<div class="highlight-python"><pre>&gt; df3
            Min Tem  Mean Temp    Max Temp
 MONTH
 1     -53.336667  39.827892   89.770968
 2     -49.837500  43.685219   93.437932
 3     -77.926087  48.708355   96.099998
 4     -82.892858  55.070087   97.317240
 5     -92.378261  61.428117  102.042856
 6     -77.703334  65.858888  102.900000
 7     -87.821428  68.169663  106.510714
 8     -89.431999  68.614215  105.500000
 9     -86.611112  63.436935  107.142856
 10    -78.209677  56.880838   92.103333
 11    -50.125000  48.861228   94.996428
 12    -50.332258  42.286879   94.396774</pre>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>To use this module, you will need a BigQuery account. See
&lt;<a class="reference external" href="https://cloud.google.com/products/big-query">https://cloud.google.com/products/big-query</a>&gt; for details.</p>
<p class="last">As of 10/10/13, there is a bug in Google&#8217;s API preventing result sets
from being larger than 100,000 rows. A patch is scheduled for the week of
10/14/13.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="internal-refactoring">
<span id="whatsnew-0130-refactoring"></span><h3>Internal Refactoring<a class="headerlink" href="#internal-refactoring" title="Permalink to this headline">¶</a></h3>
<p>In 0.13.0 there is a major refactor primarily to subclass <tt class="docutils literal"><span class="pre">Series</span></tt> from
<tt class="docutils literal"><span class="pre">NDFrame</span></tt>, which is the base class currently for <tt class="docutils literal"><span class="pre">DataFrame</span></tt> and <tt class="docutils literal"><span class="pre">Panel</span></tt>,
to unify methods and behaviors. Series formerly subclassed directly from
<tt class="docutils literal"><span class="pre">ndarray</span></tt>. (<a class="reference external" href="https://github.com/pydata/pandas/issues/4080">GH4080</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3862">GH3862</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/816">GH816</a>)</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>There are two potential incompatibilities from &lt; 0.13.0</p>
<ul class="last">
<li><p class="first">Using certain numpy functions would previously return a <tt class="docutils literal"><span class="pre">Series</span></tt> if passed a <tt class="docutils literal"><span class="pre">Series</span></tt>
as an argument. This seems only to affect <tt class="docutils literal"><span class="pre">np.ones_like</span></tt>, <tt class="docutils literal"><span class="pre">np.empty_like</span></tt>,
<tt class="docutils literal"><span class="pre">np.diff</span></tt> and <tt class="docutils literal"><span class="pre">np.where</span></tt>. These now return <tt class="docutils literal"><span class="pre">ndarrays</span></tt>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [125]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>Numpy Usage</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [126]: </span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[126]: </span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [127]: </span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[127]: </span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [128]: </span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">s</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="gr">Out[128]: </span><span class="n">array</span><span class="p">([</span> <span class="n">nan</span><span class="p">,</span>   <span class="mf">2.</span><span class="p">,</span>   <span class="mf">3.</span><span class="p">,</span>   <span class="mf">4.</span><span class="p">])</span>
</pre></div>
</div>
<p>Pandonic Usage</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [129]: </span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="gr">Out[129]: </span>
<span class="go">0    1</span>
<span class="go">1    1</span>
<span class="go">2    1</span>
<span class="go">3    1</span>
<span class="go">dtype: int64</span>

<span class="gp">In [130]: </span><span class="n">s</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
<span class="gr">Out[130]: </span>
<span class="go">0   NaN</span>
<span class="go">1     1</span>
<span class="go">2     1</span>
<span class="go">3     1</span>
<span class="go">dtype: float64</span>

<span class="gp">In [131]: </span><span class="n">s</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">s</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[131]: </span>
<span class="go">0   NaN</span>
<span class="go">1     2</span>
<span class="go">2     3</span>
<span class="go">3     4</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Passing a <tt class="docutils literal"><span class="pre">Series</span></tt> directly to a cython function expecting an <tt class="docutils literal"><span class="pre">ndarray</span></tt> type will no
long work directly, you must pass <tt class="docutils literal"><span class="pre">Series.values</span></tt>, See <a class="reference internal" href="enhancingperf.html#enhancingperf-ndarray"><em>Enhancing Performance</em></a></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series(0.5)</span></tt> would previously return the scalar <tt class="docutils literal"><span class="pre">0.5</span></tt>, instead this will return a 1-element <tt class="docutils literal"><span class="pre">Series</span></tt></p>
</li>
<li><p class="first">This change breaks <tt class="docutils literal"><span class="pre">rpy2&lt;=2.3.8</span></tt>. an Issue has been opened against rpy2 and a workaround
is detailed in <a class="reference external" href="https://github.com/pydata/pandas/issues/5698">GH5698</a>. Thanks &#64;JanSchulz.</p>
</li>
</ul>
</div>
<ul>
<li><p class="first">Pickle compatibility is preserved for pickles created prior to 0.13. These must be unpickled with <tt class="docutils literal"><span class="pre">pd.read_pickle</span></tt>, see <a class="reference internal" href="io.html#io-pickle"><em>Pickling</em></a>.</p>
</li>
<li><p class="first">Refactor of series.py/frame.py/panel.py to move common code to generic.py</p>
<ul class="simple">
<li>added <tt class="docutils literal"><span class="pre">_setup_axes</span></tt> to created generic NDFrame structures</li>
<li>moved methods<ul>
<li><tt class="docutils literal"><span class="pre">from_axes,_wrap_array,axes,ix,loc,iloc,shape,empty,swapaxes,transpose,pop</span></tt></li>
<li><tt class="docutils literal"><span class="pre">__iter__,keys,__contains__,__len__,__neg__,__invert__</span></tt></li>
<li><tt class="docutils literal"><span class="pre">convert_objects,as_blocks,as_matrix,values</span></tt></li>
<li><tt class="docutils literal"><span class="pre">__getstate__,__setstate__</span></tt> (compat remains in frame/panel)</li>
<li><tt class="docutils literal"><span class="pre">__getattr__,__setattr__</span></tt></li>
<li><tt class="docutils literal"><span class="pre">_indexed_same,reindex_like,align,where,mask</span></tt></li>
<li><tt class="docutils literal"><span class="pre">fillna,replace</span></tt> (<tt class="docutils literal"><span class="pre">Series</span></tt> replace is now consistent with <tt class="docutils literal"><span class="pre">DataFrame</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">filter</span></tt> (also added axis argument to selectively filter on a different axis)</li>
<li><tt class="docutils literal"><span class="pre">reindex,reindex_axis,take</span></tt></li>
<li><tt class="docutils literal"><span class="pre">truncate</span></tt> (moved to become part of <tt class="docutils literal"><span class="pre">NDFrame</span></tt>)</li>
</ul>
</li>
</ul>
</li>
<li><p class="first">These are API changes which make <tt class="docutils literal"><span class="pre">Panel</span></tt> more consistent with <tt class="docutils literal"><span class="pre">DataFrame</span></tt></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">swapaxes</span></tt> on a <tt class="docutils literal"><span class="pre">Panel</span></tt> with the same axes specified now return a copy</li>
<li>support attribute access for setting</li>
<li>filter supports the same API as the original <tt class="docutils literal"><span class="pre">DataFrame</span></tt> filter</li>
</ul>
</li>
<li><p class="first">Reindex called with no arguments will now return a copy of the input object</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">TimeSeries</span></tt> is now an alias for <tt class="docutils literal"><span class="pre">Series</span></tt>. the property <tt class="docutils literal"><span class="pre">is_time_series</span></tt>
can be used to distinguish (if desired)</p>
</li>
<li><p class="first">Refactor of Sparse objects to use BlockManager</p>
<ul class="simple">
<li>Created a new block type in internals, <tt class="docutils literal"><span class="pre">SparseBlock</span></tt>, which can hold multi-dtypes
and is non-consolidatable. <tt class="docutils literal"><span class="pre">SparseSeries</span></tt> and <tt class="docutils literal"><span class="pre">SparseDataFrame</span></tt> now inherit
more methods from there hierarchy (Series/DataFrame), and no longer inherit
from <tt class="docutils literal"><span class="pre">SparseArray</span></tt> (which instead is the object of the <tt class="docutils literal"><span class="pre">SparseBlock</span></tt>)</li>
<li>Sparse suite now supports integration with non-sparse data. Non-float sparse
data is supportable (partially implemented)</li>
<li>Operations on sparse structures within DataFrames should preserve sparseness,
merging type operations will convert to dense (and back to sparse), so might
be somewhat inefficient</li>
<li>enable setitem on <tt class="docutils literal"><span class="pre">SparseSeries</span></tt> for boolean/integer/slices</li>
<li><tt class="docutils literal"><span class="pre">SparsePanels</span></tt> implementation is unchanged (e.g. not using BlockManager, needs work)</li>
</ul>
</li>
<li><p class="first">added <tt class="docutils literal"><span class="pre">ftypes</span></tt> method to Series/DataFrame, similar to <tt class="docutils literal"><span class="pre">dtypes</span></tt>, but indicates
if the underlying is sparse/dense (as well as the dtype)</p>
</li>
<li><p class="first">All <tt class="docutils literal"><span class="pre">NDFrame</span></tt> objects can now use <tt class="docutils literal"><span class="pre">__finalize__()</span></tt> to specify various
values to propagate to new objects from an existing one (e.g. <tt class="docutils literal"><span class="pre">name</span></tt> in <tt class="docutils literal"><span class="pre">Series</span></tt> will
follow more automatically now)</p>
</li>
<li><p class="first">Internal type checking is now done via a suite of generated classes, allowing <tt class="docutils literal"><span class="pre">isinstance(value,</span> <span class="pre">klass)</span></tt>
without having to directly import the klass, courtesy of &#64;jtratner</p>
</li>
<li><p class="first">Bug in Series update where the parent frame is not updating its cache based on
changes (<a class="reference external" href="https://github.com/pydata/pandas/issues/4080">GH4080</a>) or types (<a class="reference external" href="https://github.com/pydata/pandas/issues/3217">GH3217</a>), fillna (<a class="reference external" href="https://github.com/pydata/pandas/issues/3386">GH3386</a>)</p>
</li>
<li><p class="first">Indexing with dtype conversions fixed (<a class="reference external" href="https://github.com/pydata/pandas/issues/4463">GH4463</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4204">GH4204</a>)</p>
</li>
<li><p class="first">Refactor <tt class="docutils literal"><span class="pre">Series.reindex</span></tt> to core/generic.py (<a class="reference external" href="https://github.com/pydata/pandas/issues/4604">GH4604</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4618">GH4618</a>), allow <tt class="docutils literal"><span class="pre">method=</span></tt> in reindexing
on a Series to work</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series.copy</span></tt> no longer accepts the <tt class="docutils literal"><span class="pre">order</span></tt> parameter and is now consistent with <tt class="docutils literal"><span class="pre">NDFrame</span></tt> copy</p>
</li>
<li><p class="first">Refactor <tt class="docutils literal"><span class="pre">rename</span></tt> methods to core/generic.py; fixes <tt class="docutils literal"><span class="pre">Series.rename</span></tt> for (<a class="reference external" href="https://github.com/pydata/pandas/issues/4605">GH4605</a>), and adds <tt class="docutils literal"><span class="pre">rename</span></tt>
with the same signature for <tt class="docutils literal"><span class="pre">Panel</span></tt></p>
</li>
<li><p class="first">Refactor <tt class="docutils literal"><span class="pre">clip</span></tt> methods to core/generic.py (<a class="reference external" href="https://github.com/pydata/pandas/issues/4798">GH4798</a>)</p>
</li>
<li><p class="first">Refactor of <tt class="docutils literal"><span class="pre">_get_numeric_data/_get_bool_data</span></tt> to core/generic.py, allowing Series/Panel functionality</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series</span></tt> (for index) / <tt class="docutils literal"><span class="pre">Panel</span></tt> (for items) now allow attribute access to its elements  (<a class="reference external" href="https://github.com/pydata/pandas/issues/1903">GH1903</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [132]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">))</span>

<span class="gp">In [133]: </span><span class="n">s</span><span class="o">.</span><span class="n">b</span>
<span class="gr">Out[133]: </span><span class="mi">2</span>

<span class="gp">In [134]: </span><span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>

<span class="gp">In [135]: </span><span class="n">s</span>
<span class="gr">Out[135]: </span>
<span class="go">a    5</span>
<span class="go">b    2</span>
<span class="go">c    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Bug Fixes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="release.html#release-bug-fixes-0-13-0"><em>V0.13.0 Bug Fixes</em></a> for an extensive list of bugs that have been fixed in 0.13.0.</p>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list of all API changes, Enhancements and Bug Fixes.</p>
</div>
</div>
<div class="section" id="v0-12-0-july-24-2013">
<span id="whatsnew-0120"></span><h2>v0.12.0 (July 24, 2013)<a class="headerlink" href="#v0-12-0-july-24-2013" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.11.0 and includes several new features and
enhancements along with a large number of bug fixes.</p>
<p>Highlights include a consistent I/O API naming scheme, routines to read html,
write multi-indexes to csv files, read &amp; write STATA data files, read &amp; write JSON format
files, Python 3 support for <tt class="docutils literal"><span class="pre">HDFStore</span></tt>, filtering of groupby expressions via <tt class="docutils literal"><span class="pre">filter</span></tt>, and a
revamped <tt class="docutils literal"><span class="pre">replace</span></tt> routine that accepts regular expressions.</p>
<div class="section" id="id7">
<h3>API changes<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">The I/O API is now much more consistent with a set of top level <tt class="docutils literal"><span class="pre">reader</span></tt> functions
accessed like <tt class="docutils literal"><span class="pre">pd.read_csv()</span></tt> that generally return a <tt class="docutils literal"><span class="pre">pandas</span></tt> object.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">read_csv</span></tt></li>
<li><tt class="docutils literal"><span class="pre">read_excel</span></tt></li>
<li><tt class="docutils literal"><span class="pre">read_hdf</span></tt></li>
<li><tt class="docutils literal"><span class="pre">read_sql</span></tt></li>
<li><tt class="docutils literal"><span class="pre">read_json</span></tt></li>
<li><tt class="docutils literal"><span class="pre">read_html</span></tt></li>
<li><tt class="docutils literal"><span class="pre">read_stata</span></tt></li>
<li><tt class="docutils literal"><span class="pre">read_clipboard</span></tt></li>
</ul>
<p>The corresponding <tt class="docutils literal"><span class="pre">writer</span></tt> functions are object methods that are accessed like <tt class="docutils literal"><span class="pre">df.to_csv()</span></tt></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">to_csv</span></tt></li>
<li><tt class="docutils literal"><span class="pre">to_excel</span></tt></li>
<li><tt class="docutils literal"><span class="pre">to_hdf</span></tt></li>
<li><tt class="docutils literal"><span class="pre">to_sql</span></tt></li>
<li><tt class="docutils literal"><span class="pre">to_json</span></tt></li>
<li><tt class="docutils literal"><span class="pre">to_html</span></tt></li>
<li><tt class="docutils literal"><span class="pre">to_stata</span></tt></li>
<li><tt class="docutils literal"><span class="pre">to_clipboard</span></tt></li>
</ul>
</li>
<li><p class="first">Fix modulo and integer division on Series,DataFrames to act similary to <tt class="docutils literal"><span class="pre">float</span></tt> dtypes to return
<tt class="docutils literal"><span class="pre">np.nan</span></tt> or <tt class="docutils literal"><span class="pre">np.inf</span></tt> as appropriate (<a class="reference external" href="https://github.com/pydata/pandas/issues/3590">GH3590</a>). This correct a numpy bug that treats <tt class="docutils literal"><span class="pre">integer</span></tt>
and <tt class="docutils literal"><span class="pre">float</span></tt> dtypes differently.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span> <span class="s">&#39;first&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s">&#39;second&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">})</span>

<span class="gp">In [2]: </span><span class="n">p</span> <span class="o">%</span> <span class="mi">0</span>
<span class="gr">Out[2]: </span>
<span class="go">   first  second</span>
<span class="go">0    NaN     NaN</span>
<span class="go">1    NaN     NaN</span>
<span class="go">2    NaN     NaN</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [3]: </span><span class="n">p</span> <span class="o">%</span> <span class="n">p</span>
<span class="gr">Out[3]: </span>
<span class="go">   first  second</span>
<span class="go">0      0     NaN</span>
<span class="go">1      0     NaN</span>
<span class="go">2      0       0</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [4]: </span><span class="n">p</span> <span class="o">/</span> <span class="n">p</span>
<span class="gr">Out[4]: </span>
<span class="go">   first    second</span>
<span class="go">0      1       inf</span>
<span class="go">1      1       inf</span>
<span class="go">2      1  1.000000</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [5]: </span><span class="n">p</span> <span class="o">/</span> <span class="mi">0</span>
<span class="gr">Out[5]: </span>
<span class="go">   first  second</span>
<span class="go">0    inf     inf</span>
<span class="go">1    inf     inf</span>
<span class="go">2    inf     inf</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Add <tt class="docutils literal"><span class="pre">squeeze</span></tt> keyword to <tt class="docutils literal"><span class="pre">groupby</span></tt> to allow reduction from
DataFrame -&gt; Series if groups are unique. This is a Regression from 0.10.1.
We are reverting back to the prior behavior. This means groupby will return the
same shaped objects whether the groups are unique or not. Revert this issue (<a class="reference external" href="https://github.com/pydata/pandas/issues/2893">GH2893</a>)
with (<a class="reference external" href="https://github.com/pydata/pandas/issues/3596">GH3596</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [6]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([{</span><span class="s">&quot;val1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;val2&quot;</span> <span class="p">:</span> <span class="mi">20</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;val1&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;val2&quot;</span><span class="p">:</span> <span class="mi">19</span><span class="p">},</span>
<span class="gp">   ...:</span>                  <span class="p">{</span><span class="s">&quot;val1&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;val2&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;val1&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;val2&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [7]: </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">dataf</span><span class="p">):</span>
<span class="gp">   ...:</span>     <span class="k">return</span> <span class="n">dataf</span><span class="p">[</span><span class="s">&quot;val2&quot;</span><span class="p">]</span>  <span class="o">-</span> <span class="n">dataf</span><span class="p">[</span><span class="s">&quot;val2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gp">   ...:</span> 

<span class="c"># squeezing the result frame to a series (because we have unique groups)</span>
<span class="gp">In [8]: </span><span class="n">df2</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">&quot;val1&quot;</span><span class="p">,</span> <span class="n">squeeze</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gr">Out[8]: </span>
<span class="go">0    0.5</span>
<span class="go">1   -0.5</span>
<span class="go">2    7.5</span>
<span class="go">3   -7.5</span>
<span class="go">Name: 1, dtype: float64</span>

<span class="c"># no squeezing (the default, and behavior in 0.10.1)</span>
<span class="gp">In [9]: </span><span class="n">df2</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">&quot;val1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gr">Out[9]: </span>
<span class="go">        0    1    2    3</span>
<span class="go">val1                    </span>
<span class="go">1     0.5 -0.5  7.5 -7.5</span>

<span class="go">[1 rows x 4 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Raise on <tt class="docutils literal"><span class="pre">iloc</span></tt> when boolean indexing with a label based indexer mask
e.g. a boolean Series, even with integer labels, will raise. Since <tt class="docutils literal"><span class="pre">iloc</span></tt>
is purely positional based, the labels on the Series are not alignable (<a class="reference external" href="https://github.com/pydata/pandas/issues/3631">GH3631</a>)</p>
<p>This case is rarely used, and there are plently of alternatives. This preserves the
<tt class="docutils literal"><span class="pre">iloc</span></tt> API to be <em>purely</em> positional based.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [10]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">lrange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="s">&#39;ABCDE&#39;</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">])</span>

<span class="gp">In [11]: </span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">a</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>

<span class="gp">In [12]: </span><span class="n">mask</span>
<span class="gr">Out[12]: </span>
<span class="go">A     True</span>
<span class="go">B    False</span>
<span class="go">C     True</span>
<span class="go">D    False</span>
<span class="go">E     True</span>
<span class="go">Name: a, dtype: bool</span>

<span class="c"># this is what you should use</span>
<span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
<span class="gr">Out[13]: </span>
<span class="go">   a</span>
<span class="go">A  0</span>
<span class="go">C  2</span>
<span class="go">E  4</span>

<span class="go">[3 rows x 1 columns]</span>

<span class="c"># this will work as well</span>
<span class="gp">In [14]: </span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">mask</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
<span class="gr">Out[14]: </span>
<span class="go">   a</span>
<span class="go">A  0</span>
<span class="go">C  2</span>
<span class="go">E  4</span>

<span class="go">[3 rows x 1 columns]</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">df.iloc[mask]</span></tt> will raise a <tt class="docutils literal"><span class="pre">ValueError</span></tt></p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">raise_on_error</span></tt> argument to plotting functions is removed. Instead,
plotting functions raise a <tt class="docutils literal"><span class="pre">TypeError</span></tt> when the <tt class="docutils literal"><span class="pre">dtype</span></tt> of the object
is <tt class="docutils literal"><span class="pre">object</span></tt> to remind you to avoid <tt class="docutils literal"><span class="pre">object</span></tt> arrays whenever possible
and thus you should cast to an appropriate numeric dtype if you need to
plot something.</p>
</li>
<li><p class="first">Add <tt class="docutils literal"><span class="pre">colormap</span></tt> keyword to DataFrame plotting methods. Accepts either a
matplotlib colormap object (ie, matplotlib.cm.jet) or a string name of such
an object (ie, &#8216;jet&#8217;). The colormap is sampled to select the color for each
column. Please see <a class="reference internal" href="visualization.html#visualization-colormaps"><em>Colormaps</em></a> for more information.
(<a class="reference external" href="https://github.com/pydata/pandas/issues/3860">GH3860</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DataFrame.interpolate()</span></tt> is now deprecated. Please use
<tt class="docutils literal"><span class="pre">DataFrame.fillna()</span></tt> and <tt class="docutils literal"><span class="pre">DataFrame.replace()</span></tt> instead. (<a class="reference external" href="https://github.com/pydata/pandas/issues/3582">GH3582</a>,
<a class="reference external" href="https://github.com/pydata/pandas/issues/3675">GH3675</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3676">GH3676</a>)</p>
</li>
<li><p class="first">the <tt class="docutils literal"><span class="pre">method</span></tt> and <tt class="docutils literal"><span class="pre">axis</span></tt> arguments of <tt class="docutils literal"><span class="pre">DataFrame.replace()</span></tt> are
deprecated</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DataFrame.replace</span></tt> &#8216;s <tt class="docutils literal"><span class="pre">infer_types</span></tt> parameter is removed and now
performs conversion by default. (<a class="reference external" href="https://github.com/pydata/pandas/issues/3907">GH3907</a>)</p>
</li>
<li><p class="first">Add the keyword <tt class="docutils literal"><span class="pre">allow_duplicates</span></tt> to <tt class="docutils literal"><span class="pre">DataFrame.insert</span></tt> to allow a duplicate column
to be inserted if <tt class="docutils literal"><span class="pre">True</span></tt>, default is <tt class="docutils literal"><span class="pre">False</span></tt> (same as prior to 0.12) (<a class="reference external" href="https://github.com/pydata/pandas/issues/3679">GH3679</a>)</p>
</li>
<li><p class="first">Implement <tt class="docutils literal"><span class="pre">__nonzero__</span></tt> for <tt class="docutils literal"><span class="pre">NDFrame</span></tt> objects (<a class="reference external" href="https://github.com/pydata/pandas/issues/3691">GH3691</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3696">GH3696</a>)</p>
</li>
<li><p class="first">IO api</p>
<ul>
<li><p class="first">added top-level function <tt class="docutils literal"><span class="pre">read_excel</span></tt> to replace the following,
The original API is deprecated and will be removed in a future version</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pandas.io.parsers</span> <span class="kn">import</span> <span class="n">ExcelFile</span>
<span class="n">xls</span> <span class="o">=</span> <span class="n">ExcelFile</span><span class="p">(</span><span class="s">&#39;path_to_file.xls&#39;</span><span class="p">)</span>
<span class="n">xls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;Sheet1&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;NA&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>With</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s">&#39;path_to_file.xls&#39;</span><span class="p">,</span> <span class="s">&#39;Sheet1&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;NA&#39;</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">added top-level function <tt class="docutils literal"><span class="pre">read_sql</span></tt> that is equivalent to the following</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pandas.io.sql</span> <span class="kn">import</span> <span class="n">read_frame</span>
<span class="n">read_frame</span><span class="p">(</span><span class="o">....</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DataFrame.to_html</span></tt> and <tt class="docutils literal"><span class="pre">DataFrame.to_latex</span></tt> now accept a path for
their first argument (<a class="reference external" href="https://github.com/pydata/pandas/issues/3702">GH3702</a>)</p>
</li>
<li><p class="first">Do not allow astypes on <tt class="docutils literal"><span class="pre">datetime64[ns]</span></tt> except to <tt class="docutils literal"><span class="pre">object</span></tt>, and
<tt class="docutils literal"><span class="pre">timedelta64[ns]</span></tt> to <tt class="docutils literal"><span class="pre">object/int</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/3425">GH3425</a>)</p>
</li>
<li><p class="first">The behavior of <tt class="docutils literal"><span class="pre">datetime64</span></tt> dtypes has changed with respect to certain
so-called reduction operations (<a class="reference external" href="https://github.com/pydata/pandas/issues/3726">GH3726</a>). The following operations now
raise a <tt class="docutils literal"><span class="pre">TypeError</span></tt> when perfomed on a <tt class="docutils literal"><span class="pre">Series</span></tt> and return an <em>empty</em>
<tt class="docutils literal"><span class="pre">Series</span></tt> when performed on a <tt class="docutils literal"><span class="pre">DataFrame</span></tt> similar to performing these
operations on, for example, a <tt class="docutils literal"><span class="pre">DataFrame</span></tt> of <tt class="docutils literal"><span class="pre">slice</span></tt> objects:</p>
<ul class="simple">
<li>sum, prod, mean, std, var, skew, kurt, corr, and cov</li>
</ul>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_html</span></tt> now defaults to <tt class="docutils literal"><span class="pre">None</span></tt> when reading, and falls back on
<tt class="docutils literal"><span class="pre">bs4</span></tt> + <tt class="docutils literal"><span class="pre">html5lib</span></tt> when lxml fails to parse. a list of parsers to try
until success is also valid</p>
</li>
<li><p class="first">The internal <tt class="docutils literal"><span class="pre">pandas</span></tt> class hierarchy has changed (slightly). The
previous <tt class="docutils literal"><span class="pre">PandasObject</span></tt> now is called <tt class="docutils literal"><span class="pre">PandasContainer</span></tt> and a new
<tt class="docutils literal"><span class="pre">PandasObject</span></tt> has become the baseclass for <tt class="docutils literal"><span class="pre">PandasContainer</span></tt> as well
as <tt class="docutils literal"><span class="pre">Index</span></tt>, <tt class="docutils literal"><span class="pre">Categorical</span></tt>, <tt class="docutils literal"><span class="pre">GroupBy</span></tt>, <tt class="docutils literal"><span class="pre">SparseList</span></tt>, and
<tt class="docutils literal"><span class="pre">SparseArray</span></tt> (+ their base classes). Currently, <tt class="docutils literal"><span class="pre">PandasObject</span></tt>
provides string methods (from <tt class="docutils literal"><span class="pre">StringMixin</span></tt>). (<a class="reference external" href="https://github.com/pydata/pandas/issues/4090">GH4090</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4092">GH4092</a>)</p>
</li>
<li><p class="first">New <tt class="docutils literal"><span class="pre">StringMixin</span></tt> that, given a <tt class="docutils literal"><span class="pre">__unicode__</span></tt> method, gets python 2 and
python 3 compatible string methods (<tt class="docutils literal"><span class="pre">__str__</span></tt>, <tt class="docutils literal"><span class="pre">__bytes__</span></tt>, and
<tt class="docutils literal"><span class="pre">__repr__</span></tt>). Plus string safety throughout. Now employed in many places
throughout the pandas library. (<a class="reference external" href="https://github.com/pydata/pandas/issues/4090">GH4090</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4092">GH4092</a>)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="i-o-enhancements">
<h3>I/O Enhancements<a class="headerlink" href="#i-o-enhancements" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">pd.read_html()</span></tt> can now parse HTML strings, files or urls and return
DataFrames, courtesy of &#64;cpcloud. (<a class="reference external" href="https://github.com/pydata/pandas/issues/3477">GH3477</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3605">GH3605</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3606">GH3606</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3616">GH3616</a>).
It works with a <em>single</em> parser backend: BeautifulSoup4 + html5lib <a class="reference internal" href="io.html#io-html"><em>See the docs</em></a></p>
<p>You can use <tt class="docutils literal"><span class="pre">pd.read_html()</span></tt> to read the output from <tt class="docutils literal"><span class="pre">DataFrame.to_html()</span></tt> like so</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [15]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">)})</span>

<span class="gp">In [16]: </span><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">   a  b</span>
<span class="go">0  0  a</span>
<span class="go">1  1  b</span>
<span class="go">2  2  c</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [17]: </span><span class="n">html</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">()</span>

<span class="gp">In [18]: </span><span class="n">alist</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">infer_types</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="k">print</span><span class="p">(</span><span class="n">df</span> <span class="o">==</span> <span class="n">alist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">      a     b</span>
<span class="go">0  True  True</span>
<span class="go">1  True  True</span>
<span class="go">2  True  True</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>Note that <tt class="docutils literal"><span class="pre">alist</span></tt> here is a Python <tt class="docutils literal"><span class="pre">list</span></tt> so <tt class="docutils literal"><span class="pre">pd.read_html()</span></tt> and
<tt class="docutils literal"><span class="pre">DataFrame.to_html()</span></tt> are not inverses.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">pd.read_html()</span></tt> no longer performs hard conversion of date strings
(<a class="reference external" href="https://github.com/pydata/pandas/issues/3656">GH3656</a>).</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You may have to install an older version of BeautifulSoup4,
<a class="reference internal" href="install.html#install-optional-dependencies"><em>See the installation docs</em></a></p>
</div>
</li>
<li><p class="first">Added module for reading and writing Stata files: <tt class="docutils literal"><span class="pre">pandas.io.stata</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/1512">GH1512</a>)
accessable via <tt class="docutils literal"><span class="pre">read_stata</span></tt> top-level function for reading,
and <tt class="docutils literal"><span class="pre">to_stata</span></tt> DataFrame method for writing, <a class="reference internal" href="io.html#io-stata"><em>See the docs</em></a></p>
</li>
<li><p class="first">Added module for reading and writing json format files: <tt class="docutils literal"><span class="pre">pandas.io.json</span></tt>
accessable via <tt class="docutils literal"><span class="pre">read_json</span></tt> top-level function for reading,
and <tt class="docutils literal"><span class="pre">to_json</span></tt> DataFrame method for writing, <a class="reference internal" href="io.html#io-json"><em>See the docs</em></a>
various issues (<a class="reference external" href="https://github.com/pydata/pandas/issues/1226">GH1226</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3804">GH3804</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3876">GH3876</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3867">GH3867</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1305">GH1305</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">MultiIndex</span></tt> column support for reading and writing csv format files</p>
<ul>
<li><p class="first">The <tt class="docutils literal"><span class="pre">header</span></tt> option in <tt class="docutils literal"><span class="pre">read_csv</span></tt> now accepts a
list of the rows from which to read the index.</p>
</li>
<li><p class="first">The option, <tt class="docutils literal"><span class="pre">tupleize_cols</span></tt> can now be specified in both <tt class="docutils literal"><span class="pre">to_csv</span></tt> and
<tt class="docutils literal"><span class="pre">read_csv</span></tt>, to provide compatiblity for the pre 0.12 behavior of
writing and reading <tt class="docutils literal"><span class="pre">MultIndex</span></tt> columns via a list of tuples. The default in
0.12 is to write lists of tuples and <em>not</em> interpret list of tuples as a
<tt class="docutils literal"><span class="pre">MultiIndex</span></tt> column.</p>
<p>Note: The default behavior in 0.12 remains unchanged from prior versions, but starting with 0.13,
the default <em>to</em> write and read <tt class="docutils literal"><span class="pre">MultiIndex</span></tt> columns will be in the new
format. (<a class="reference external" href="https://github.com/pydata/pandas/issues/3571">GH3571</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1651">GH1651</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3141">GH3141</a>)</p>
</li>
<li><p class="first">If an <tt class="docutils literal"><span class="pre">index_col</span></tt> is not specified (e.g. you don&#8217;t have an index, or wrote it
with <tt class="docutils literal"><span class="pre">df.to_csv(...,</span> <span class="pre">index=False</span></tt>), then any <tt class="docutils literal"><span class="pre">names</span></tt> on the columns index will
be <em>lost</em>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [20]: </span><span class="kn">from</span> <span class="nn">pandas.util.testing</span> <span class="kn">import</span> <span class="n">makeCustomDataframe</span> <span class="k">as</span> <span class="n">mkdf</span>

<span class="gp">In [21]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">mkdf</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">r_idx_nlevels</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">c_idx_nlevels</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">&#39;mi.csv&#39;</span><span class="p">,</span><span class="n">tupleize_cols</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="k">print</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;mi.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go">C0,,C_l0_g0,C_l0_g1,C_l0_g2</span>
<span class="go">C1,,C_l1_g0,C_l1_g1,C_l1_g2</span>
<span class="go">C2,,C_l2_g0,C_l2_g1,C_l2_g2</span>
<span class="go">C3,,C_l3_g0,C_l3_g1,C_l3_g2</span>
<span class="go">R0,R1,,,</span>
<span class="go">R_l0_g0,R_l1_g0,R0C0,R0C1,R0C2</span>
<span class="go">R_l0_g1,R_l1_g1,R1C0,R1C1,R1C2</span>
<span class="go">R_l0_g2,R_l1_g2,R2C0,R2C1,R2C2</span>
<span class="go">R_l0_g3,R_l1_g3,R3C0,R3C1,R3C2</span>
<span class="go">R_l0_g4,R_l1_g4,R4C0,R4C1,R4C2</span>


<span class="gp">In [24]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&#39;mi.csv&#39;</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">index_col</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">tupleize_cols</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[24]: </span>
<span class="go">C0              C_l0_g0 C_l0_g1 C_l0_g2</span>
<span class="go">C1              C_l1_g0 C_l1_g1 C_l1_g2</span>
<span class="go">C2              C_l2_g0 C_l2_g1 C_l2_g2</span>
<span class="go">C3              C_l3_g0 C_l3_g1 C_l3_g2</span>
<span class="go">R0      R1                             </span>
<span class="go">R_l0_g0 R_l1_g0    R0C0    R0C1    R0C2</span>
<span class="go">R_l0_g1 R_l1_g1    R1C0    R1C1    R1C2</span>
<span class="go">R_l0_g2 R_l1_g2    R2C0    R2C1    R2C2</span>
<span class="go">R_l0_g3 R_l1_g3    R3C0    R3C1    R3C2</span>
<span class="go">R_l0_g4 R_l1_g4    R4C0    R4C1    R4C2</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">Support for <tt class="docutils literal"><span class="pre">HDFStore</span></tt> (via <tt class="docutils literal"><span class="pre">PyTables</span> <span class="pre">3.0.0</span></tt>) on Python3</p>
</li>
<li><p class="first">Iterator support via <tt class="docutils literal"><span class="pre">read_hdf</span></tt> that automatically opens and closes the
store when iteration is finished. This is only for <em>tables</em></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">path</span> <span class="o">=</span> <span class="s">&#39;store_iterator.h5&#39;</span>

<span class="gp">In [26]: </span><span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;df&#39;</span><span class="p">,</span><span class="n">table</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [27]: </span><span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">read_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;df&#39;</span><span class="p">,</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">   ....:</span>      <span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">          0         1</span>
<span class="go">0  1.392665 -0.123497</span>
<span class="go">1 -0.402761 -0.246604</span>
<span class="go">2 -0.288433 -0.763434</span>

<span class="go">[3 rows x 2 columns]</span>
<span class="go">          0         1</span>
<span class="go">3  2.069526 -1.203569</span>
<span class="go">4  0.591830  0.841159</span>
<span class="go">5 -0.501083 -0.816561</span>

<span class="go">[3 rows x 2 columns]</span>
<span class="go">          0         1</span>
<span class="go">6 -0.207082 -0.664112</span>
<span class="go">7  0.580411 -0.965628</span>
<span class="go">8 -0.038605 -0.460478</span>

<span class="go">[3 rows x 2 columns]</span>
<span class="go">          0         1</span>
<span class="go">9 -0.310458  0.866493</span>

<span class="go">[1 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_csv</span></tt> will now throw a more informative error message when a file
contains no columns, e.g., all newline characters</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="other-enhancements">
<h3>Other Enhancements<a class="headerlink" href="#other-enhancements" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">DataFrame.replace()</span></tt> now allows regular expressions on contained
<tt class="docutils literal"><span class="pre">Series</span></tt> with object dtype. See the examples section in the regular docs
<a class="reference internal" href="missing_data.html#missing-data-replace-expression"><em>Replacing via String Expression</em></a></p>
<p>For example you can do</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [28]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s">&#39;ab..&#39;</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [29]: </span><span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">regex</span><span class="o">=</span><span class="s">r&#39;\s*\.\s*&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="gr">Out[29]: </span>
<span class="go">     a  b</span>
<span class="go">0    a  1</span>
<span class="go">1    b  2</span>
<span class="go">2  NaN  3</span>
<span class="go">3  NaN  4</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>to replace all occurrences of the string <tt class="docutils literal"><span class="pre">'.'</span></tt> with zero or more
instances of surrounding whitespace with <tt class="docutils literal"><span class="pre">NaN</span></tt>.</p>
<p>Regular string replacement still works as expected. For example, you can do</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [30]: </span><span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="gr">Out[30]: </span>
<span class="go">     a  b</span>
<span class="go">0    a  1</span>
<span class="go">1    b  2</span>
<span class="go">2  NaN  3</span>
<span class="go">3  NaN  4</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>to replace all occurrences of the string <tt class="docutils literal"><span class="pre">'.'</span></tt> with <tt class="docutils literal"><span class="pre">NaN</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">pd.melt()</span></tt> now accepts the optional parameters <tt class="docutils literal"><span class="pre">var_name</span></tt> and <tt class="docutils literal"><span class="pre">value_name</span></tt>
to specify custom column names of the returned DataFrame.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">pd.set_option()</span></tt> now allows N option, value pairs (<a class="reference external" href="https://github.com/pydata/pandas/issues/3667">GH3667</a>).</p>
<blockquote>
<div><p>Let&#8217;s say that we had an option <tt class="docutils literal"><span class="pre">'a.b'</span></tt> and another option <tt class="docutils literal"><span class="pre">'b.c'</span></tt>.
We can set them at the same time:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [31]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s">&#39;a.b&#39;</span><span class="p">)</span>
<span class="gr">Out[31]: </span><span class="mi">2</span>

<span class="gp">In [32]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s">&#39;b.c&#39;</span><span class="p">)</span>
<span class="gr">Out[32]: </span><span class="mi">3</span>

<span class="gp">In [33]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;a.b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;b.c&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="gp">In [34]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s">&#39;a.b&#39;</span><span class="p">)</span>
<span class="gr">Out[34]: </span><span class="mi">1</span>

<span class="gp">In [35]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s">&#39;b.c&#39;</span><span class="p">)</span>
<span class="gr">Out[35]: </span><span class="mi">4</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">filter</span></tt> method for group objects returns a subset of the original
object. Suppose we want to take only elements that belong to groups with a
group sum greater than 2.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [36]: </span><span class="n">sf</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [37]: </span><span class="n">sf</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">sf</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[37]: </span>
<span class="go">3    3</span>
<span class="go">4    3</span>
<span class="go">5    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>The argument of <tt class="docutils literal"><span class="pre">filter</span></tt> must a function that, applied to the group as a
whole, returns <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>.</p>
<p>Another useful operation is filtering out elements that belong to groups
with only a couple members.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [38]: </span><span class="n">dff</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;A&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="s">&#39;B&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s">&#39;aabbbbcc&#39;</span><span class="p">)})</span>

<span class="gp">In [39]: </span><span class="n">dff</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[39]: </span>
<span class="go">   A  B</span>
<span class="go">2  2  b</span>
<span class="go">3  3  b</span>
<span class="go">4  4  b</span>
<span class="go">5  5  b</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>Alternatively, instead of dropping the offending groups, we can return a
like-indexed objects where the groups that do not pass the filter are
filled with NaNs.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [40]: </span><span class="n">dff</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[40]: </span>
<span class="go">    A    B</span>
<span class="go">0 NaN  NaN</span>
<span class="go">1 NaN  NaN</span>
<span class="go">2   2    b</span>
<span class="go">3   3    b</span>
<span class="go">4   4    b</span>
<span class="go">5   5    b</span>
<span class="go">6 NaN  NaN</span>
<span class="go">7 NaN  NaN</span>

<span class="go">[8 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Series and DataFrame hist methods now take a <tt class="docutils literal"><span class="pre">figsize</span></tt> argument (<a class="reference external" href="https://github.com/pydata/pandas/issues/3834">GH3834</a>)</p>
</li>
<li><p class="first">DatetimeIndexes no longer try to convert mixed-integer indexes during join
operations (<a class="reference external" href="https://github.com/pydata/pandas/issues/3877">GH3877</a>)</p>
</li>
<li><p class="first">Timestamp.min and Timestamp.max now represent valid Timestamp instances instead
of the default datetime.min and datetime.max (respectively), thanks &#64;SleepingPills</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_html</span></tt> now raises when no tables are found and BeautifulSoup==4.2.0
is detected (<a class="reference external" href="https://github.com/pydata/pandas/issues/4214">GH4214</a>)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="experimental-features">
<h3>Experimental Features<a class="headerlink" href="#experimental-features" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Added experimental <tt class="docutils literal"><span class="pre">CustomBusinessDay</span></tt> class to support <tt class="docutils literal"><span class="pre">DateOffsets</span></tt>
with custom holiday calendars and custom weekmasks. (<a class="reference external" href="https://github.com/pydata/pandas/issues/2301">GH2301</a>)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This uses the <tt class="docutils literal"><span class="pre">numpy.busdaycalendar</span></tt> API introduced in Numpy 1.7 and
therefore requires Numpy 1.7.0 or newer.</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [41]: </span><span class="kn">from</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">import</span> <span class="n">CustomBusinessDay</span>

<span class="c"># As an interesting example, let&#39;s look at Egypt where</span>
<span class="c"># a Friday-Saturday weekend is observed.</span>
<span class="gp">In [42]: </span><span class="n">weekmask_egypt</span> <span class="o">=</span> <span class="s">&#39;Sun Mon Tue Wed Thu&#39;</span>

<span class="c"># They also observe International Workers&#39; Day so let&#39;s</span>
<span class="c"># add that for a couple of years</span>
<span class="gp">In [43]: </span><span class="n">holidays</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;2012-05-01&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">(</span><span class="s">&#39;2014-05-01&#39;</span><span class="p">)]</span>

<span class="gp">In [44]: </span><span class="n">bday_egypt</span> <span class="o">=</span> <span class="n">CustomBusinessDay</span><span class="p">(</span><span class="n">holidays</span><span class="o">=</span><span class="n">holidays</span><span class="p">,</span> <span class="n">weekmask</span><span class="o">=</span><span class="n">weekmask_egypt</span><span class="p">)</span>

<span class="gp">In [45]: </span><span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="k">print</span><span class="p">(</span><span class="n">dt</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">bday_egypt</span><span class="p">)</span>
<span class="go">2013-05-05 00:00:00</span>

<span class="gp">In [47]: </span><span class="n">dts</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">bday_egypt</span><span class="p">)</span><span class="o">.</span><span class="n">to_series</span><span class="p">()</span>

<span class="gp">In [48]: </span><span class="k">print</span><span class="p">(</span><span class="n">Series</span><span class="p">(</span><span class="n">dts</span><span class="o">.</span><span class="n">weekday</span><span class="p">,</span> <span class="n">dts</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">Series</span><span class="p">(</span><span class="s">&#39;Mon Tue Wed Thu Fri Sat Sun&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">())))</span>
<span class="go">2013-04-30    Tue</span>
<span class="go">2013-05-02    Thu</span>
<span class="go">2013-05-05    Sun</span>
<span class="go">2013-05-06    Mon</span>
<span class="go">2013-05-07    Tue</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id8">
<h3>Bug Fixes<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Plotting functions now raise a <tt class="docutils literal"><span class="pre">TypeError</span></tt> before trying to plot anything
if the associated objects have have a dtype of <tt class="docutils literal"><span class="pre">object</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/1818">GH1818</a>,
<a class="reference external" href="https://github.com/pydata/pandas/issues/3572">GH3572</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3911">GH3911</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3912">GH3912</a>), but they will try to convert object arrays to
numeric arrays if possible so that you can still plot, for example, an
object array with floats. This happens before any drawing takes place which
elimnates any spurious plots from showing up.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">fillna</span></tt> methods now raise a <tt class="docutils literal"><span class="pre">TypeError</span></tt> if the <tt class="docutils literal"><span class="pre">value</span></tt> parameter is
a list or tuple.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series.str</span></tt> now supports iteration (<a class="reference external" href="https://github.com/pydata/pandas/issues/3638">GH3638</a>). You can iterate over the
individual elements of each string in the <tt class="docutils literal"><span class="pre">Series</span></tt>. Each iteration yields
yields a <tt class="docutils literal"><span class="pre">Series</span></tt> with either a single character at each index of the
original <tt class="docutils literal"><span class="pre">Series</span></tt> or <tt class="docutils literal"><span class="pre">NaN</span></tt>. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [49]: </span><span class="n">strs</span> <span class="o">=</span> <span class="s">&#39;go&#39;</span><span class="p">,</span> <span class="s">&#39;bow&#39;</span><span class="p">,</span> <span class="s">&#39;joe&#39;</span><span class="p">,</span> <span class="s">&#39;slow&#39;</span>

<span class="gp">In [50]: </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span>

<span class="gp">In [51]: </span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">str</span><span class="p">:</span>
<span class="gp">   ....:</span>     <span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">0    g</span>
<span class="go">1    b</span>
<span class="go">2    j</span>
<span class="go">3    s</span>
<span class="go">dtype: object</span>
<span class="go">0    o</span>
<span class="go">1    o</span>
<span class="go">2    o</span>
<span class="go">3    l</span>
<span class="go">dtype: object</span>
<span class="go">0    NaN</span>
<span class="go">1      w</span>
<span class="go">2      e</span>
<span class="go">3      o</span>
<span class="go">dtype: object</span>
<span class="go">0    NaN</span>
<span class="go">1    NaN</span>
<span class="go">2    NaN</span>
<span class="go">3      w</span>
<span class="go">dtype: object</span>

<span class="gp">In [52]: </span><span class="n">s</span>
<span class="gr">Out[52]: </span>
<span class="go">0    NaN</span>
<span class="go">1    NaN</span>
<span class="go">2    NaN</span>
<span class="go">3      w</span>
<span class="go">dtype: object</span>

<span class="gp">In [53]: </span><span class="n">s</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">item</span><span class="p">()</span> <span class="o">==</span> <span class="s">&#39;w&#39;</span>
<span class="gr">Out[53]: </span><span class="bp">True</span>
</pre></div>
</div>
<p>The last element yielded by the iterator will be a <tt class="docutils literal"><span class="pre">Series</span></tt> containing
the last element of the longest string in the <tt class="docutils literal"><span class="pre">Series</span></tt> with all other
elements being <tt class="docutils literal"><span class="pre">NaN</span></tt>. Here since <tt class="docutils literal"><span class="pre">'slow'</span></tt> is the longest string
and there are no other strings with the same length <tt class="docutils literal"><span class="pre">'w'</span></tt> is the only
non-null string in the yielded <tt class="docutils literal"><span class="pre">Series</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">HDFStore</span></tt></p>
<ul class="simple">
<li>will retain index attributes (freq,tz,name) on recreation (<a class="reference external" href="https://github.com/pydata/pandas/issues/3499">GH3499</a>)</li>
<li>will warn with a <tt class="docutils literal"><span class="pre">AttributeConflictWarning</span></tt> if you are attempting to append
an index with a different frequency than the existing, or attempting
to append an index with a different name than the existing</li>
<li>support datelike columns with a timezone as data_columns (<a class="reference external" href="https://github.com/pydata/pandas/issues/2852">GH2852</a>)</li>
</ul>
</li>
<li><p class="first">Non-unique index support clarified (<a class="reference external" href="https://github.com/pydata/pandas/issues/3468">GH3468</a>).</p>
<ul class="simple">
<li>Fix assigning a new index to a duplicate index in a DataFrame would fail (<a class="reference external" href="https://github.com/pydata/pandas/issues/3468">GH3468</a>)</li>
<li>Fix construction of a DataFrame with a duplicate index</li>
<li>ref_locs support to allow duplicative indices across dtypes,
allows iget support to always find the index (even across dtypes) (<a class="reference external" href="https://github.com/pydata/pandas/issues/2194">GH2194</a>)</li>
<li>applymap on a DataFrame with a non-unique index now works
(removed warning) (<a class="reference external" href="https://github.com/pydata/pandas/issues/2786">GH2786</a>), and fix (<a class="reference external" href="https://github.com/pydata/pandas/issues/3230">GH3230</a>)</li>
<li>Fix to_csv to handle non-unique columns (<a class="reference external" href="https://github.com/pydata/pandas/issues/3495">GH3495</a>)</li>
<li>Duplicate indexes with getitem will return items in the correct order (<a class="reference external" href="https://github.com/pydata/pandas/issues/3455">GH3455</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3457">GH3457</a>)
and handle missing elements like unique indices (<a class="reference external" href="https://github.com/pydata/pandas/issues/3561">GH3561</a>)</li>
<li>Duplicate indexes with and empty DataFrame.from_records will return a correct frame (<a class="reference external" href="https://github.com/pydata/pandas/issues/3562">GH3562</a>)</li>
<li>Concat to produce a non-unique columns when duplicates are across dtypes is fixed (<a class="reference external" href="https://github.com/pydata/pandas/issues/3602">GH3602</a>)</li>
<li>Allow insert/delete to non-unique columns (<a class="reference external" href="https://github.com/pydata/pandas/issues/3679">GH3679</a>)</li>
<li>Non-unique indexing with a slice via <tt class="docutils literal"><span class="pre">loc</span></tt> and friends fixed (<a class="reference external" href="https://github.com/pydata/pandas/issues/3659">GH3659</a>)</li>
<li>Allow insert/delete to non-unique columns (<a class="reference external" href="https://github.com/pydata/pandas/issues/3679">GH3679</a>)</li>
<li>Extend <tt class="docutils literal"><span class="pre">reindex</span></tt> to correctly deal with non-unique indices (<a class="reference external" href="https://github.com/pydata/pandas/issues/3679">GH3679</a>)</li>
<li><tt class="docutils literal"><span class="pre">DataFrame.itertuples()</span></tt> now works with frames with duplicate column
names (<a class="reference external" href="https://github.com/pydata/pandas/issues/3873">GH3873</a>)</li>
<li>Bug in non-unique indexing via <tt class="docutils literal"><span class="pre">iloc</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4017">GH4017</a>); added <tt class="docutils literal"><span class="pre">takeable</span></tt> argument to
<tt class="docutils literal"><span class="pre">reindex</span></tt> for location-based taking</li>
<li>Allow non-unique indexing in series via <tt class="docutils literal"><span class="pre">.ix/.loc</span></tt> and <tt class="docutils literal"><span class="pre">__getitem__</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4246">GH4246</a>)</li>
<li>Fixed non-unique indexing memory allocation issue with <tt class="docutils literal"><span class="pre">.ix/.loc</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4280">GH4280</a>)</li>
</ul>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DataFrame.from_records</span></tt> did not accept empty recarrays (<a class="reference external" href="https://github.com/pydata/pandas/issues/3682">GH3682</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">read_html</span></tt> now correctly skips tests (<a class="reference external" href="https://github.com/pydata/pandas/issues/3741">GH3741</a>)</p>
</li>
<li><p class="first">Fixed a bug where <tt class="docutils literal"><span class="pre">DataFrame.replace</span></tt> with a compiled regular expression
in the <tt class="docutils literal"><span class="pre">to_replace</span></tt> argument wasn&#8217;t working (<a class="reference external" href="https://github.com/pydata/pandas/issues/3907">GH3907</a>)</p>
</li>
<li><p class="first">Improved <tt class="docutils literal"><span class="pre">network</span></tt> test decorator to catch <tt class="docutils literal"><span class="pre">IOError</span></tt> (and therefore
<tt class="docutils literal"><span class="pre">URLError</span></tt> as well). Added <tt class="docutils literal"><span class="pre">with_connectivity_check</span></tt> decorator to allow
explicitly checking a website as a proxy for seeing if there is network
connectivity. Plus, new <tt class="docutils literal"><span class="pre">optional_args</span></tt> decorator factory for decorators.
(<a class="reference external" href="https://github.com/pydata/pandas/issues/3910">GH3910</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3914">GH3914</a>)</p>
</li>
<li><p class="first">Fixed testing issue where too many sockets where open thus leading to a
connection reset issue (<a class="reference external" href="https://github.com/pydata/pandas/issues/3982">GH3982</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3985">GH3985</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4028">GH4028</a>,
<a class="reference external" href="https://github.com/pydata/pandas/issues/4054">GH4054</a>)</p>
</li>
<li><p class="first">Fixed failing tests in test_yahoo, test_google where symbols were not
retrieved but were being accessed (<a class="reference external" href="https://github.com/pydata/pandas/issues/3982">GH3982</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/3985">GH3985</a>,
<a class="reference external" href="https://github.com/pydata/pandas/issues/4028">GH4028</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4054">GH4054</a>)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series.hist</span></tt> will now take the figure from the current environment if
one is not passed</p>
</li>
<li><p class="first">Fixed bug where a 1xN DataFrame would barf on a 1xN mask (<a class="reference external" href="https://github.com/pydata/pandas/issues/4071">GH4071</a>)</p>
</li>
<li><p class="first">Fixed running of <tt class="docutils literal"><span class="pre">tox</span></tt> under python3 where the pickle import was getting
rewritten in an incompatible way (<a class="reference external" href="https://github.com/pydata/pandas/issues/4062">GH4062</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/4063">GH4063</a>)</p>
</li>
<li><p class="first">Fixed bug where sharex and sharey were not being passed to grouped_hist
(<a class="reference external" href="https://github.com/pydata/pandas/issues/4089">GH4089</a>)</p>
</li>
<li><p class="first">Fixed bug in <tt class="docutils literal"><span class="pre">DataFrame.replace</span></tt> where a nested dict wasn&#8217;t being
iterated over when regex=False (<a class="reference external" href="https://github.com/pydata/pandas/issues/4115">GH4115</a>)</p>
</li>
<li><p class="first">Fixed bug in the parsing of microseconds when using the <tt class="docutils literal"><span class="pre">format</span></tt>
argument in <tt class="docutils literal"><span class="pre">to_datetime</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4152">GH4152</a>)</p>
</li>
<li><p class="first">Fixed bug in <tt class="docutils literal"><span class="pre">PandasAutoDateLocator</span></tt> where <tt class="docutils literal"><span class="pre">invert_xaxis</span></tt> triggered
incorrectly <tt class="docutils literal"><span class="pre">MilliSecondLocator</span></tt>  (<a class="reference external" href="https://github.com/pydata/pandas/issues/3990">GH3990</a>)</p>
</li>
<li><p class="first">Fixed bug in plotting that wasn&#8217;t raising on invalid colormap for
matplotlib 1.1.1 (<a class="reference external" href="https://github.com/pydata/pandas/issues/4215">GH4215</a>)</p>
</li>
<li><p class="first">Fixed the legend displaying in <tt class="docutils literal"><span class="pre">DataFrame.plot(kind='kde')</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/4216">GH4216</a>)</p>
</li>
<li><p class="first">Fixed bug where Index slices weren&#8217;t carrying the name attribute
(<a class="reference external" href="https://github.com/pydata/pandas/issues/4226">GH4226</a>)</p>
</li>
<li><p class="first">Fixed bug in initializing <tt class="docutils literal"><span class="pre">DatetimeIndex</span></tt> with an array of strings
in a certain time zone (<a class="reference external" href="https://github.com/pydata/pandas/issues/4229">GH4229</a>)</p>
</li>
<li><p class="first">Fixed bug where html5lib wasn&#8217;t being properly skipped (<a class="reference external" href="https://github.com/pydata/pandas/issues/4265">GH4265</a>)</p>
</li>
<li><p class="first">Fixed bug where get_data_famafrench wasn&#8217;t using the correct file edges
(<a class="reference external" href="https://github.com/pydata/pandas/issues/4281">GH4281</a>)</p>
</li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-11-0-april-22-2013">
<span id="whatsnew-0110"></span><h2>v0.11.0 (April 22, 2013)<a class="headerlink" href="#v0-11-0-april-22-2013" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.10.1 and includes many new features and
enhancements along with a large number of bug fixes. The methods of Selecting
Data have had quite a number of additions, and Dtype support is now full-fledged.
There are also a number of important API changes that long-time pandas users should
pay close attention to.</p>
<p>There is a new section in the documentation, <a class="reference internal" href="10min.html#min"><em>10 Minutes to Pandas</em></a>,
primarily geared to new users.</p>
<p>There is a new section in the documentation, <a class="reference internal" href="cookbook.html#cookbook"><em>Cookbook</em></a>, a collection
of useful recipes in pandas (and that we want contributions!).</p>
<p>There are several libraries that are now <a class="reference internal" href="install.html#install-recommended-dependencies"><em>Recommended Dependencies</em></a></p>
<div class="section" id="selection-choices">
<h3>Selection Choices<a class="headerlink" href="#selection-choices" title="Permalink to this headline">¶</a></h3>
<p>Starting in 0.11.0, object selection has had a number of user-requested additions in
order to support more explicit location based indexing. Pandas now supports
three types of multi-axis indexing.</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">.loc</span></tt> is strictly label based, will raise <tt class="docutils literal"><span class="pre">KeyError</span></tt> when the items are not found, allowed inputs are:</p>
<ul class="simple">
<li>A single label, e.g. <tt class="docutils literal"><span class="pre">5</span></tt> or <tt class="docutils literal"><span class="pre">'a'</span></tt>, (note that <tt class="docutils literal"><span class="pre">5</span></tt> is interpreted as a <em>label</em> of the index. This use is <strong>not</strong> an integer position along the index)</li>
<li>A list or array of labels <tt class="docutils literal"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c']</span></tt></li>
<li>A slice object with labels <tt class="docutils literal"><span class="pre">'a':'f'</span></tt>, (note that contrary to usual python slices, <strong>both</strong> the start and the stop are included!)</li>
<li>A boolean array</li>
</ul>
<p>See more at <a class="reference internal" href="indexing.html#indexing-label"><em>Selection by Label</em></a></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">.iloc</span></tt> is strictly integer position based (from <tt class="docutils literal"><span class="pre">0</span></tt> to <tt class="docutils literal"><span class="pre">length-1</span></tt> of the axis), will raise <tt class="docutils literal"><span class="pre">IndexError</span></tt> when the requested indicies are out of bounds. Allowed inputs are:</p>
<ul class="simple">
<li>An integer e.g. <tt class="docutils literal"><span class="pre">5</span></tt></li>
<li>A list or array of integers <tt class="docutils literal"><span class="pre">[4,</span> <span class="pre">3,</span> <span class="pre">0]</span></tt></li>
<li>A slice object with ints <tt class="docutils literal"><span class="pre">1:7</span></tt></li>
<li>A boolean array</li>
</ul>
<p>See more at <a class="reference internal" href="indexing.html#indexing-integer"><em>Selection by Position</em></a></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">.ix</span></tt> supports mixed integer and label based access. It is primarily label based, but will fallback to integer positional access. <tt class="docutils literal"><span class="pre">.ix</span></tt> is the most general and will support
any of the inputs to <tt class="docutils literal"><span class="pre">.loc</span></tt> and <tt class="docutils literal"><span class="pre">.iloc</span></tt>, as well as support for floating point label schemes. <tt class="docutils literal"><span class="pre">.ix</span></tt> is especially useful when dealing with mixed positional and label
based hierarchial indexes.</p>
<p>As using integer slices with <tt class="docutils literal"><span class="pre">.ix</span></tt> have different behavior depending on whether the slice
is interpreted as position based or label based, it&#8217;s usually better to be
explicit and use <tt class="docutils literal"><span class="pre">.iloc</span></tt> or <tt class="docutils literal"><span class="pre">.loc</span></tt>.</p>
<p>See more at <a class="reference internal" href="indexing.html#indexing-advanced"><em>Advanced Indexing</em></a>, <a class="reference internal" href="indexing.html#indexing-advanced-hierarchical"><em>Advanced Hierarchical</em></a> and
<a class="reference internal" href="indexing.html#indexing-fallback"><em>Fallback Indexing</em></a></p>
</li>
</ul>
</div>
<div class="section" id="selection-deprecations">
<h3>Selection Deprecations<a class="headerlink" href="#selection-deprecations" title="Permalink to this headline">¶</a></h3>
<p>Starting in version 0.11.0, these methods <em>may</em> be deprecated in future versions.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">irow</span></tt></li>
<li><tt class="docutils literal"><span class="pre">icol</span></tt></li>
<li><tt class="docutils literal"><span class="pre">iget_value</span></tt></li>
</ul>
<p>See the section <a class="reference internal" href="indexing.html#indexing-integer"><em>Selection by Position</em></a> for substitutes.</p>
</div>
<div class="section" id="dtypes">
<h3>Dtypes<a class="headerlink" href="#dtypes" title="Permalink to this headline">¶</a></h3>
<p>Numeric dtypes will propagate and can coexist in DataFrames. If a dtype is passed (either directly via the <tt class="docutils literal"><span class="pre">dtype</span></tt> keyword, a passed <tt class="docutils literal"><span class="pre">ndarray</span></tt>, or a passed <tt class="docutils literal"><span class="pre">Series</span></tt>, then it will be preserved in DataFrame operations. Furthermore, different numeric dtypes will <strong>NOT</strong> be combined. The following example will give you a taste.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="s">&#39;float32&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">df1</span>
<span class="gr">Out[2]: </span>
<span class="go">          A</span>
<span class="go">0  0.245972</span>
<span class="go">1  0.319442</span>
<span class="go">2  1.378512</span>
<span class="go">3  0.292502</span>
<span class="go">4  0.329791</span>
<span class="go">5  1.392047</span>
<span class="go">6  0.769914</span>
<span class="go">7 -2.472300</span>

<span class="go">[8 rows x 1 columns]</span>

<span class="gp">In [3]: </span><span class="n">df1</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[3]: </span>
<span class="go">A    float32</span>
<span class="go">dtype: object</span>

<span class="gp">In [4]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span> <span class="n">A</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="s">&#39;float16&#39;</span><span class="p">),</span>
<span class="gp">   ...:</span>                       <span class="n">B</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span>
<span class="gp">   ...:</span>                       <span class="n">C</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="s">&#39;uint8&#39;</span><span class="p">)</span> <span class="p">))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [5]: </span><span class="n">df2</span>
<span class="gr">Out[5]: </span>
<span class="go">          A         B    C</span>
<span class="go">0 -0.611328 -0.270630  255</span>
<span class="go">1  1.044922 -1.685677    0</span>
<span class="go">2  1.503906 -0.440747    0</span>
<span class="go">3 -1.328125 -0.115070    1</span>
<span class="go">4  1.024414 -0.632102    0</span>
<span class="go">5  0.660156 -0.585977    0</span>
<span class="go">6  1.236328 -1.444787    0</span>
<span class="go">7 -2.169922 -0.201135    0</span>

<span class="go">[8 rows x 3 columns]</span>

<span class="gp">In [6]: </span><span class="n">df2</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[6]: </span>
<span class="go">A    float16</span>
<span class="go">B    float64</span>
<span class="go">C      uint8</span>
<span class="go">dtype: object</span>

<span class="c"># here you get some upcasting</span>
<span class="gp">In [7]: </span><span class="n">df3</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">reindex_like</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span> <span class="n">df2</span>

<span class="gp">In [8]: </span><span class="n">df3</span>
<span class="gr">Out[8]: </span>
<span class="go">          A         B    C</span>
<span class="go">0 -0.365356 -0.270630  255</span>
<span class="go">1  1.364364 -1.685677    0</span>
<span class="go">2  2.882418 -0.440747    0</span>
<span class="go">3 -1.035623 -0.115070    1</span>
<span class="go">4  1.354205 -0.632102    0</span>
<span class="go">5  2.052203 -0.585977    0</span>
<span class="go">6  2.006243 -1.444787    0</span>
<span class="go">7 -4.642221 -0.201135    0</span>

<span class="go">[8 rows x 3 columns]</span>

<span class="gp">In [9]: </span><span class="n">df3</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[9]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="dtype-conversion">
<h3>Dtype Conversion<a class="headerlink" href="#dtype-conversion" title="Permalink to this headline">¶</a></h3>
<p>This is lower-common-denomicator upcasting, meaning you get the dtype which can accomodate all of the types</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [10]: </span><span class="n">df3</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[10]: </span><span class="n">dtype</span><span class="p">(</span><span class="s">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Conversion</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [11]: </span><span class="n">df3</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;float32&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[11]: </span>
<span class="go">A    float32</span>
<span class="go">B    float32</span>
<span class="go">C    float32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Mixed Conversion</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [12]: </span><span class="n">df3</span><span class="p">[</span><span class="s">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;1.&#39;</span>

<span class="gp">In [13]: </span><span class="n">df3</span><span class="p">[</span><span class="s">&#39;E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;1&#39;</span>

<span class="gp">In [14]: </span><span class="n">df3</span><span class="o">.</span><span class="n">convert_objects</span><span class="p">(</span><span class="n">convert_numeric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[14]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float64</span>
<span class="go">E      int64</span>
<span class="go">dtype: object</span>

<span class="c"># same, but specific dtype conversion</span>
<span class="gp">In [15]: </span><span class="n">df3</span><span class="p">[</span><span class="s">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df3</span><span class="p">[</span><span class="s">&#39;D&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;float16&#39;</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">df3</span><span class="p">[</span><span class="s">&#39;E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df3</span><span class="p">[</span><span class="s">&#39;E&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;int32&#39;</span><span class="p">)</span>

<span class="gp">In [17]: </span><span class="n">df3</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[17]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float16</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Forcing Date coercion (and setting <tt class="docutils literal"><span class="pre">NaT</span></tt> when not datelike)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [18]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">   ....:</span>             <span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;20010104&#39;</span><span class="p">),</span> <span class="s">&#39;20010105&#39;</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s">&#39;O&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [19]: </span><span class="n">s</span><span class="o">.</span><span class="n">convert_objects</span><span class="p">(</span><span class="n">convert_dates</span><span class="o">=</span><span class="s">&#39;coerce&#39;</span><span class="p">)</span>
<span class="gr">Out[19]: </span>
<span class="go">0   2001-01-01</span>
<span class="go">1          NaT</span>
<span class="go">2          NaT</span>
<span class="go">3          NaT</span>
<span class="go">4   2001-01-04</span>
<span class="go">5   2001-01-05</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
</div>
<div class="section" id="dtype-gotchas">
<h3>Dtype Gotchas<a class="headerlink" href="#dtype-gotchas" title="Permalink to this headline">¶</a></h3>
<p><strong>Platform Gotchas</strong></p>
<p>Starting in 0.11.0, construction of DataFrame/Series will use default dtypes of <tt class="docutils literal"><span class="pre">int64</span></tt> and <tt class="docutils literal"><span class="pre">float64</span></tt>,
<em>regardless of platform</em>. This is not an apparent change from earlier versions of pandas. If you specify
dtypes, they <em>WILL</em> be respected, however (<a class="reference external" href="https://github.com/pydata/pandas/issues/2837">GH2837</a>)</p>
<p>The following will all result in <tt class="docutils literal"><span class="pre">int64</span></tt> dtypes</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [20]: </span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[20]: </span>
<span class="go">a    int64</span>
<span class="go">dtype: object</span>

<span class="gp">In [21]: </span><span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;a&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="p">})</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[21]: </span>
<span class="go">a    int64</span>
<span class="go">dtype: object</span>

<span class="gp">In [22]: </span><span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;a&#39;</span> <span class="p">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[22]: </span>
<span class="go">a    int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Keep in mind that <tt class="docutils literal"><span class="pre">DataFrame(np.array([1,2]))</span></tt> <strong>WILL</strong> result in <tt class="docutils literal"><span class="pre">int32</span></tt> on 32-bit platforms!</p>
<p><strong>Upcasting Gotchas</strong></p>
<p>Performing indexing operations on integer type data can easily upcast the data.
The dtype of the input data will be preserved in cases where <tt class="docutils literal"><span class="pre">nans</span></tt> are not introduced.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [23]: </span><span class="n">dfi</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;int32&#39;</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="n">dfi</span><span class="p">[</span><span class="s">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfi</span><span class="p">[</span><span class="s">&#39;D&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;int64&#39;</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">dfi</span>
<span class="gr">Out[25]: </span>
<span class="go">   A  B    C  D  E</span>
<span class="go">0  0  0  255  1  1</span>
<span class="go">1  1 -1    0  1  1</span>
<span class="go">2  2  0    0  1  1</span>
<span class="go">3 -1  0    1  1  1</span>
<span class="go">4  1  0    0  1  1</span>
<span class="go">5  2  0    0  1  1</span>
<span class="go">6  2 -1    0  1  1</span>
<span class="go">7 -4  0    0  1  1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [26]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[26]: </span>
<span class="go">A    int32</span>
<span class="go">B    int32</span>
<span class="go">C    int32</span>
<span class="go">D    int64</span>
<span class="go">E    int32</span>
<span class="go">dtype: object</span>

<span class="gp">In [27]: </span><span class="n">casted</span> <span class="o">=</span> <span class="n">dfi</span><span class="p">[</span><span class="n">dfi</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="gp">In [28]: </span><span class="n">casted</span>
<span class="gr">Out[28]: </span>
<span class="go">    A   B    C  D  E</span>
<span class="go">0 NaN NaN  255  1  1</span>
<span class="go">1   1 NaN  NaN  1  1</span>
<span class="go">2   2 NaN  NaN  1  1</span>
<span class="go">3 NaN NaN    1  1  1</span>
<span class="go">4   1 NaN  NaN  1  1</span>
<span class="go">5   2 NaN  NaN  1  1</span>
<span class="go">6   2 NaN  NaN  1  1</span>
<span class="go">7 NaN NaN  NaN  1  1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [29]: </span><span class="n">casted</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[29]: </span>
<span class="go">A    float64</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D      int64</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>While float dtypes are unchanged.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [30]: </span><span class="n">df4</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [31]: </span><span class="n">df4</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df4</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;float32&#39;</span><span class="p">)</span>

<span class="gp">In [32]: </span><span class="n">df4</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[32]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float16</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>

<span class="gp">In [33]: </span><span class="n">casted</span> <span class="o">=</span> <span class="n">df4</span><span class="p">[</span><span class="n">df4</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="gp">In [34]: </span><span class="n">casted</span>
<span class="gr">Out[34]: </span>
<span class="go">          A   B    C  D  E</span>
<span class="go">0       NaN NaN  255  1  1</span>
<span class="go">1  1.364364 NaN  NaN  1  1</span>
<span class="go">2  2.882418 NaN  NaN  1  1</span>
<span class="go">3       NaN NaN    1  1  1</span>
<span class="go">4  1.354205 NaN  NaN  1  1</span>
<span class="go">5  2.052203 NaN  NaN  1  1</span>
<span class="go">6  2.006243 NaN  NaN  1  1</span>
<span class="go">7       NaN NaN  NaN  1  1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [35]: </span><span class="n">casted</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[35]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float16</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="datetimes-conversion">
<h3>Datetimes Conversion<a class="headerlink" href="#datetimes-conversion" title="Permalink to this headline">¶</a></h3>
<p>Datetime64[ns] columns in a DataFrame (or a Series) allow the use of <tt class="docutils literal"><span class="pre">np.nan</span></tt> to indicate a nan value,
in addition to the traditional <tt class="docutils literal"><span class="pre">NaT</span></tt>, or not-a-time. This allows convenient nan setting in a generic way.
Furthermore <tt class="docutils literal"><span class="pre">datetime64[ns]</span></tt> columns are created by default, when passed datetimelike objects (<em>this change was introduced in 0.10.1</em>)
(<a class="reference external" href="https://github.com/pydata/pandas/issues/2809">GH2809</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/2810">GH2810</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [36]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;20010102&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">6</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">])</span>

<span class="gp">In [37]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;timestamp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;20010103&#39;</span><span class="p">)</span>

<span class="gp">In [38]: </span><span class="n">df</span>
<span class="gr">Out[38]: </span>
<span class="go">                   A         B  timestamp</span>
<span class="go">2001-01-02 -1.448835  0.153437 2001-01-03</span>
<span class="go">2001-01-03 -1.123570 -0.791498 2001-01-03</span>
<span class="go">2001-01-04  0.105400  1.262401 2001-01-03</span>
<span class="go">2001-01-05 -0.721844 -0.647645 2001-01-03</span>
<span class="go">2001-01-06 -0.830631  0.761823 2001-01-03</span>
<span class="go">2001-01-07  0.597819  1.045558 2001-01-03</span>

<span class="go">[6 rows x 3 columns]</span>

<span class="c"># datetime64[ns] out of the box</span>
<span class="gp">In [39]: </span><span class="n">df</span><span class="o">.</span><span class="n">get_dtype_counts</span><span class="p">()</span>
<span class="gr">Out[39]: </span>
<span class="go">datetime64[ns]    1</span>
<span class="go">float64           2</span>
<span class="go">dtype: int64</span>

<span class="c"># use the traditional nan, which is mapped to NaT internally</span>
<span class="gp">In [40]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">,[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;timestamp&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [41]: </span><span class="n">df</span>
<span class="gr">Out[41]: </span>
<span class="go">                   A         B  timestamp</span>
<span class="go">2001-01-02 -1.448835  0.153437 2001-01-03</span>
<span class="go">2001-01-03 -1.123570 -0.791498 2001-01-03</span>
<span class="go">2001-01-04       NaN  1.262401        NaT</span>
<span class="go">2001-01-05       NaN -0.647645        NaT</span>
<span class="go">2001-01-06 -0.830631  0.761823 2001-01-03</span>
<span class="go">2001-01-07  0.597819  1.045558 2001-01-03</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>Astype conversion on <tt class="docutils literal"><span class="pre">datetime64[ns]</span></tt> to <tt class="docutils literal"><span class="pre">object</span></tt>, implicity converts <tt class="docutils literal"><span class="pre">NaT</span></tt> to <tt class="docutils literal"><span class="pre">np.nan</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [42]: </span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="gp">In [43]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span>

<span class="gp">In [44]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[44]: </span><span class="n">dtype</span><span class="p">(</span><span class="s">&#39;&lt;M8[ns]&#39;</span><span class="p">)</span>

<span class="gp">In [45]: </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [46]: </span><span class="n">s</span>
<span class="gr">Out[46]: </span>
<span class="go">0   2001-01-02</span>
<span class="go">1          NaT</span>
<span class="go">2   2001-01-02</span>
<span class="go">dtype: datetime64[ns]</span>

<span class="gp">In [47]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[47]: </span><span class="n">dtype</span><span class="p">(</span><span class="s">&#39;&lt;M8[ns]&#39;</span><span class="p">)</span>

<span class="gp">In [48]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">&#39;O&#39;</span><span class="p">)</span>

<span class="gp">In [49]: </span><span class="n">s</span>
<span class="gr">Out[49]: </span>
<span class="go">0    2001-01-02 00:00:00</span>
<span class="go">1                    NaN</span>
<span class="go">2    2001-01-02 00:00:00</span>
<span class="go">dtype: object</span>

<span class="gp">In [50]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[50]: </span><span class="n">dtype</span><span class="p">(</span><span class="s">&#39;O&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>API changes<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Added to_series() method to indicies, to facilitate the creation of indexers
(<a class="reference external" href="https://github.com/pydata/pandas/issues/3275">GH3275</a>)</li>
<li><tt class="docutils literal"><span class="pre">HDFStore</span></tt><ul>
<li>added the method <tt class="docutils literal"><span class="pre">select_column</span></tt> to select a single column from a table as a Series.</li>
<li>deprecated the <tt class="docutils literal"><span class="pre">unique</span></tt> method, can be replicated by <tt class="docutils literal"><span class="pre">select_column(key,column).unique()</span></tt></li>
<li><tt class="docutils literal"><span class="pre">min_itemsize</span></tt> parameter to <tt class="docutils literal"><span class="pre">append</span></tt> will now automatically create data_columns for passed keys</li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id10">
<h3>Enhancements<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Improved performance of df.to_csv() by up to 10x in some cases. (<a class="reference external" href="https://github.com/pydata/pandas/issues/3059">GH3059</a>)</p>
</li>
<li><p class="first">Numexpr is now a <a class="reference internal" href="install.html#install-recommended-dependencies"><em>Recommended Dependencies</em></a>, to accelerate certain
types of numerical and boolean operations</p>
</li>
<li><p class="first">Bottleneck is now a <a class="reference internal" href="install.html#install-recommended-dependencies"><em>Recommended Dependencies</em></a>, to accelerate certain
types of <tt class="docutils literal"><span class="pre">nan</span></tt> operations</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">HDFStore</span></tt></p>
<ul>
<li><p class="first">support <tt class="docutils literal"><span class="pre">read_hdf/to_hdf</span></tt> API similar to <tt class="docutils literal"><span class="pre">read_csv/to_csv</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [51]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span><span class="o">=</span><span class="n">lrange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">B</span><span class="o">=</span><span class="n">lrange</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span>

<span class="gp">In [52]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="s">&#39;store.h5&#39;</span><span class="p">,</span><span class="s">&#39;table&#39;</span><span class="p">,</span><span class="n">append</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [53]: </span><span class="n">read_hdf</span><span class="p">(</span><span class="s">&#39;store.h5&#39;</span><span class="p">,</span> <span class="s">&#39;table&#39;</span><span class="p">,</span> <span class="n">where</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;index&gt;2&#39;</span><span class="p">])</span>
<span class="gr">Out[53]: </span>
<span class="go">   A  B</span>
<span class="go">3  3  3</span>
<span class="go">4  4  4</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">provide dotted attribute access to <tt class="docutils literal"><span class="pre">get</span></tt> from stores, e.g. <tt class="docutils literal"><span class="pre">store.df</span> <span class="pre">==</span> <span class="pre">store['df']</span></tt></p>
</li>
<li><p class="first">new keywords <tt class="docutils literal"><span class="pre">iterator=boolean</span></tt>, and <tt class="docutils literal"><span class="pre">chunksize=number_in_a_chunk</span></tt> are
provided to support iteration on <tt class="docutils literal"><span class="pre">select</span></tt> and <tt class="docutils literal"><span class="pre">select_as_multiple</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/3076">GH3076</a>)</p>
</li>
</ul>
</li>
<li><p class="first">You can now select timestamps from an <em>unordered</em> timeseries similarly to an <em>ordered</em> timeseries (<a class="reference external" href="https://github.com/pydata/pandas/issues/2437">GH2437</a>)</p>
</li>
<li><p class="first">You can now select with a string from a DataFrame with a datelike index, in a similar way to a Series (<a class="reference external" href="https://github.com/pydata/pandas/issues/3070">GH3070</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [54]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s">&quot;2001-10-1&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">&#39;M&#39;</span><span class="p">)</span>

<span class="gp">In [55]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idx</span><span class="p">)),</span><span class="n">index</span><span class="o">=</span><span class="n">idx</span><span class="p">)</span>

<span class="gp">In [56]: </span><span class="n">ts</span><span class="p">[</span><span class="s">&#39;2001&#39;</span><span class="p">]</span>
<span class="gr">Out[56]: </span>
<span class="go">2001-10-31    0.483450</span>
<span class="go">2001-11-30    0.407530</span>
<span class="go">2001-12-31    0.965096</span>
<span class="go">Freq: M, dtype: float64</span>

<span class="gp">In [57]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">ts</span><span class="p">))</span>

<span class="gp">In [58]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;2001&#39;</span><span class="p">]</span>
<span class="gr">Out[58]: </span>
<span class="go">                   A</span>
<span class="go">2001-10-31  0.483450</span>
<span class="go">2001-11-30  0.407530</span>
<span class="go">2001-12-31  0.965096</span>

<span class="go">[3 rows x 1 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Squeeze</span></tt> to possibly remove length 1 dimensions from an object.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [59]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;ItemA&#39;</span><span class="p">,</span><span class="s">&#39;ItemB&#39;</span><span class="p">,</span><span class="s">&#39;ItemC&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="n">major_axis</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;20010102&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>                    <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">,</span><span class="s">&#39;C&#39;</span><span class="p">,</span><span class="s">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [60]: </span><span class="n">p</span>
<span class="gr">Out[60]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 4 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2001-01-02 00:00:00 to 2001-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="gp">In [61]: </span><span class="n">p</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;ItemA&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="gr">Out[61]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2001-01-02  0.396537  0.534880 -0.488797 -1.539385</span>
<span class="go">2001-01-03 -0.829037  0.306681 -0.331032  1.544977</span>
<span class="go">2001-01-04 -0.621754  1.026208 -0.413106 -1.490869</span>
<span class="go">2001-01-05 -1.253235 -0.538879 -1.487449 -1.426475</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [62]: </span><span class="n">p</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;ItemA&#39;</span><span class="p">],</span><span class="n">minor</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;B&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="gr">Out[62]: </span>
<span class="go">2001-01-02    0.534880</span>
<span class="go">2001-01-03    0.306681</span>
<span class="go">2001-01-04    1.026208</span>
<span class="go">2001-01-05   -0.538879</span>
<span class="go">Freq: D, Name: B, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">In <tt class="docutils literal"><span class="pre">pd.io.data.Options</span></tt>,</p>
<ul class="simple">
<li>Fix bug when trying to fetch data for the current month when already
past expiry.</li>
<li>Now using lxml to scrape html instead of BeautifulSoup (lxml was faster).</li>
<li>New instance variables for calls and puts are automatically created
when a method that creates them is called. This works for current month
where the instance variables are simply <tt class="docutils literal"><span class="pre">calls</span></tt> and <tt class="docutils literal"><span class="pre">puts</span></tt>. Also
works for future expiry months and save the instance variable as
<tt class="docutils literal"><span class="pre">callsMMYY</span></tt> or <tt class="docutils literal"><span class="pre">putsMMYY</span></tt>, where <tt class="docutils literal"><span class="pre">MMYY</span></tt> are, respectively, the
month and year of the option&#8217;s expiry.</li>
<li><tt class="docutils literal"><span class="pre">Options.get_near_stock_price</span></tt> now allows the user to specify the
month for which to get relevant options data.</li>
<li><tt class="docutils literal"><span class="pre">Options.get_forward_data</span></tt> now has optional kwargs <tt class="docutils literal"><span class="pre">near</span></tt> and
<tt class="docutils literal"><span class="pre">above_below</span></tt>. This allows the user to specify if they would like to
only return forward looking data for options near the current stock
price. This just obtains the data from Options.get_near_stock_price
instead of Options.get_xxx_data() (<a class="reference external" href="https://github.com/pydata/pandas/issues/2758">GH2758</a>).</li>
</ul>
</li>
<li><p class="first">Cursor coordinate information is now displayed in time-series plots.</p>
</li>
<li><p class="first">added option <cite>display.max_seq_items</cite> to control the number of
elements printed per sequence pprinting it.  (<a class="reference external" href="https://github.com/pydata/pandas/issues/2979">GH2979</a>)</p>
</li>
<li><p class="first">added option <cite>display.chop_threshold</cite> to control display of small numerical
values. (<a class="reference external" href="https://github.com/pydata/pandas/issues/2739">GH2739</a>)</p>
</li>
<li><p class="first">added option <cite>display.max_info_rows</cite> to prevent verbose_info from being
calculated for frames above 1M rows (configurable). (<a class="reference external" href="https://github.com/pydata/pandas/issues/2807">GH2807</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/2918">GH2918</a>)</p>
</li>
<li><p class="first">value_counts() now accepts a &#8220;normalize&#8221; argument, for normalized
histograms. (<a class="reference external" href="https://github.com/pydata/pandas/issues/2710">GH2710</a>).</p>
</li>
<li><p class="first">DataFrame.from_records now accepts not only dicts but any instance of
the collections.Mapping ABC.</p>
</li>
<li><p class="first">added option <cite>display.mpl_style</cite> providing a sleeker visual style
for plots. Based on <a class="reference external" href="https://gist.github.com/huyng/816622">https://gist.github.com/huyng/816622</a> (<a class="reference external" href="https://github.com/pydata/pandas/issues/3075">GH3075</a>).</p>
</li>
<li><p class="first">Treat boolean values as integers (values 1 and 0) for numeric
operations. (<a class="reference external" href="https://github.com/pydata/pandas/issues/2641">GH2641</a>)</p>
</li>
<li><p class="first">to_html() now accepts an optional &#8220;escape&#8221; argument to control reserved
HTML character escaping (enabled by default) and escapes <tt class="docutils literal"><span class="pre">&amp;</span></tt>, in addition
to <tt class="docutils literal"><span class="pre">&lt;</span></tt> and <tt class="docutils literal"><span class="pre">&gt;</span></tt>.  (<a class="reference external" href="https://github.com/pydata/pandas/issues/2919">GH2919</a>)</p>
</li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-10-1-january-22-2013">
<span id="whatsnew-0101"></span><h2>v0.10.1 (January 22, 2013)<a class="headerlink" href="#v0-10-1-january-22-2013" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.10.0 and includes new features, enhancements,
and bug fixes. In particular, there is substantial new HDFStore functionality
contributed by Jeff Reback.</p>
<p>An undesired API breakage with functions taking the <tt class="docutils literal"><span class="pre">inplace</span></tt> option has been
reverted and deprecation warnings added.</p>
<div class="section" id="id11">
<h3>API changes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Functions taking an <tt class="docutils literal"><span class="pre">inplace</span></tt> option return the calling object as before. A
deprecation message has been added</li>
<li>Groupby aggregations Max/Min no longer exclude non-numeric data (<a class="reference external" href="https://github.com/pydata/pandas/issues/2700">GH2700</a>)</li>
<li>Resampling an empty DataFrame now returns an empty DataFrame instead of
raising an exception (<a class="reference external" href="https://github.com/pydata/pandas/issues/2640">GH2640</a>)</li>
<li>The file reader will now raise an exception when NA values are found in an
explicitly specified integer column instead of converting the column to float
(<a class="reference external" href="https://github.com/pydata/pandas/issues/2631">GH2631</a>)</li>
<li>DatetimeIndex.unique now returns a DatetimeIndex with the same name and</li>
<li>timezone instead of an array (<a class="reference external" href="https://github.com/pydata/pandas/issues/2563">GH2563</a>)</li>
</ul>
</div>
<div class="section" id="new-features">
<h3>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>MySQL support for database (contribution from Dan Allan)</li>
</ul>
</div>
<div class="section" id="hdfstore">
<h3>HDFStore<a class="headerlink" href="#hdfstore" title="Permalink to this headline">¶</a></h3>
<p>You may need to upgrade your existing data files. Please visit the
<strong>compatibility</strong> section in the main docs.</p>
<p>You can designate (and index) certain columns that you want to be able to
perform queries on a table, by passing a list to <tt class="docutils literal"><span class="pre">data_columns</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">store</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="s">&#39;store.h5&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span>
<span class="gp">   ...:</span>            <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [3]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;foo&#39;</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="s">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="s">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;bar&#39;</span>

<span class="gp">In [6]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;string2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;cool&#39;</span>

<span class="gp">In [7]: </span><span class="n">df</span>
<span class="gr">Out[7]: </span>
<span class="go">                   A         B         C string string2</span>
<span class="go">2000-01-01 -1.601262 -0.256718  0.239369    foo    cool</span>
<span class="go">2000-01-02  0.174122 -1.131794 -1.948006    foo    cool</span>
<span class="go">2000-01-03  0.980347 -0.674429 -0.361633    foo    cool</span>
<span class="go">2000-01-04 -0.761218  1.768215  0.152288    foo    cool</span>
<span class="go">2000-01-05 -0.862613 -0.210968 -0.859278    NaN    cool</span>
<span class="go">2000-01-06  1.498195  0.462413 -0.647604    NaN    cool</span>
<span class="go">2000-01-07  1.511487 -0.727189 -0.342928    foo    cool</span>
<span class="go">2000-01-08 -0.007364  1.427674  0.104020    bar    cool</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="c"># on-disk operations</span>
<span class="gp">In [8]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">data_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;B&#39;</span><span class="p">,</span><span class="s">&#39;C&#39;</span><span class="p">,</span><span class="s">&#39;string&#39;</span><span class="p">,</span><span class="s">&#39;string2&#39;</span><span class="p">])</span>

<span class="gp">In [9]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,[</span> <span class="s">&#39;B &gt; 0&#39;</span><span class="p">,</span> <span class="s">&#39;string == foo&#39;</span> <span class="p">])</span>
<span class="gr">Out[9]: </span>
<span class="go">                   A         B         C string string2</span>
<span class="go">2000-01-04 -0.761218  1.768215  0.152288    foo    cool</span>

<span class="go">[1 rows x 5 columns]</span>

<span class="c"># this is in-memory version of this type of selection</span>
<span class="gp">In [10]: </span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">B</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">string</span> <span class="o">==</span> <span class="s">&#39;foo&#39;</span><span class="p">)]</span>
<span class="gr">Out[10]: </span>
<span class="go">                   A         B         C string string2</span>
<span class="go">2000-01-04 -0.761218  1.768215  0.152288    foo    cool</span>

<span class="go">[1 rows x 5 columns]</span>
</pre></div>
</div>
<p>Retrieving unique values in an indexable or data column.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [11]: </span><span class="n">store</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span><span class="s">&#39;index&#39;</span><span class="p">)</span>
<span class="gr">Out[11]: </span>
<span class="go">array([&#39;2000-01-01T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-02T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-03T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-04T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-05T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-06T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-07T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-08T02:00:00.000000000+0200&#39;], dtype=&#39;datetime64[ns]&#39;)</span>

<span class="gp">In [12]: </span><span class="n">store</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span><span class="s">&#39;string&#39;</span><span class="p">)</span>
<span class="gr">Out[12]: </span><span class="n">array</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>You can now store <tt class="docutils literal"><span class="pre">datetime64</span></tt> in data columns</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [13]: </span><span class="n">df_mixed</span>               <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [14]: </span><span class="n">df_mixed</span><span class="p">[</span><span class="s">&#39;datetime64&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;20010102&#39;</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">df_mixed</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">,[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [16]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;df_mixed&#39;</span><span class="p">,</span> <span class="n">df_mixed</span><span class="p">)</span>

<span class="gp">In [17]: </span><span class="n">df_mixed1</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;df_mixed&#39;</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">df_mixed1</span>
<span class="gr">Out[18]: </span>
<span class="go">                   A         B         C string string2 datetime64</span>
<span class="go">2000-01-01 -1.601262 -0.256718  0.239369    foo    cool 2001-01-02</span>
<span class="go">2000-01-02  0.174122 -1.131794 -1.948006    foo    cool 2001-01-02</span>
<span class="go">2000-01-03  0.980347 -0.674429 -0.361633    foo    cool 2001-01-02</span>
<span class="go">2000-01-04       NaN       NaN  0.152288    foo    cool 2001-01-02</span>
<span class="go">2000-01-05 -0.862613 -0.210968 -0.859278    NaN    cool 2001-01-02</span>
<span class="go">2000-01-06  1.498195  0.462413 -0.647604    NaN    cool 2001-01-02</span>
<span class="go">2000-01-07  1.511487 -0.727189 -0.342928    foo    cool 2001-01-02</span>
<span class="go">2000-01-08 -0.007364  1.427674  0.104020    bar    cool 2001-01-02</span>

<span class="go">[8 rows x 6 columns]</span>

<span class="gp">In [19]: </span><span class="n">df_mixed1</span><span class="o">.</span><span class="n">get_dtype_counts</span><span class="p">()</span>
<span class="gr">Out[19]: </span>
<span class="go">datetime64[ns]    1</span>
<span class="go">float64           3</span>
<span class="go">object            2</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>You can pass <tt class="docutils literal"><span class="pre">columns</span></tt> keyword to select to filter a list of the return
columns, this is equivalent to passing a
<tt class="docutils literal"><span class="pre">Term('columns',list_of_columns_to_filter)</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [20]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">])</span>
<span class="gr">Out[20]: </span>
<span class="go">                   A         B</span>
<span class="go">2000-01-01 -1.601262 -0.256718</span>
<span class="go">2000-01-02  0.174122 -1.131794</span>
<span class="go">2000-01-03  0.980347 -0.674429</span>
<span class="go">2000-01-04 -0.761218  1.768215</span>
<span class="go">2000-01-05 -0.862613 -0.210968</span>
<span class="go">2000-01-06  1.498195  0.462413</span>
<span class="go">2000-01-07  1.511487 -0.727189</span>
<span class="go">2000-01-08 -0.007364  1.427674</span>

<span class="go">[8 rows x 2 columns]</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">HDFStore</span></tt> now serializes multi-index dataframes when appending tables.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [21]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">MultiIndex</span><span class="p">(</span><span class="n">levels</span><span class="o">=</span><span class="p">[[</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="s">&#39;baz&#39;</span><span class="p">,</span> <span class="s">&#39;qux&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="p">[</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">]],</span>
<span class="gp">   ....:</span>                    <span class="n">labels</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
<span class="gp">   ....:</span>                    <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [22]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span>
<span class="gp">   ....:</span>                <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [23]: </span><span class="n">df</span>
<span class="gr">Out[23]: </span>
<span class="go">                  A         B         C</span>
<span class="go">foo bar                                </span>
<span class="go">foo one    2.052171 -1.230963 -0.019240</span>
<span class="go">    two   -1.713238  0.838912 -0.637855</span>
<span class="go">    three  0.215109 -1.515362  1.586924</span>
<span class="go">bar one   -0.447974 -1.573998  0.630925</span>
<span class="go">    two   -0.071659 -1.277640 -0.102206</span>
<span class="go">baz two    0.870302  1.275280 -1.199212</span>
<span class="go">    three  1.060780  1.673018  1.249874</span>
<span class="go">qux one    1.458210 -0.710542  0.825392</span>
<span class="go">    two    1.557329  1.993441 -0.616293</span>
<span class="go">    three  0.150468  0.132104  0.580923</span>

<span class="go">[10 rows x 3 columns]</span>

<span class="gp">In [24]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;mi&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;mi&#39;</span><span class="p">)</span>
<span class="gr">Out[25]: </span>
<span class="go">                  A         B         C</span>
<span class="go">foo bar                                </span>
<span class="go">foo one    2.052171 -1.230963 -0.019240</span>
<span class="go">    two   -1.713238  0.838912 -0.637855</span>
<span class="go">    three  0.215109 -1.515362  1.586924</span>
<span class="go">bar one   -0.447974 -1.573998  0.630925</span>
<span class="go">    two   -0.071659 -1.277640 -0.102206</span>
<span class="go">baz two    0.870302  1.275280 -1.199212</span>
<span class="go">    three  1.060780  1.673018  1.249874</span>
<span class="go">qux one    1.458210 -0.710542  0.825392</span>
<span class="go">    two    1.557329  1.993441 -0.616293</span>
<span class="go">    three  0.150468  0.132104  0.580923</span>

<span class="go">[10 rows x 3 columns]</span>

<span class="c"># the levels are automatically included as data columns</span>
<span class="gp">In [26]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;mi&#39;</span><span class="p">,</span> <span class="n">Term</span><span class="p">(</span><span class="s">&#39;foo=bar&#39;</span><span class="p">))</span>
<span class="gr">Out[26]: </span>
<span class="go">                A         B         C</span>
<span class="go">foo bar                              </span>
<span class="go">bar one -0.447974 -1.573998  0.630925</span>
<span class="go">    two -0.071659 -1.277640 -0.102206</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
<p>Multi-table creation via <tt class="docutils literal"><span class="pre">append_to_multiple</span></tt> and selection via
<tt class="docutils literal"><span class="pre">select_as_multiple</span></tt> can create/select from multiple tables and return a
combined result, by using <tt class="docutils literal"><span class="pre">where</span></tt> on a selector table.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [27]: </span><span class="n">df_mt</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span>
<span class="gp">   ....:</span>                                <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="s">&#39;E&#39;</span><span class="p">,</span> <span class="s">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [28]: </span><span class="n">df_mt</span><span class="p">[</span><span class="s">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;bar&#39;</span>

<span class="c"># you can also create the tables individually</span>
<span class="gp">In [29]: </span><span class="n">store</span><span class="o">.</span><span class="n">append_to_multiple</span><span class="p">({</span> <span class="s">&#39;df1_mt&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">],</span> <span class="s">&#39;df2_mt&#39;</span> <span class="p">:</span> <span class="bp">None</span> <span class="p">},</span> <span class="n">df_mt</span><span class="p">,</span> <span class="n">selector</span> <span class="o">=</span> <span class="s">&#39;df1_mt&#39;</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">store</span>
<span class="gr">Out[30]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/df                  frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;5,indexers-&gt;[index],dc-&gt;[B,C,string,string2])</span>
<span class="go">/df1_mt              frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;2,indexers-&gt;[index],dc-&gt;[A,B])               </span>
<span class="go">/df2_mt              frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;5,indexers-&gt;[index])                         </span>
<span class="go">/df_mixed            frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;6,indexers-&gt;[index])                         </span>
<span class="go">/mi                  frame_table  (typ-&gt;appendable_multi,nrows-&gt;10,ncols-&gt;5,indexers-&gt;[index],dc-&gt;[bar,foo])    </span>

<span class="c"># indiviual tables were created</span>
<span class="gp">In [31]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;df1_mt&#39;</span><span class="p">)</span>
<span class="gr">Out[31]: </span>
<span class="go">                   A         B</span>
<span class="go">2000-01-01 -0.128750  1.445964</span>
<span class="go">2000-01-02 -0.688741  0.228006</span>
<span class="go">2000-01-03  0.932498 -2.200069</span>
<span class="go">2000-01-04  1.298390  1.662964</span>
<span class="go">2000-01-05 -0.462446 -0.112019</span>
<span class="go">2000-01-06 -1.626124  0.982041</span>
<span class="go">2000-01-07  0.942864  2.502156</span>
<span class="go">2000-01-08  0.268766 -1.225092</span>

<span class="go">[8 rows x 2 columns]</span>

<span class="gp">In [32]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;df2_mt&#39;</span><span class="p">)</span>
<span class="gr">Out[32]: </span>
<span class="go">                   C         D         E         F  foo</span>
<span class="go">2000-01-01 -0.431163  0.016640  0.904578 -1.645852  bar</span>
<span class="go">2000-01-02  0.800353 -0.451572  0.831767  0.228760  bar</span>
<span class="go">2000-01-03  1.239198  0.185437 -0.540770 -0.370038  bar</span>
<span class="go">2000-01-04 -0.040863  0.290110 -0.096145  1.717830  bar</span>
<span class="go">2000-01-05 -0.134024 -0.205969  1.348944 -1.198246  bar</span>
<span class="go">2000-01-06  0.059493 -0.460111 -1.565401 -0.025706  bar</span>
<span class="go">2000-01-07 -0.302741  0.261551 -0.066342  0.897097  bar</span>
<span class="go">2000-01-08  0.582752 -1.490764 -0.639757 -0.952750  bar</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="c"># as a multiple</span>
<span class="gp">In [33]: </span><span class="n">store</span><span class="o">.</span><span class="n">select_as_multiple</span><span class="p">([</span><span class="s">&#39;df1_mt&#39;</span><span class="p">,</span><span class="s">&#39;df2_mt&#39;</span><span class="p">],</span> <span class="n">where</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&#39;A&gt;0&#39;</span><span class="p">,</span><span class="s">&#39;B&gt;0&#39;</span> <span class="p">],</span> <span class="n">selector</span> <span class="o">=</span> <span class="s">&#39;df1_mt&#39;</span><span class="p">)</span>
<span class="gr">Out[33]: </span>
<span class="go">                   A         B         C         D         E         F  foo</span>
<span class="go">2000-01-04  1.298390  1.662964 -0.040863  0.290110 -0.096145  1.717830  bar</span>
<span class="go">2000-01-07  0.942864  2.502156 -0.302741  0.261551 -0.066342  0.897097  bar</span>

<span class="go">[2 rows x 7 columns]</span>
</pre></div>
</div>
<p><strong>Enhancements</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">HDFStore</span></tt> now can read native PyTables table format tables</li>
<li>You can pass <tt class="docutils literal"><span class="pre">nan_rep</span> <span class="pre">=</span> <span class="pre">'my_nan_rep'</span></tt> to append, to change the default nan
representation on disk (which converts to/from <cite>np.nan</cite>), this defaults to
<cite>nan</cite>.</li>
<li>You can pass <tt class="docutils literal"><span class="pre">index</span></tt> to <tt class="docutils literal"><span class="pre">append</span></tt>. This defaults to <tt class="docutils literal"><span class="pre">True</span></tt>. This will
automagically create indicies on the <em>indexables</em> and <em>data columns</em> of the
table</li>
<li>You can pass <tt class="docutils literal"><span class="pre">chunksize=an</span> <span class="pre">integer</span></tt> to <tt class="docutils literal"><span class="pre">append</span></tt>, to change the writing
chunksize (default is 50000). This will signficantly lower your memory usage
on writing.</li>
<li>You can pass <tt class="docutils literal"><span class="pre">expectedrows=an</span> <span class="pre">integer</span></tt> to the first <tt class="docutils literal"><span class="pre">append</span></tt>, to set the
TOTAL number of expectedrows that <tt class="docutils literal"><span class="pre">PyTables</span></tt> will expected. This will
optimize read/write performance.</li>
<li><tt class="docutils literal"><span class="pre">Select</span></tt> now supports passing <tt class="docutils literal"><span class="pre">start</span></tt> and <tt class="docutils literal"><span class="pre">stop</span></tt> to provide selection
space limiting in selection.</li>
<li>Greatly improved ISO8601 (e.g., yyyy-mm-dd) date parsing for file parsers (<a class="reference external" href="https://github.com/pydata/pandas/issues/2698">GH2698</a>)</li>
<li>Allow <tt class="docutils literal"><span class="pre">DataFrame.merge</span></tt> to handle combinatorial sizes too large for 64-bit
integer (<a class="reference external" href="https://github.com/pydata/pandas/issues/2690">GH2690</a>)</li>
<li>Series now has unary negation (-series) and inversion (~series) operators (<a class="reference external" href="https://github.com/pydata/pandas/issues/2686">GH2686</a>)</li>
<li>DataFrame.plot now includes a <tt class="docutils literal"><span class="pre">logx</span></tt> parameter to change the x-axis to log scale (<a class="reference external" href="https://github.com/pydata/pandas/issues/2327">GH2327</a>)</li>
<li>Series arithmetic operators can now handle constant and ndarray input (<a class="reference external" href="https://github.com/pydata/pandas/issues/2574">GH2574</a>)</li>
<li>ExcelFile now takes a <tt class="docutils literal"><span class="pre">kind</span></tt> argument to specify the file type (<a class="reference external" href="https://github.com/pydata/pandas/issues/2613">GH2613</a>)</li>
<li>A faster implementation for Series.str methods (<a class="reference external" href="https://github.com/pydata/pandas/issues/2602">GH2602</a>)</li>
</ul>
<p><strong>Bug Fixes</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">HDFStore</span></tt> tables can now store <tt class="docutils literal"><span class="pre">float32</span></tt> types correctly (cannot be
mixed with <tt class="docutils literal"><span class="pre">float64</span></tt> however)</li>
<li>Fixed Google Analytics prefix when specifying request segment (<a class="reference external" href="https://github.com/pydata/pandas/issues/2713">GH2713</a>).</li>
<li>Function to reset Google Analytics token store so users can recover from
improperly setup client secrets (<a class="reference external" href="https://github.com/pydata/pandas/issues/2687">GH2687</a>).</li>
<li>Fixed groupby bug resulting in segfault when passing in MultiIndex (<a class="reference external" href="https://github.com/pydata/pandas/issues/2706">GH2706</a>)</li>
<li>Fixed bug where passing a Series with datetime64 values into <cite>to_datetime</cite>
results in bogus output values (<a class="reference external" href="https://github.com/pydata/pandas/issues/2699">GH2699</a>)</li>
<li>Fixed bug in <tt class="docutils literal"><span class="pre">pattern</span> <span class="pre">in</span> <span class="pre">HDFStore</span></tt> expressions when pattern is not a valid
regex (<a class="reference external" href="https://github.com/pydata/pandas/issues/2694">GH2694</a>)</li>
<li>Fixed performance issues while aggregating boolean data (<a class="reference external" href="https://github.com/pydata/pandas/issues/2692">GH2692</a>)</li>
<li>When given a boolean mask key and a Series of new values, Series __setitem__
will now align the incoming values with the original Series (<a class="reference external" href="https://github.com/pydata/pandas/issues/2686">GH2686</a>)</li>
<li>Fixed MemoryError caused by performing counting sort on sorting MultiIndex
levels with a very large number of combinatorial values (<a class="reference external" href="https://github.com/pydata/pandas/issues/2684">GH2684</a>)</li>
<li>Fixed bug that causes plotting to fail when the index is a DatetimeIndex with
a fixed-offset timezone (<a class="reference external" href="https://github.com/pydata/pandas/issues/2683">GH2683</a>)</li>
<li>Corrected businessday subtraction logic when the offset is more than 5 bdays
and the starting date is on a weekend (<a class="reference external" href="https://github.com/pydata/pandas/issues/2680">GH2680</a>)</li>
<li>Fixed C file parser behavior when the file has more columns than data
(<a class="reference external" href="https://github.com/pydata/pandas/issues/2668">GH2668</a>)</li>
<li>Fixed file reader bug that misaligned columns with data in the presence of an
implicit column and a specified <cite>usecols</cite> value</li>
<li>DataFrames with numerical or datetime indices are now sorted prior to
plotting (<a class="reference external" href="https://github.com/pydata/pandas/issues/2609">GH2609</a>)</li>
<li>Fixed DataFrame.from_records error when passed columns, index, but empty
records (<a class="reference external" href="https://github.com/pydata/pandas/issues/2633">GH2633</a>)</li>
<li>Several bug fixed for Series operations when dtype is datetime64 (<a class="reference external" href="https://github.com/pydata/pandas/issues/2689">GH2689</a>,
<a class="reference external" href="https://github.com/pydata/pandas/issues/2629">GH2629</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/2626">GH2626</a>)</li>
</ul>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-10-0-december-17-2012">
<span id="whatsnew-0100"></span><h2>v0.10.0 (December 17, 2012)<a class="headerlink" href="#v0-10-0-december-17-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.9.1 and includes many new features and
enhancements along with a large number of bug fixes. There are also a number of
important API changes that long-time pandas users should pay close attention
to.</p>
<div class="section" id="file-parsing-new-features">
<h3>File parsing new features<a class="headerlink" href="#file-parsing-new-features" title="Permalink to this headline">¶</a></h3>
<p>The delimited file parsing engine (the guts of <tt class="docutils literal"><span class="pre">read_csv</span></tt> and <tt class="docutils literal"><span class="pre">read_table</span></tt>)
has been rewritten from the ground up and now uses a fraction the amount of
memory while parsing, while being 40% or more faster in most use cases (in some
cases much faster).</p>
<p>There are also many new features:</p>
<ul class="simple">
<li>Much-improved Unicode handling via the <tt class="docutils literal"><span class="pre">encoding</span></tt> option.</li>
<li>Column filtering (<tt class="docutils literal"><span class="pre">usecols</span></tt>)</li>
<li>Dtype specification (<tt class="docutils literal"><span class="pre">dtype</span></tt> argument)</li>
<li>Ability to specify strings to be recognized as True/False</li>
<li>Ability to yield NumPy record arrays (<tt class="docutils literal"><span class="pre">as_recarray</span></tt>)</li>
<li>High performance <tt class="docutils literal"><span class="pre">delim_whitespace</span></tt> option</li>
<li>Decimal format (e.g. European format) specification</li>
<li>Easier CSV dialect options: <tt class="docutils literal"><span class="pre">escapechar</span></tt>, <tt class="docutils literal"><span class="pre">lineterminator</span></tt>,
<tt class="docutils literal"><span class="pre">quotechar</span></tt>, etc.</li>
<li>More robust handling of many exceptional kinds of files observed in the wild</li>
</ul>
</div>
<div class="section" id="id12">
<h3>API changes<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p><strong>Deprecated DataFrame BINOP TimeSeries special case behavior</strong></p>
<p>The default behavior of binary operations between a DataFrame and a Series has
always been to align on the DataFrame&#8217;s columns and broadcast down the rows,
<strong>except</strong> in the special case that the DataFrame contains time series. Since
there are now method for each binary operator enabling you to specify how you
want to broadcast, we are phasing out this special case (Zen of Python:
<em>Special cases aren&#8217;t special enough to break the rules</em>). Here&#8217;s what I&#8217;m
talking about:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">   ...:</span>                   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [3]: </span><span class="n">df</span>
<span class="gr">Out[3]: </span>
<span class="go">                   0         1         2         3</span>
<span class="go">2000-01-01 -0.892402  0.505987 -0.681624  0.850162</span>
<span class="go">2000-01-02  0.586586  1.175843 -0.160391  0.481679</span>
<span class="go">2000-01-03  0.408279  1.641246  0.383888 -1.495227</span>
<span class="go">2000-01-04  1.166096 -0.802272 -0.275253  0.517938</span>
<span class="go">2000-01-05 -0.750872  1.216537 -0.910343 -0.606534</span>
<span class="go">2000-01-06 -0.410659  0.264024 -0.069315 -1.814768</span>

<span class="go">[6 rows x 4 columns]</span>

<span class="c"># deprecated now</span>
<span class="gp">In [4]: </span><span class="n">df</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[4]: </span>
<span class="go">            0         1         2         3</span>
<span class="go">2000-01-01  0  1.398389  0.210778  1.742564</span>
<span class="go">2000-01-02  0  0.589256 -0.746978 -0.104908</span>
<span class="go">2000-01-03  0  1.232968 -0.024391 -1.903505</span>
<span class="go">2000-01-04  0 -1.968368 -1.441350 -0.648158</span>
<span class="go">2000-01-05  0  1.967410 -0.159471  0.144338</span>
<span class="go">2000-01-06  0  0.674682  0.341344 -1.404109</span>

<span class="go">[6 rows x 4 columns]</span>

<span class="c"># Change your code to</span>
<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c"># align on axis 0 (rows)</span>
<span class="gr">Out[5]: </span>
<span class="go">            0         1         2         3</span>
<span class="go">2000-01-01  0  1.398389  0.210778  1.742564</span>
<span class="go">2000-01-02  0  0.589256 -0.746978 -0.104908</span>
<span class="go">2000-01-03  0  1.232968 -0.024391 -1.903505</span>
<span class="go">2000-01-04  0 -1.968368 -1.441350 -0.648158</span>
<span class="go">2000-01-05  0  1.967410 -0.159471  0.144338</span>
<span class="go">2000-01-06  0  0.674682  0.341344 -1.404109</span>

<span class="go">[6 rows x 4 columns]</span>
</pre></div>
</div>
<p>You will get a deprecation warning in the 0.10.x series, and the deprecated
functionality will be removed in 0.11 or later.</p>
<p><strong>Altered resample default behavior</strong></p>
<p>The default time series <tt class="docutils literal"><span class="pre">resample</span></tt> binning behavior of daily <tt class="docutils literal"><span class="pre">D</span></tt> and
<em>higher</em> frequencies has been changed to <tt class="docutils literal"><span class="pre">closed='left',</span> <span class="pre">label='left'</span></tt>. Lower
nfrequencies are unaffected. The prior defaults were causing a great deal of
confusion for users, especially resampling data to daily frequency (which
labeled the aggregated group with the end of the interval: the next day).</p>
<p>Note:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [6]: </span><span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="s">&#39;1/5/2000&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">&#39;4h&#39;</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">series</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dates</span><span class="p">)),</span> <span class="n">index</span><span class="o">=</span><span class="n">dates</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="n">series</span>
<span class="gr">Out[8]: </span>
<span class="go">2000-01-01 00:00:00    0</span>
<span class="go">2000-01-01 04:00:00    1</span>
<span class="go">2000-01-01 08:00:00    2</span>
<span class="go">2000-01-01 12:00:00    3</span>
<span class="go">2000-01-01 16:00:00    4</span>
<span class="go">...</span>
<span class="go">2000-01-04 04:00:00    19</span>
<span class="go">2000-01-04 08:00:00    20</span>
<span class="go">2000-01-04 12:00:00    21</span>
<span class="go">2000-01-04 16:00:00    22</span>
<span class="go">2000-01-04 20:00:00    23</span>
<span class="go">2000-01-05 00:00:00    24</span>
<span class="go">Freq: 4H, Length: 25</span>

<span class="gp">In [9]: </span><span class="n">series</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s">&#39;sum&#39;</span><span class="p">)</span>
<span class="gr">Out[9]: </span>
<span class="go">2000-01-01     15</span>
<span class="go">2000-01-02     51</span>
<span class="go">2000-01-03     87</span>
<span class="go">2000-01-04    123</span>
<span class="go">2000-01-05     24</span>
<span class="go">Freq: D, dtype: int64</span>

<span class="c"># old behavior</span>
<span class="gp">In [10]: </span><span class="n">series</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s">&#39;sum&#39;</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="s">&#39;right&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">&#39;right&#39;</span><span class="p">)</span>
<span class="gr">Out[10]: </span>
<span class="go">2000-01-01      0</span>
<span class="go">2000-01-02     21</span>
<span class="go">2000-01-03     57</span>
<span class="go">2000-01-04     93</span>
<span class="go">2000-01-05    129</span>
<span class="go">Freq: D, dtype: int64</span>
</pre></div>
</div>
<ul class="simple">
<li>Infinity and negative infinity are no longer treated as NA by <tt class="docutils literal"><span class="pre">isnull</span></tt> and
<tt class="docutils literal"><span class="pre">notnull</span></tt>. That they every were was a relic of early pandas. This behavior
can be re-enabled globally by the <tt class="docutils literal"><span class="pre">mode.use_inf_as_null</span></tt> option:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [11]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">])</span>

<span class="gp">In [12]: </span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[12]: </span>
<span class="go">0    False</span>
<span class="go">1    False</span>
<span class="go">2    False</span>
<span class="go">3    False</span>
<span class="go">dtype: bool</span>

<span class="gp">In [13]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[13]: </span>
<span class="go">0    1.500000</span>
<span class="go">1         inf</span>
<span class="go">2    3.400000</span>
<span class="go">3        -inf</span>
<span class="go">dtype: float64</span>

<span class="gp">In [14]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;use_inf_as_null&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[15]: </span>
<span class="go">0    False</span>
<span class="go">1     True</span>
<span class="go">2    False</span>
<span class="go">3     True</span>
<span class="go">dtype: bool</span>

<span class="gp">In [16]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[16]: </span>
<span class="go">0    1.5</span>
<span class="go">1    0.0</span>
<span class="go">2    3.4</span>
<span class="go">3    0.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [17]: </span><span class="n">pd</span><span class="o">.</span><span class="n">reset_option</span><span class="p">(</span><span class="s">&#39;use_inf_as_null&#39;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Methods with the <tt class="docutils literal"><span class="pre">inplace</span></tt> option now all return <tt class="docutils literal"><span class="pre">None</span></tt> instead of the
calling object. E.g. code written like <tt class="docutils literal"><span class="pre">df</span> <span class="pre">=</span> <span class="pre">df.fillna(0,</span> <span class="pre">inplace=True)</span></tt>
may stop working. To fix, simply delete the unnecessary variable assignment.</li>
<li><tt class="docutils literal"><span class="pre">pandas.merge</span></tt> no longer sorts the group keys (<tt class="docutils literal"><span class="pre">sort=False</span></tt>) by
default. This was done for performance reasons: the group-key sorting is
often one of the more expensive parts of the computation and is often
unnecessary.</li>
<li>The default column names for a file with no header have been changed to the
integers <tt class="docutils literal"><span class="pre">0</span></tt> through <tt class="docutils literal"><span class="pre">N</span> <span class="pre">-</span> <span class="pre">1</span></tt>. This is to create consistency with the
DataFrame constructor with no columns specified. The v0.9.0 behavior (names
<tt class="docutils literal"><span class="pre">X0</span></tt>, <tt class="docutils literal"><span class="pre">X1</span></tt>, ...) can be reproduced by specifying <tt class="docutils literal"><span class="pre">prefix='X'</span></tt>:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [18]: </span><span class="n">data</span><span class="o">=</span> <span class="s">&#39;a,b,c</span><span class="se">\n</span><span class="s">1,Yes,2</span><span class="se">\n</span><span class="s">3,No,4&#39;</span>

<span class="gp">In [19]: </span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">a,b,c</span>
<span class="go">1,Yes,2</span>
<span class="go">3,No,4</span>

<span class="gp">In [20]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="gr">Out[20]: </span>
<span class="go">   0    1  2</span>
<span class="go">0  a    b  c</span>
<span class="go">1  1  Yes  2</span>
<span class="go">2  3   No  4</span>

<span class="go">[3 rows x 3 columns]</span>

<span class="gp">In [21]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;X&#39;</span><span class="p">)</span>
<span class="gr">Out[21]: </span>
<span class="go">  X0   X1 X2</span>
<span class="go">0  a    b  c</span>
<span class="go">1  1  Yes  2</span>
<span class="go">2  3   No  4</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li>Values like <tt class="docutils literal"><span class="pre">'Yes'</span></tt> and <tt class="docutils literal"><span class="pre">'No'</span></tt> are not interpreted as boolean by default,
though this can be controlled by new <tt class="docutils literal"><span class="pre">true_values</span></tt> and <tt class="docutils literal"><span class="pre">false_values</span></tt>
arguments:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [22]: </span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">a,b,c</span>
<span class="go">1,Yes,2</span>
<span class="go">3,No,4</span>

<span class="gp">In [23]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gr">Out[23]: </span>
<span class="go">   a    b  c</span>
<span class="go">0  1  Yes  2</span>
<span class="go">1  3   No  4</span>

<span class="go">[2 rows x 3 columns]</span>

<span class="gp">In [24]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">true_values</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Yes&#39;</span><span class="p">],</span> <span class="n">false_values</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;No&#39;</span><span class="p">])</span>
<span class="gr">Out[24]: </span>
<span class="go">   a      b  c</span>
<span class="go">0  1   True  2</span>
<span class="go">1  3  False  4</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li>The file parsers will not recognize non-string values arising from a
converter function as NA if passed in the <tt class="docutils literal"><span class="pre">na_values</span></tt> argument. It&#8217;s better
to do post-processing using the <tt class="docutils literal"><span class="pre">replace</span></tt> function instead.</li>
<li>Calling <tt class="docutils literal"><span class="pre">fillna</span></tt> on Series or DataFrame with no arguments is no longer
valid code. You must either specify a fill value or an interpolation method:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="gp">In [26]: </span><span class="n">s</span>
<span class="gr">Out[26]: </span>
<span class="go">0   NaN</span>
<span class="go">1     1</span>
<span class="go">2     2</span>
<span class="go">3   NaN</span>
<span class="go">4     4</span>
<span class="go">dtype: float64</span>

<span class="gp">In [27]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[27]: </span>
<span class="go">0    0</span>
<span class="go">1    1</span>
<span class="go">2    2</span>
<span class="go">3    0</span>
<span class="go">4    4</span>
<span class="go">dtype: float64</span>

<span class="gp">In [28]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&#39;pad&#39;</span><span class="p">)</span>
<span class="gr">Out[28]: </span>
<span class="go">0   NaN</span>
<span class="go">1     1</span>
<span class="go">2     2</span>
<span class="go">3     2</span>
<span class="go">4     4</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Convenience methods <tt class="docutils literal"><span class="pre">ffill</span></tt> and  <tt class="docutils literal"><span class="pre">bfill</span></tt> have been added:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [29]: </span><span class="n">s</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
<span class="gr">Out[29]: </span>
<span class="go">0   NaN</span>
<span class="go">1     1</span>
<span class="go">2     2</span>
<span class="go">3     2</span>
<span class="go">4     4</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">Series.apply</span></tt> will now operate on a returned value from the applied
function, that is itself a series, and possibly upcast the result to a
DataFrame</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [30]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....:</span>     <span class="k">return</span> <span class="n">Series</span><span class="p">([</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="p">],</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;x^2&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [31]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [32]: </span><span class="n">s</span>
<span class="gr">Out[32]: </span>
<span class="go">0    0.013135</span>
<span class="go">1    0.909855</span>
<span class="go">2    0.098093</span>
<span class="go">3    0.023540</span>
<span class="go">4    0.141354</span>
<span class="go">dtype: float64</span>

<span class="gp">In [33]: </span><span class="n">s</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gr">Out[33]: </span>
<span class="go">          x       x^2</span>
<span class="go">0  0.013135  0.000173</span>
<span class="go">1  0.909855  0.827836</span>
<span class="go">2  0.098093  0.009622</span>
<span class="go">3  0.023540  0.000554</span>
<span class="go">4  0.141354  0.019981</span>

<span class="go">[5 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">New API functions for working with pandas options (<a class="reference external" href="https://github.com/pydata/pandas/issues/2097">GH2097</a>):</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">get_option</span></tt> / <tt class="docutils literal"><span class="pre">set_option</span></tt> - get/set the value of an option. Partial
names are accepted.  - <tt class="docutils literal"><span class="pre">reset_option</span></tt> - reset one or more options to
their default value. Partial names are accepted.  - <tt class="docutils literal"><span class="pre">describe_option</span></tt> -
print a description of one or more options. When called with no
arguments. print all registered options.</li>
</ul>
<p>Note: <tt class="docutils literal"><span class="pre">set_printoptions</span></tt>/ <tt class="docutils literal"><span class="pre">reset_printoptions</span></tt> are now deprecated (but
functioning), the print options now live under &#8220;display.XYZ&#8221;. For example:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [34]: </span><span class="n">get_option</span><span class="p">(</span><span class="s">&quot;display.max_rows&quot;</span><span class="p">)</span>
<span class="gr">Out[34]: </span><span class="mi">15</span>
</pre></div>
</div>
</li>
<li><p class="first">to_string() methods now always return unicode strings  (<a class="reference external" href="https://github.com/pydata/pandas/issues/2224">GH2224</a>).</p>
</li>
</ul>
</div>
<div class="section" id="id13">
<h3>New features<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="wide-dataframe-printing">
<h3>Wide DataFrame Printing<a class="headerlink" href="#wide-dataframe-printing" title="Permalink to this headline">¶</a></h3>
<p>Instead of printing the summary information, pandas now splits the string
representation across multiple rows by default:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [35]: </span><span class="n">wide_frame</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>

<span class="gp">In [36]: </span><span class="n">wide_frame</span>
<span class="gr">Out[36]: </span>
<span class="go">         0         1         2         3         4         5         6   \</span>
<span class="go">0  2.520045  1.570114 -0.360875 -0.880096  0.235532  0.207232 -1.983857   </span>
<span class="go">1  0.422194  0.288403 -0.487393 -0.777639  0.055865  1.383381  0.085638   </span>
<span class="go">2  0.585174 -0.568825 -0.719412  1.191340 -0.456362  0.089931  0.776079   </span>
<span class="go">3  1.218080 -0.564705 -0.581790  0.286071  0.048725  1.002440  1.276582   </span>
<span class="go">4 -0.376280  0.511936 -0.116412 -0.625256 -0.550627  1.261433 -0.552429   </span>

<span class="go">         7         8         9         10        11        12        13  \</span>
<span class="go">0 -1.702547 -1.621234 -0.906840  1.014601 -0.475108 -0.358944  1.262942   </span>
<span class="go">1  0.246392  0.965887  0.246354 -0.727728 -0.094414 -0.276854  0.158399   </span>
<span class="go">2  0.752889 -1.195795 -1.425911 -0.548829  0.774225  0.740501  1.510263   </span>
<span class="go">3  0.054399  0.241963 -0.471786  0.314510 -0.059986 -2.069319 -1.115104   </span>
<span class="go">4  1.695803 -1.025917 -0.910942  0.426805 -0.131749  0.432600  0.044671   </span>

<span class="go">         14        15  </span>
<span class="go">0 -0.412451 -0.462580  </span>
<span class="go">1 -0.277255  1.331263  </span>
<span class="go">2 -1.642511  0.432560  </span>
<span class="go">3 -0.369325 -1.502617  </span>
<span class="go">4 -0.341265  1.844536  </span>

<span class="go">[5 rows x 16 columns]</span>
</pre></div>
</div>
<p>The old behavior of printing out summary information can be achieved via the
&#8216;expand_frame_repr&#8217; print option:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [37]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;expand_frame_repr&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="gp">In [38]: </span><span class="n">wide_frame</span>
<span class="gr">Out[38]: </span>
<span class="go">         0         1         2         3         4         5         6         7         8         9         10        11        12        13        14        15</span>
<span class="go">0  2.520045  1.570114 -0.360875 -0.880096  0.235532  0.207232 -1.983857 -1.702547 -1.621234 -0.906840  1.014601 -0.475108 -0.358944  1.262942 -0.412451 -0.462580</span>
<span class="go">1  0.422194  0.288403 -0.487393 -0.777639  0.055865  1.383381  0.085638  0.246392  0.965887  0.246354 -0.727728 -0.094414 -0.276854  0.158399 -0.277255  1.331263</span>
<span class="go">2  0.585174 -0.568825 -0.719412  1.191340 -0.456362  0.089931  0.776079  0.752889 -1.195795 -1.425911 -0.548829  0.774225  0.740501  1.510263 -1.642511  0.432560</span>
<span class="go">3  1.218080 -0.564705 -0.581790  0.286071  0.048725  1.002440  1.276582  0.054399  0.241963 -0.471786  0.314510 -0.059986 -2.069319 -1.115104 -0.369325 -1.502617</span>
<span class="go">4 -0.376280  0.511936 -0.116412 -0.625256 -0.550627  1.261433 -0.552429  1.695803 -1.025917 -0.910942  0.426805 -0.131749  0.432600  0.044671 -0.341265  1.844536</span>

<span class="go">[5 rows x 16 columns]</span>
</pre></div>
</div>
<p>The width of each line can be changed via &#8216;line_width&#8217; (80 by default):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [39]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">&#39;line_width&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>

<span class="gp">In [40]: </span><span class="n">wide_frame</span>
<span class="gr">Out[40]: </span>
<span class="go">         0         1         2   \</span>
<span class="go">0  2.520045  1.570114 -0.360875   </span>
<span class="go">1  0.422194  0.288403 -0.487393   </span>
<span class="go">2  0.585174 -0.568825 -0.719412   </span>
<span class="go">3  1.218080 -0.564705 -0.581790   </span>
<span class="go">4 -0.376280  0.511936 -0.116412   </span>

<span class="go">         3         4         5   \</span>
<span class="go">0 -0.880096  0.235532  0.207232   </span>
<span class="go">1 -0.777639  0.055865  1.383381   </span>
<span class="go">2  1.191340 -0.456362  0.089931   </span>
<span class="go">3  0.286071  0.048725  1.002440   </span>
<span class="go">4 -0.625256 -0.550627  1.261433   </span>

<span class="go">         6         7         8   \</span>
<span class="go">0 -1.983857 -1.702547 -1.621234   </span>
<span class="go">1  0.085638  0.246392  0.965887   </span>
<span class="go">2  0.776079  0.752889 -1.195795   </span>
<span class="go">3  1.276582  0.054399  0.241963   </span>
<span class="go">4 -0.552429  1.695803 -1.025917   </span>

<span class="go">         9         10        11  \</span>
<span class="go">0 -0.906840  1.014601 -0.475108   </span>
<span class="go">1  0.246354 -0.727728 -0.094414   </span>
<span class="go">2 -1.425911 -0.548829  0.774225   </span>
<span class="go">3 -0.471786  0.314510 -0.059986   </span>
<span class="go">4 -0.910942  0.426805 -0.131749   </span>

<span class="go">         12        13        14  \</span>
<span class="go">0 -0.358944  1.262942 -0.412451   </span>
<span class="go">1 -0.276854  0.158399 -0.277255   </span>
<span class="go">2  0.740501  1.510263 -1.642511   </span>
<span class="go">3 -2.069319 -1.115104 -0.369325   </span>
<span class="go">4  0.432600  0.044671 -0.341265   </span>

<span class="go">         15  </span>
<span class="go">0 -0.462580  </span>
<span class="go">1  1.331263  </span>
<span class="go">2  0.432560  </span>
<span class="go">3 -1.502617  </span>
<span class="go">4  1.844536  </span>

<span class="go">[5 rows x 16 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="updated-pytables-support">
<h3>Updated PyTables Support<a class="headerlink" href="#updated-pytables-support" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="io.html#io-hdf5"><em>Docs</em></a> for PyTables <tt class="docutils literal"><span class="pre">Table</span></tt> format &amp; several enhancements to the api. Here is a taste of what to expect.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [41]: </span><span class="n">store</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="s">&#39;store.h5&#39;</span><span class="p">)</span>

<span class="gp">In [42]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span>
<span class="gp">   ....:</span>            <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [43]: </span><span class="n">df</span>
<span class="gr">Out[43]: </span>
<span class="go">                   A         B         C</span>
<span class="go">2000-01-01 -2.036047  0.000830 -0.955697</span>
<span class="go">2000-01-02 -0.898872 -0.725411  0.059904</span>
<span class="go">2000-01-03 -0.449644  1.082900 -1.221265</span>
<span class="go">2000-01-04  0.361078  1.330704  0.855932</span>
<span class="go">2000-01-05 -1.216718  1.488887  0.018993</span>
<span class="go">2000-01-06 -0.877046  0.045976  0.437274</span>
<span class="go">2000-01-07 -0.567182 -0.888657 -0.556383</span>
<span class="go">2000-01-08  0.655457  1.117949 -2.782376</span>

<span class="go">[8 rows x 3 columns]</span>

<span class="c"># appending data frames</span>
<span class="gp">In [44]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>

<span class="gp">In [45]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

<span class="gp">In [46]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span> <span class="n">df1</span><span class="p">)</span>

<span class="gp">In [47]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span> <span class="n">df2</span><span class="p">)</span>

<span class="gp">In [48]: </span><span class="n">store</span>
<span class="gr">Out[48]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/df            frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;3,indexers-&gt;[index])</span>

<span class="c"># selecting the entire store</span>
<span class="gp">In [49]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">)</span>
<span class="gr">Out[49]: </span>
<span class="go">                   A         B         C</span>
<span class="go">2000-01-01 -2.036047  0.000830 -0.955697</span>
<span class="go">2000-01-02 -0.898872 -0.725411  0.059904</span>
<span class="go">2000-01-03 -0.449644  1.082900 -1.221265</span>
<span class="go">2000-01-04  0.361078  1.330704  0.855932</span>
<span class="go">2000-01-05 -1.216718  1.488887  0.018993</span>
<span class="go">2000-01-06 -0.877046  0.045976  0.437274</span>
<span class="go">2000-01-07 -0.567182 -0.888657 -0.556383</span>
<span class="go">2000-01-08  0.655457  1.117949 -2.782376</span>

<span class="go">[8 rows x 3 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [50]: </span><span class="n">wp</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Item1&#39;</span><span class="p">,</span> <span class="s">&#39;Item2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>        <span class="n">major_axis</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>        <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [51]: </span><span class="n">wp</span>
<span class="gr">Out[51]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-01 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="c"># storing a panel</span>
<span class="gp">In [52]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;wp&#39;</span><span class="p">,</span><span class="n">wp</span><span class="p">)</span>

<span class="c"># selecting via A QUERY</span>
<span class="gp">In [53]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;wp&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>   <span class="p">[</span> <span class="n">Term</span><span class="p">(</span><span class="s">&#39;major_axis&gt;20000102&#39;</span><span class="p">),</span> <span class="n">Term</span><span class="p">(</span><span class="s">&#39;minor_axis&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">])</span> <span class="p">])</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[53]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 3 (major_axis) x 2 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to B</span>

<span class="c"># removing data from tables</span>
<span class="gp">In [54]: </span><span class="n">store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s">&#39;wp&#39;</span><span class="p">,</span> <span class="n">Term</span><span class="p">(</span><span class="s">&#39;major_axis&gt;20000103&#39;</span><span class="p">))</span>
<span class="gr">Out[54]: </span><span class="mi">8</span>

<span class="gp">In [55]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;wp&#39;</span><span class="p">)</span>
<span class="gr">Out[55]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 3 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-01 00:00:00 to 2000-01-03 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="c"># deleting a store</span>
<span class="gp">In [56]: </span><span class="k">del</span> <span class="n">store</span><span class="p">[</span><span class="s">&#39;df&#39;</span><span class="p">]</span>

<span class="gp">In [57]: </span><span class="n">store</span>
<span class="gr">Out[57]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/wp            wide_table   (typ-&gt;appendable,nrows-&gt;12,ncols-&gt;2,indexers-&gt;[major_axis,minor_axis])</span>
</pre></div>
</div>
<p><strong>Enhancements</strong></p>
<ul>
<li><p class="first">added ability to hierarchical keys</p>
<blockquote>
<div><div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [58]: </span><span class="n">store</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s">&#39;foo/bar/bah&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>

<span class="gp">In [59]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;food/orange&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>

<span class="gp">In [60]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;food/apple&#39;</span><span class="p">,</span>  <span class="n">df</span><span class="p">)</span>

<span class="gp">In [61]: </span><span class="n">store</span>
<span class="gr">Out[61]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/wp                     wide_table   (typ-&gt;appendable,nrows-&gt;12,ncols-&gt;2,indexers-&gt;[major_axis,minor_axis])</span>
<span class="go">/food/apple             frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;3,indexers-&gt;[index])                 </span>
<span class="go">/food/orange            frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;3,indexers-&gt;[index])                 </span>
<span class="go">/foo/bar/bah            frame        (shape-&gt;[8,3])                                                        </span>

<span class="c"># remove all nodes under this level</span>
<span class="gp">In [62]: </span><span class="n">store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s">&#39;food&#39;</span><span class="p">)</span>

<span class="gp">In [63]: </span><span class="n">store</span>
<span class="gr">Out[63]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/wp                     wide_table   (typ-&gt;appendable,nrows-&gt;12,ncols-&gt;2,indexers-&gt;[major_axis,minor_axis])</span>
<span class="go">/foo/bar/bah            frame        (shape-&gt;[8,3])                                                        </span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">added mixed-dtype support!</p>
<blockquote>
<div><div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [64]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;string&#39;</span>

<span class="gp">In [65]: </span><span class="n">df</span><span class="p">[</span><span class="s">&#39;int&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [66]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [67]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;df&#39;</span><span class="p">)</span>

<span class="gp">In [68]: </span><span class="n">df1</span>
<span class="gr">Out[68]: </span>
<span class="go">                   A         B         C  string  int</span>
<span class="go">2000-01-01 -2.036047  0.000830 -0.955697  string    1</span>
<span class="go">2000-01-02 -0.898872 -0.725411  0.059904  string    1</span>
<span class="go">2000-01-03 -0.449644  1.082900 -1.221265  string    1</span>
<span class="go">2000-01-04  0.361078  1.330704  0.855932  string    1</span>
<span class="go">2000-01-05 -1.216718  1.488887  0.018993  string    1</span>
<span class="go">2000-01-06 -0.877046  0.045976  0.437274  string    1</span>
<span class="go">2000-01-07 -0.567182 -0.888657 -0.556383  string    1</span>
<span class="go">2000-01-08  0.655457  1.117949 -2.782376  string    1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [69]: </span><span class="n">df1</span><span class="o">.</span><span class="n">get_dtype_counts</span><span class="p">()</span>
<span class="gr">Out[69]: </span>
<span class="go">float64    3</span>
<span class="go">int64      1</span>
<span class="go">object     1</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">performance improvments on table writing</p>
</li>
<li><p class="first">support for arbitrarily indexed dimensions</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">SparseSeries</span></tt> now has a <tt class="docutils literal"><span class="pre">density</span></tt> property (<a class="reference external" href="https://github.com/pydata/pandas/issues/2384">GH2384</a>)</p>
</li>
<li><p class="first">enable <tt class="docutils literal"><span class="pre">Series.str.strip/lstrip/rstrip</span></tt> methods to take an input argument
to strip arbitrary characters (<a class="reference external" href="https://github.com/pydata/pandas/issues/2411">GH2411</a>)</p>
</li>
<li><p class="first">implement <tt class="docutils literal"><span class="pre">value_vars</span></tt> in <tt class="docutils literal"><span class="pre">melt</span></tt> to limit values to certain columns
and add <tt class="docutils literal"><span class="pre">melt</span></tt> to pandas namespace (<a class="reference external" href="https://github.com/pydata/pandas/issues/2412">GH2412</a>)</p>
</li>
</ul>
<p><strong>Bug Fixes</strong></p>
<ul class="simple">
<li>added <tt class="docutils literal"><span class="pre">Term</span></tt> method of specifying where conditions (<a class="reference external" href="https://github.com/pydata/pandas/issues/1996">GH1996</a>).</li>
<li><tt class="docutils literal"><span class="pre">del</span> <span class="pre">store['df']</span></tt> now call <tt class="docutils literal"><span class="pre">store.remove('df')</span></tt> for store deletion</li>
<li>deleting of consecutive rows is much faster than before</li>
<li><tt class="docutils literal"><span class="pre">min_itemsize</span></tt> parameter can be specified in table creation to force a
minimum size for indexing columns (the previous implementation would set the
column size based on the first append)</li>
<li>indexing support via <tt class="docutils literal"><span class="pre">create_table_index</span></tt> (requires PyTables &gt;= 2.3)
(<a class="reference external" href="https://github.com/pydata/pandas/issues/698">GH698</a>).</li>
<li>appending on a store would fail if the table was not first created via <tt class="docutils literal"><span class="pre">put</span></tt></li>
<li>fixed issue with missing attributes after loading a pickled dataframe (GH2431)</li>
<li>minor change to select and remove: require a table ONLY if where is also
provided (and not None)</li>
</ul>
<p><strong>Compatibility</strong></p>
<p>0.10 of <tt class="docutils literal"><span class="pre">HDFStore</span></tt> is backwards compatible for reading tables created in a prior version of pandas,
however, query terms using the prior (undocumented) methodology are unsupported. You must read in the entire
file and write it out using the new format to take advantage of the updates.</p>
</div>
<div class="section" id="n-dimensional-panels-experimental">
<h3>N Dimensional Panels (Experimental)<a class="headerlink" href="#n-dimensional-panels-experimental" title="Permalink to this headline">¶</a></h3>
<p>Adding experimental support for Panel4D and factory functions to create n-dimensional named panels.
<a class="reference internal" href="dsintro.html#dsintro-panel4d"><em>Docs</em></a> for NDim. Here is a taste of what to expect.</p>
<blockquote>
<div><div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [70]: </span><span class="n">p4d</span> <span class="o">=</span> <span class="n">Panel4D</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>       <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Label1&#39;</span><span class="p">,</span><span class="s">&#39;Label2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>       <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Item1&#39;</span><span class="p">,</span> <span class="s">&#39;Item2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>       <span class="n">major_axis</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>       <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [71]: </span><span class="n">p4d</span>
<span class="gr">Out[71]: </span>
<span class="go">&lt;class &#39;pandas.core.panelnd.Panel4D&#39;&gt;</span>
<span class="go">Dimensions: 2 (labels) x 2 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Labels axis: Label1 to Label2</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-01 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>
</pre></div>
</div>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-9-1-november-14-2012">
<span id="whatsnew-0901"></span><h2>v0.9.1 (November 14, 2012)<a class="headerlink" href="#v0-9-1-november-14-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a bugfix release from 0.9.0 and includes several new features and
enhancements along with a large number of bug fixes. The new features include
by-column sort order for DataFrame and Series, improved NA handling for the rank
method, masking functions for DataFrame, and intraday time-series filtering for
DataFrame.</p>
<div class="section" id="id14">
<h3>New features<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first"><cite>Series.sort</cite>, <cite>DataFrame.sort</cite>, and <cite>DataFrame.sort_index</cite> can now be
specified in a per-column manner to support multiple sort orders (<a class="reference external" href="https://github.com/pydata/pandas/issues/928">GH928</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">df</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gr">Out[2]: </span>
<span class="go">   A  B  C</span>
<span class="go">2  0  1  1</span>
<span class="go">3  0  1  1</span>
<span class="go">4  0  0  1</span>
<span class="go">0  1  1  0</span>
<span class="go">1  1  0  1</span>
<span class="go">5  1  0  1</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><cite>DataFrame.rank</cite> now supports additional argument values for the
<cite>na_option</cite> parameter so missing values can be assigned either the largest
or the smallest rank (<a class="reference external" href="https://github.com/pydata/pandas/issues/1508">GH1508</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/2159">GH2159</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">])</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="gr">Out[5]: </span>
<span class="go">    A   B   C</span>
<span class="go">0   3   2   1</span>
<span class="go">1   2   1   3</span>
<span class="go">2 NaN NaN NaN</span>
<span class="go">3 NaN NaN NaN</span>
<span class="go">4 NaN NaN NaN</span>
<span class="go">5   1   3   2</span>

<span class="go">[6 rows x 3 columns]</span>

<span class="gp">In [6]: </span><span class="n">df</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s">&#39;top&#39;</span><span class="p">)</span>
<span class="gr">Out[6]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  6  5  4</span>
<span class="go">1  5  4  6</span>
<span class="go">2  2  2  2</span>
<span class="go">3  2  2  2</span>
<span class="go">4  2  2  2</span>
<span class="go">5  4  6  5</span>

<span class="go">[6 rows x 3 columns]</span>

<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s">&#39;bottom&#39;</span><span class="p">)</span>
<span class="gr">Out[7]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  3  2  1</span>
<span class="go">1  2  1  3</span>
<span class="go">2  5  5  5</span>
<span class="go">3  5  5  5</span>
<span class="go">4  5  5  5</span>
<span class="go">5  1  3  2</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">DataFrame has new <cite>where</cite> and <cite>mask</cite> methods to select values according to a
given boolean mask (<a class="reference external" href="https://github.com/pydata/pandas/issues/2109">GH2109</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/2151">GH2151</a>)</p>
<blockquote>
<div><p>DataFrame currently supports slicing via a boolean vector the same length as the DataFrame (inside the <cite>[]</cite>).
The returned DataFrame has the same number of columns as the original, but is sliced on its index.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [8]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">,</span><span class="s">&#39;C&#39;</span><span class="p">])</span>

<span class="gp">In [9]: </span><span class="n">df</span>
<span class="gr">Out[9]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.706220 -1.130744 -0.690308</span>
<span class="go">1 -0.885387  0.246004  1.986687</span>
<span class="go">2  0.212595 -1.189832 -0.344258</span>
<span class="go">3  0.816335 -1.514102  1.298184</span>
<span class="go">4  0.089527  0.576687 -0.737750</span>

<span class="go">[5 rows x 3 columns]</span>

<span class="gp">In [10]: </span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[10]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.706220 -1.130744 -0.690308</span>
<span class="go">2  0.212595 -1.189832 -0.344258</span>
<span class="go">3  0.816335 -1.514102  1.298184</span>
<span class="go">4  0.089527  0.576687 -0.737750</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<p>If a DataFrame is sliced with a DataFrame based boolean condition (with the same size as the original DataFrame),
then a DataFrame the same size (index and columns) as the original is returned, with
elements that do not meet the boolean condition as <cite>NaN</cite>. This is accomplished via
the new method <cite>DataFrame.where</cite>. In addition, <cite>where</cite> takes an optional <cite>other</cite> argument for replacement.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [11]: </span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[11]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.706220       NaN       NaN</span>
<span class="go">1       NaN  0.246004  1.986687</span>
<span class="go">2  0.212595       NaN       NaN</span>
<span class="go">3  0.816335       NaN  1.298184</span>
<span class="go">4  0.089527  0.576687       NaN</span>

<span class="go">[5 rows x 3 columns]</span>

<span class="gp">In [12]: </span><span class="n">df</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[12]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.706220       NaN       NaN</span>
<span class="go">1       NaN  0.246004  1.986687</span>
<span class="go">2  0.212595       NaN       NaN</span>
<span class="go">3  0.816335       NaN  1.298184</span>
<span class="go">4  0.089527  0.576687       NaN</span>

<span class="go">[5 rows x 3 columns]</span>

<span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">df</span><span class="p">)</span>
<span class="gr">Out[13]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.706220  1.130744  0.690308</span>
<span class="go">1  0.885387  0.246004  1.986687</span>
<span class="go">2  0.212595  1.189832  0.344258</span>
<span class="go">3  0.816335  1.514102  1.298184</span>
<span class="go">4  0.089527  0.576687  0.737750</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
<p>Furthermore, <cite>where</cite> now aligns the input boolean condition (ndarray or DataFrame), such that partial selection
with setting is possible. This is analagous to partial setting via <cite>.ix</cite> (but on the contents rather than the axis labels)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [14]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [15]: </span><span class="n">df2</span><span class="p">[</span> <span class="n">df2</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

<span class="gp">In [16]: </span><span class="n">df2</span>
<span class="gr">Out[16]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.706220 -1.130744 -0.690308</span>
<span class="go">1 -0.885387  3.000000  3.000000</span>
<span class="go">2  3.000000 -1.189832 -0.344258</span>
<span class="go">3  3.000000 -1.514102  3.000000</span>
<span class="go">4  0.089527  0.576687 -0.737750</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
<p><cite>DataFrame.mask</cite> is the inverse boolean operation of <cite>where</cite>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [17]: </span><span class="n">df</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">df</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[17]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.706220       NaN       NaN</span>
<span class="go">1       NaN  0.246004  1.986687</span>
<span class="go">2  0.212595       NaN       NaN</span>
<span class="go">3  0.816335       NaN  1.298184</span>
<span class="go">4  0.089527  0.576687       NaN</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Enable referencing of Excel columns by their column names (<a class="reference external" href="https://github.com/pydata/pandas/issues/1936">GH1936</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [18]: </span><span class="n">xl</span> <span class="o">=</span> <span class="n">ExcelFile</span><span class="p">(</span><span class="s">&#39;data/test.xls&#39;</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">xl</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;Sheet1&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="gp">   ....:</span>          <span class="n">parse_cols</span><span class="o">=</span><span class="s">&#39;A:D&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[19]: </span>
<span class="go">                   A         B         C</span>
<span class="go">2000-01-03  0.980269  3.685731 -0.364217</span>
<span class="go">2000-01-04  1.047916 -0.041232 -0.161812</span>
<span class="go">2000-01-05  0.498581  0.731168 -0.537677</span>
<span class="go">2000-01-06  1.120202  1.567621  0.003641</span>
<span class="go">2000-01-07 -0.487094  0.571455 -1.611639</span>
<span class="go">2000-01-10  0.836649  0.246462  0.588543</span>
<span class="go">2000-01-11 -0.157161  1.340307  1.195778</span>

<span class="go">[7 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Added option to disable pandas-style tick locators and formatters
using <cite>series.plot(x_compat=True)</cite> or <cite>pandas.plot_params[&#8216;x_compat&#8217;] =
True</cite> (<a class="reference external" href="https://github.com/pydata/pandas/issues/2205">GH2205</a>)</p>
</li>
<li><p class="first">Existing TimeSeries methods <cite>at_time</cite> and <cite>between_time</cite> were added to
DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/2149">GH2149</a>)</p>
</li>
<li><p class="first">DataFrame.dot can now accept ndarrays (<a class="reference external" href="https://github.com/pydata/pandas/issues/2042">GH2042</a>)</p>
</li>
<li><p class="first">DataFrame.drop now supports non-unique indexes (<a class="reference external" href="https://github.com/pydata/pandas/issues/2101">GH2101</a>)</p>
</li>
<li><p class="first">Panel.shift now supports negative periods (<a class="reference external" href="https://github.com/pydata/pandas/issues/2164">GH2164</a>)</p>
</li>
<li><p class="first">DataFrame now support unary ~ operator (<a class="reference external" href="https://github.com/pydata/pandas/issues/2110">GH2110</a>)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id15">
<h3>API changes<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Upsampling data with a PeriodIndex will result in a higher frequency
TimeSeries that spans the original time window</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [20]: </span><span class="n">prng</span> <span class="o">=</span> <span class="n">period_range</span><span class="p">(</span><span class="s">&#39;2012Q1&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">&#39;Q&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">prng</span><span class="p">)),</span> <span class="n">prng</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">s</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s">&#39;M&#39;</span><span class="p">)</span>
<span class="gr">Out[22]: </span>
<span class="go">2012-01    0.194513</span>
<span class="go">2012-02         NaN</span>
<span class="go">2012-03         NaN</span>
<span class="go">2012-04   -0.854246</span>
<span class="go">2012-05         NaN</span>
<span class="go">2012-06         NaN</span>
<span class="go">Freq: M, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Period.end_time now returns the last nanosecond in the time interval
(<a class="reference external" href="https://github.com/pydata/pandas/issues/2124">GH2124</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/2125">GH2125</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1764">GH1764</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [23]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">Period</span><span class="p">(</span><span class="s">&#39;2012&#39;</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="n">p</span><span class="o">.</span><span class="n">end_time</span>
<span class="gr">Out[24]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;2012-12-31 23:59:59.999999999&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">File parsers no longer coerce to float or bool for columns that have custom
converters specified (<a class="reference external" href="https://github.com/pydata/pandas/issues/2184">GH2184</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">data</span> <span class="o">=</span> <span class="s">&#39;A,B,C</span><span class="se">\n</span><span class="s">00001,001,5</span><span class="se">\n</span><span class="s">00002,002,6&#39;</span>

<span class="gp">In [26]: </span><span class="kn">from</span> <span class="nn">cStringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>

<span class="gp">In [27]: </span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">converters</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;A&#39;</span> <span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()})</span>
<span class="gr">Out[27]: </span>
<span class="go">       A  B  C</span>
<span class="go">0  00001  1  5</span>
<span class="go">1  00002  2  6</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-9-0-october-7-2012">
<span id="whatsnew-0900"></span><h2>v0.9.0 (October 7, 2012)<a class="headerlink" href="#v0-9-0-october-7-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.8.1 and includes several new features and
enhancements along with a large number of bug fixes. New features include
vectorized unicode encoding/decoding for <cite>Series.str</cite>, <cite>to_latex</cite> method to
DataFrame, more flexible parsing of boolean values, and enabling the download of
options data from Yahoo! Finance.</p>
<div class="section" id="id16">
<h3>New features<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add <tt class="docutils literal"><span class="pre">encode</span></tt> and <tt class="docutils literal"><span class="pre">decode</span></tt> for unicode handling to <a class="reference internal" href="basics.html#basics-string-methods"><em>vectorized
string processing methods</em></a> in Series.str  (<a class="reference external" href="https://github.com/pydata/pandas/issues/1706">GH1706</a>)</li>
<li>Add <tt class="docutils literal"><span class="pre">DataFrame.to_latex</span></tt> method (<a class="reference external" href="https://github.com/pydata/pandas/issues/1735">GH1735</a>)</li>
<li>Add convenient expanding window equivalents of all rolling_* ops (<a class="reference external" href="https://github.com/pydata/pandas/issues/1785">GH1785</a>)</li>
<li>Add Options class to pandas.io.data for fetching options data from Yahoo!
Finance (<a class="reference external" href="https://github.com/pydata/pandas/issues/1748">GH1748</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1739">GH1739</a>)</li>
<li>More flexible parsing of boolean values (Yes, No, TRUE, FALSE, etc)
(<a class="reference external" href="https://github.com/pydata/pandas/issues/1691">GH1691</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1295">GH1295</a>)</li>
<li>Add <tt class="docutils literal"><span class="pre">level</span></tt> parameter to <tt class="docutils literal"><span class="pre">Series.reset_index</span></tt></li>
<li><tt class="docutils literal"><span class="pre">TimeSeries.between_time</span></tt> can now select times across midnight (<a class="reference external" href="https://github.com/pydata/pandas/issues/1871">GH1871</a>)</li>
<li>Series constructor can now handle generator as input (<a class="reference external" href="https://github.com/pydata/pandas/issues/1679">GH1679</a>)</li>
<li><tt class="docutils literal"><span class="pre">DataFrame.dropna</span></tt> can now take multiple axes (tuple/list) as input
(<a class="reference external" href="https://github.com/pydata/pandas/issues/924">GH924</a>)</li>
<li>Enable <tt class="docutils literal"><span class="pre">skip_footer</span></tt> parameter in <tt class="docutils literal"><span class="pre">ExcelFile.parse</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/1843">GH1843</a>)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id17">
<h3>API changes<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>The default column names when <tt class="docutils literal"><span class="pre">header=None</span></tt> and no columns names passed to
functions like <tt class="docutils literal"><span class="pre">read_csv</span></tt> has changed to be more Pythonic and amenable to
attribute access:</li>
</ul>
</div></blockquote>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>

<span class="gp">In [2]: </span><span class="n">data</span> <span class="o">=</span> <span class="s">&#39;0,0,1</span><span class="se">\n</span><span class="s">1,1,0</span><span class="se">\n</span><span class="s">0,1,0&#39;</span>

<span class="gp">In [3]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">df</span>
<span class="gr">Out[4]: </span>
<span class="go">   0  1  2</span>
<span class="go">0  0  0  1</span>
<span class="go">1  1  1  0</span>
<span class="go">2  0  1  0</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li>Creating a Series from another Series, passing an index, will cause reindexing
to happen inside rather than treating the Series like an ndarray. Technically
improper usages like <tt class="docutils literal"><span class="pre">Series(df[col1],</span> <span class="pre">index=df[col2])</span></tt> that worked before
&#8220;by accident&#8221; (this was never intended) will lead to all NA Series in some
cases. To be perfectly clear:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [5]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [6]: </span><span class="n">s1</span>
<span class="gr">Out[6]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [7]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="s">&#39;baz&#39;</span><span class="p">])</span>

<span class="gp">In [8]: </span><span class="n">s2</span>
<span class="gr">Out[8]: </span>
<span class="go">foo   NaN</span>
<span class="go">bar   NaN</span>
<span class="go">baz   NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<ul class="simple">
<li>Deprecated <tt class="docutils literal"><span class="pre">day_of_year</span></tt> API removed from PeriodIndex, use <tt class="docutils literal"><span class="pre">dayofyear</span></tt>
(<a class="reference external" href="https://github.com/pydata/pandas/issues/1723">GH1723</a>)</li>
<li>Don&#8217;t modify NumPy suppress printoption to True at import time</li>
<li>The internal HDF5 data arrangement for DataFrames has been transposed.  Legacy
files will still be readable by HDFStore (<a class="reference external" href="https://github.com/pydata/pandas/issues/1834">GH1834</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1824">GH1824</a>)</li>
<li>Legacy cruft removed: pandas.stats.misc.quantileTS</li>
<li>Use ISO8601 format for Period repr: monthly, daily, and on down (<a class="reference external" href="https://github.com/pydata/pandas/issues/1776">GH1776</a>)</li>
<li>Empty DataFrame columns are now created as object dtype. This will prevent a
class of TypeErrors that was occurring in code where the dtype of a column
would depend on the presence of data or not (e.g. a SQL query having results)
(<a class="reference external" href="https://github.com/pydata/pandas/issues/1783">GH1783</a>)</li>
<li>Setting parts of DataFrame/Panel using ix now aligns input Series/DataFrame
(<a class="reference external" href="https://github.com/pydata/pandas/issues/1630">GH1630</a>)</li>
<li><tt class="docutils literal"><span class="pre">first</span></tt> and <tt class="docutils literal"><span class="pre">last</span></tt> methods in <tt class="docutils literal"><span class="pre">GroupBy</span></tt> no longer drop non-numeric
columns (<a class="reference external" href="https://github.com/pydata/pandas/issues/1809">GH1809</a>)</li>
<li>Resolved inconsistencies in specifying custom NA values in text parser.
<tt class="docutils literal"><span class="pre">na_values</span></tt> of type dict no longer override default NAs unless
<tt class="docutils literal"><span class="pre">keep_default_na</span></tt> is set to false explicitly (<a class="reference external" href="https://github.com/pydata/pandas/issues/1657">GH1657</a>)</li>
<li><tt class="docutils literal"><span class="pre">DataFrame.dot</span></tt> will not do data alignment, and also work with Series
(<a class="reference external" href="https://github.com/pydata/pandas/issues/1915">GH1915</a>)</li>
</ul>
<p>See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-8-1-july-22-2012">
<span id="whatsnew-0801"></span><h2>v0.8.1 (July 22, 2012)<a class="headerlink" href="#v0-8-1-july-22-2012" title="Permalink to this headline">¶</a></h2>
<p>This release includes a few new features, performance enhancements, and over 30
bug fixes from 0.8.0.  New features include notably NA friendly string
processing functionality and a series of new plot types and options.</p>
<div class="section" id="id18">
<h3>New features<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add <a class="reference internal" href="basics.html#basics-string-methods"><em>vectorized string processing methods</em></a>
accessible via Series.str (<a class="reference external" href="https://github.com/pydata/pandas/issues/620">GH620</a>)</li>
<li>Add option to disable adjustment in EWMA (<a class="reference external" href="https://github.com/pydata/pandas/issues/1584">GH1584</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-radviz"><em>Radviz plot</em></a> (<a class="reference external" href="https://github.com/pydata/pandas/issues/1566">GH1566</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-parallel-coordinates"><em>Parallel coordinates plot</em></a></li>
<li><a class="reference internal" href="visualization.html#visualization-bootstrap"><em>Bootstrap plot</em></a></li>
<li>Per column styles and secondary y-axis plotting (<a class="reference external" href="https://github.com/pydata/pandas/issues/1559">GH1559</a>)</li>
<li>New datetime converters millisecond plotting  (<a class="reference external" href="https://github.com/pydata/pandas/issues/1599">GH1599</a>)</li>
<li>Add option to disable &#8220;sparse&#8221; display of hierarchical indexes (<a class="reference external" href="https://github.com/pydata/pandas/issues/1538">GH1538</a>)</li>
<li>Series/DataFrame&#8217;s <tt class="docutils literal"><span class="pre">set_index</span></tt> method can <a class="reference internal" href="indexing.html#indexing-set-index"><em>append levels</em></a> to an existing Index/MultiIndex (<a class="reference external" href="https://github.com/pydata/pandas/issues/1569">GH1569</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/1577">GH1577</a>)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="performance-improvements">
<h3>Performance improvements<a class="headerlink" href="#performance-improvements" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Improved implementation of rolling min and max (thanks to <a class="reference external" href="http://berkeleyanalytics.com/bottleneck/">Bottleneck</a> !)</li>
<li>Add accelerated <tt class="docutils literal"><span class="pre">'median'</span></tt> GroupBy option (<a class="reference external" href="https://github.com/pydata/pandas/issues/1358">GH1358</a>)</li>
<li>Significantly improve the performance of parsing ISO8601-format date
strings with <tt class="docutils literal"><span class="pre">DatetimeIndex</span></tt> or <tt class="docutils literal"><span class="pre">to_datetime</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/1571">GH1571</a>)</li>
<li>Improve the performance of GroupBy on single-key aggregations and use with
Categorical types</li>
<li>Significant datetime parsing performance improvments</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v0-8-0-june-29-2012">
<span id="whatsnew-080"></span><h2>v0.8.0 (June 29, 2012)<a class="headerlink" href="#v0-8-0-june-29-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.7.3 and includes extensive work on the time
series handling and processing infrastructure as well as a great deal of new
functionality throughout the library. It includes over 700 commits from more
than 20 distinct authors. Most pandas 0.7.3 and earlier users should not
experience any issues upgrading, but due to the migration to the NumPy
datetime64 dtype, there may be a number of bugs and incompatibilities
lurking. Lingering incompatibilities will be fixed ASAP in a 0.8.1 release if
necessary. See the <a class="reference internal" href="release.html#release"><em>full release notes</em></a> or issue tracker
on GitHub for a complete list.</p>
<div class="section" id="support-for-non-unique-indexes">
<h3>Support for non-unique indexes<a class="headerlink" href="#support-for-non-unique-indexes" title="Permalink to this headline">¶</a></h3>
<p>All objects can now work with non-unique indexes. Data alignment / join
operations work according to SQL join semantics (including, if application,
index duplication in many-to-many joins)</p>
</div>
<div class="section" id="numpy-datetime64-dtype-and-1-6-dependency">
<h3>NumPy datetime64 dtype and 1.6 dependency<a class="headerlink" href="#numpy-datetime64-dtype-and-1-6-dependency" title="Permalink to this headline">¶</a></h3>
<p>Time series data are now represented using NumPy&#8217;s datetime64 dtype; thus,
pandas 0.8.0 now requires at least NumPy 1.6. It has been tested and verified
to work with the development version (1.7+) of NumPy as well which includes
some significant user-facing API changes. NumPy 1.6 also has a number of bugs
having to do with nanosecond resolution data, so I recommend that you steer
clear of NumPy 1.6&#8217;s datetime64 API functions (though limited as they are) and
only interact with this data using the interface that pandas provides.</p>
<p>See the end of the 0.8.0 section for a &#8220;porting&#8221; guide listing potential issues
for users migrating legacy codebases from pandas 0.7 or earlier to 0.8.0.</p>
<p>Bug fixes to the 0.7.x series for legacy NumPy &lt; 1.6 users will be provided as
they arise. There will be no more further development in 0.7.x beyond bug
fixes.</p>
</div>
<div class="section" id="time-series-changes-and-improvements">
<h3>Time series changes and improvements<a class="headerlink" href="#time-series-changes-and-improvements" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">With this release, legacy scikits.timeseries users should be able to port
their code to use pandas.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference internal" href="timeseries.html#timeseries"><em>documentation</em></a> for overview of pandas timeseries API.</p>
</div>
<ul class="simple">
<li>New datetime64 representation <strong>speeds up join operations and data
alignment</strong>, <strong>reduces memory usage</strong>, and improve serialization /
deserialization performance significantly over datetime.datetime</li>
<li>High performance and flexible <strong>resample</strong> method for converting from
high-to-low and low-to-high frequency. Supports interpolation, user-defined
aggregation functions, and control over how the intervals and result labeling
are defined. A suite of high performance Cython/C-based resampling functions
(including Open-High-Low-Close) have also been implemented.</li>
<li>Revamp of <a class="reference internal" href="timeseries.html#timeseries-alias"><em>frequency aliases</em></a> and support for
<strong>frequency shortcuts</strong> like &#8216;15min&#8217;, or &#8216;1h30min&#8217;</li>
<li>New <a class="reference internal" href="timeseries.html#timeseries-datetimeindex"><em>DatetimeIndex class</em></a> supports both fixed
frequency and irregular time
series. Replaces now deprecated DateRange class</li>
<li>New <tt class="docutils literal"><span class="pre">PeriodIndex</span></tt> and <tt class="docutils literal"><span class="pre">Period</span></tt> classes for representing
<a class="reference internal" href="timeseries.html#timeseries-periods"><em>time spans</em></a> and performing <strong>calendar logic</strong>,
including the <cite>12 fiscal quarterly frequencies &lt;timeseries.quarterly&gt;</cite>.
This is a partial port of, and a substantial enhancement to,
elements of the scikits.timeseries codebase. Support for conversion between
PeriodIndex and DatetimeIndex</li>
<li>New Timestamp data type subclasses <cite>datetime.datetime</cite>, providing the same
interface while enabling working with nanosecond-resolution data. Also
provides <a class="reference internal" href="timeseries.html#timeseries-timezone"><em>easy time zone conversions</em></a>.</li>
<li>Enhanced support for <a class="reference internal" href="timeseries.html#timeseries-timezone"><em>time zones</em></a>. Add
<cite>tz_convert</cite> and <tt class="docutils literal"><span class="pre">tz_lcoalize</span></tt> methods to TimeSeries and DataFrame. All
timestamps are stored as UTC; Timestamps from DatetimeIndex objects with time
zone set will be localized to localtime. Time zone conversions are therefore
essentially free. User needs to know very little about pytz library now; only
time zone names as as strings are required. Time zone-aware timestamps are
equal if and only if their UTC timestamps match. Operations between time
zone-aware time series with different time zones will result in a UTC-indexed
time series.</li>
<li>Time series <strong>string indexing conveniences</strong> / shortcuts: slice years, year
and month, and index values with strings</li>
<li>Enhanced time series <strong>plotting</strong>; adaptation of scikits.timeseries
matplotlib-based plotting code</li>
<li>New <tt class="docutils literal"><span class="pre">date_range</span></tt>, <tt class="docutils literal"><span class="pre">bdate_range</span></tt>, and <tt class="docutils literal"><span class="pre">period_range</span></tt> <a class="reference internal" href="timeseries.html#timeseries-daterange"><em>factory
functions</em></a></li>
<li>Robust <strong>frequency inference</strong> function <cite>infer_freq</cite> and <tt class="docutils literal"><span class="pre">inferred_freq</span></tt>
property of DatetimeIndex, with option to infer frequency on construction of
DatetimeIndex</li>
<li>to_datetime function efficiently <strong>parses array of strings</strong> to
DatetimeIndex. DatetimeIndex will parse array or list of strings to
datetime64</li>
<li><strong>Optimized</strong> support for datetime64-dtype data in Series and DataFrame
columns</li>
<li>New NaT (Not-a-Time) type to represent <strong>NA</strong> in timestamp arrays</li>
<li>Optimize Series.asof for looking up <strong>&#8220;as of&#8221; values</strong> for arrays of
timestamps</li>
<li>Milli, Micro, Nano date offset objects</li>
<li>Can index time series with datetime.time objects to select all data at
particular <strong>time of day</strong> (<tt class="docutils literal"><span class="pre">TimeSeries.at_time</span></tt>) or <strong>between two times</strong>
(<tt class="docutils literal"><span class="pre">TimeSeries.between_time</span></tt>)</li>
<li>Add <a class="reference internal" href="timeseries.html#timeseries-advanced-datetime"><em>tshift</em></a> method for leading/lagging
using the frequency (if any) of the index, as opposed to a naive lead/lag
using shift</li>
</ul>
</div>
<div class="section" id="other-new-features">
<h3>Other new features<a class="headerlink" href="#other-new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New <a class="reference internal" href="reshaping.html#reshaping-tile-cut"><em>cut</em></a> and <tt class="docutils literal"><span class="pre">qcut</span></tt> functions (like R&#8217;s cut
function) for computing a categorical variable from a continuous variable by
binning values either into value-based (<tt class="docutils literal"><span class="pre">cut</span></tt>) or quantile-based (<tt class="docutils literal"><span class="pre">qcut</span></tt>)
bins</li>
<li>Rename <tt class="docutils literal"><span class="pre">Factor</span></tt> to <tt class="docutils literal"><span class="pre">Categorical</span></tt> and add a number of usability features</li>
<li>Add <a class="reference internal" href="missing_data.html#missing-data-fillna-limit"><em>limit</em></a> argument to fillna/reindex</li>
<li>More flexible multiple function application in GroupBy, and can pass list
(name, function) tuples to get result in particular order with given names</li>
<li>Add flexible <a class="reference internal" href="missing_data.html#missing-data-replace"><em>replace</em></a> method for efficiently
substituting values</li>
<li>Enhanced <a class="reference internal" href="io.html#io-parse-dates"><em>read_csv/read_table</em></a> for reading time series
data and converting multiple columns to dates</li>
<li>Add <a class="reference internal" href="io.html#io-comments"><em>comments</em></a> option to parser functions: read_csv, etc.</li>
<li>Add :ref`dayfirst &lt;io.dayfirst&gt;` option to parser functions for parsing
international DD/MM/YYYY dates</li>
<li>Allow the user to specify the CSV reader <a class="reference internal" href="io.html#io-dialect"><em>dialect</em></a> to
control quoting etc.</li>
<li>Handling <a class="reference internal" href="io.html#io-thousands"><em>thousands</em></a> separators in read_csv to improve
integer parsing.</li>
<li>Enable unstacking of multiple levels in one shot. Alleviate <tt class="docutils literal"><span class="pre">pivot_table</span></tt>
bugs (empty columns being introduced)</li>
<li>Move to klib-based hash tables for indexing; better performance and less
memory usage than Python&#8217;s dict</li>
<li>Add first, last, min, max, and prod optimized GroupBy functions</li>
<li>New <a class="reference internal" href="merging.html#merging-ordered-merge"><em>ordered_merge</em></a> function</li>
<li>Add flexible <a class="reference internal" href="basics.html#basics-binop"><em>comparison</em></a> instance methods eq, ne, lt,
gt, etc. to DataFrame, Series</li>
<li>Improve <a class="reference internal" href="visualization.html#visualization-scatter-matrix"><em>scatter_matrix</em></a> plotting
function and add histogram or kernel density estimates to diagonal</li>
<li>Add <a class="reference internal" href="visualization.html#visualization-kde"><em>&#8216;kde&#8217;</em></a> plot option for density plots</li>
<li>Support for converting DataFrame to R data.frame through rpy2</li>
<li>Improved support for complex numbers in Series and DataFrame</li>
<li>Add <a class="reference internal" href="computation.html#computation-pct-change"><em>pct_change</em></a> method to all data structures</li>
<li>Add max_colwidth configuration option for DataFrame console output</li>
<li><a class="reference internal" href="missing_data.html#missing-data-interpolate"><em>Interpolate</em></a> Series values using index values</li>
<li>Can select multiple columns from GroupBy</li>
<li>Add <a class="reference internal" href="merging.html#merging-combine-first-update"><em>update</em></a> methods to Series/DataFrame
for updating values in place</li>
<li>Add <tt class="docutils literal"><span class="pre">any</span></tt> and <tt class="docutils literal"><span class="pre">all</span></tt> method to DataFrame</li>
</ul>
</div>
<div class="section" id="new-plotting-methods">
<h3>New plotting methods<a class="headerlink" href="#new-plotting-methods" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">Series.plot</span></tt> now supports a <tt class="docutils literal"><span class="pre">secondary_y</span></tt> option:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gr">Out[1]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">Figure</span> <span class="n">at</span> <span class="mh">0x144eafd0</span><span class="o">&gt;</span>

<span class="gp">In [2]: </span><span class="n">fx</span><span class="p">[</span><span class="s">&#39;FR&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s">&#39;g&#39;</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x144ea050</span><span class="o">&gt;</span>

<span class="gp">In [3]: </span><span class="n">fx</span><span class="p">[</span><span class="s">&#39;IT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s">&#39;k--&#39;</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x98d3890</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/whatsnew_secondary_y.png" src="_images/whatsnew_secondary_y.png" />
<p>Vytautas Jancauskas, the 2012 GSOC participant, has added many new plot
types. For example, <tt class="docutils literal"><span class="pre">'kde'</span></tt> is a new option:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [4]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span>
<span class="gp">   ...:</span>                            <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [5]: </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gr">Out[5]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">Figure</span> <span class="n">at</span> <span class="mh">0x12fa4250</span><span class="o">&gt;</span>

<span class="gp">In [6]: </span><span class="n">s</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">normed</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gr">Out[6]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x144ca8d0</span><span class="o">&gt;</span>

<span class="gp">In [7]: </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">&#39;kde&#39;</span><span class="p">)</span>
<span class="gr">Out[7]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x144ca8d0</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/whatsnew_kde.png" src="_images/whatsnew_kde.png" />
<p>See <a class="reference internal" href="visualization.html#visualization-other"><em>the plotting page</em></a> for much more.</p>
</div>
<div class="section" id="other-api-changes">
<h3>Other API changes<a class="headerlink" href="#other-api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Deprecation of <tt class="docutils literal"><span class="pre">offset</span></tt>, <tt class="docutils literal"><span class="pre">time_rule</span></tt>, and <tt class="docutils literal"><span class="pre">timeRule</span></tt> arguments names in
time series functions. Warnings will be printed until pandas 0.9 or 1.0.</li>
</ul>
</div>
<div class="section" id="potential-porting-issues-for-pandas-0-7-3-users">
<h3>Potential porting issues for pandas &lt;= 0.7.3 users<a class="headerlink" href="#potential-porting-issues-for-pandas-0-7-3-users" title="Permalink to this headline">¶</a></h3>
<p>The major change that may affect you in pandas 0.8.0 is that time series
indexes use NumPy&#8217;s <tt class="docutils literal"><span class="pre">datetime64</span></tt> data type instead of <tt class="docutils literal"><span class="pre">dtype=object</span></tt> arrays
of Python&#8217;s built-in <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> objects. <tt class="docutils literal"><span class="pre">DateRange</span></tt> has been
replaced by <tt class="docutils literal"><span class="pre">DatetimeIndex</span></tt> but otherwise behaved identically. But, if you
have code that converts <tt class="docutils literal"><span class="pre">DateRange</span></tt> or <tt class="docutils literal"><span class="pre">Index</span></tt> objects that used to contain
<tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> values to plain NumPy arrays, you may have bugs lurking
with code using scalar values because you are handing control over to NumPy:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [8]: </span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="gp">In [9]: </span><span class="n">rng</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">rng</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[10]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;2000-01-06 00:00:00&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">rng</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">)</span>
<span class="gr">Out[11]: </span><span class="bp">True</span>

<span class="gp">In [12]: </span><span class="n">rng_asarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>

<span class="gp">In [13]: </span><span class="n">scalar_val</span> <span class="o">=</span> <span class="n">rng_asarray</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

<span class="gp">In [14]: </span><span class="nb">type</span><span class="p">(</span><span class="n">scalar_val</span><span class="p">)</span>
<span class="gr">Out[14]: </span><span class="n">numpy</span><span class="o">.</span><span class="n">datetime64</span>
</pre></div>
</div>
<p>pandas&#8217;s <tt class="docutils literal"><span class="pre">Timestamp</span></tt> object is a subclass of <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> that has
nanosecond support (the <tt class="docutils literal"><span class="pre">nanosecond</span></tt> field store the nanosecond value between
0 and 999). It should substitute directly into any code that used
<tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> values before. Thus, I recommend not casting
<tt class="docutils literal"><span class="pre">DatetimeIndex</span></tt> to regular NumPy arrays.</p>
<p>If you have code that requires an array of <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> objects, you
have a couple of options. First, the <tt class="docutils literal"><span class="pre">asobject</span></tt> property of <tt class="docutils literal"><span class="pre">DatetimeIndex</span></tt>
produces an array of <tt class="docutils literal"><span class="pre">Timestamp</span></tt> objects:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [15]: </span><span class="n">stamp_array</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">asobject</span>

<span class="gp">In [16]: </span><span class="n">stamp_array</span>
<span class="gr">Out[16]: </span><span class="n">Index</span><span class="p">([</span><span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">02</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">03</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">04</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">05</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">06</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">07</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">08</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">09</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span> <span class="mi">2000</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">10</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;object&#39;</span><span class="p">)</span>

<span class="gp">In [17]: </span><span class="n">stamp_array</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[17]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s">&#39;2000-01-06 00:00:00&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>To get an array of proper <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> objects, use the
<tt class="docutils literal"><span class="pre">to_pydatetime</span></tt> method:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [18]: </span><span class="n">dt_array</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">to_pydatetime</span><span class="p">()</span>

<span class="gp">In [19]: </span><span class="n">dt_array</span>
<span class="gr">Out[19]: </span>
<span class="go">array([datetime.datetime(2000, 1, 1, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 2, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 3, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 4, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 5, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 6, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 7, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 8, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 9, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 10, 0, 0)], dtype=object)</span>

<span class="gp">In [20]: </span><span class="n">dt_array</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[20]: </span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>matplotlib knows how to handle <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> but not Timestamp
objects. While I recommend that you plot time series using <tt class="docutils literal"><span class="pre">TimeSeries.plot</span></tt>,
you can either use <tt class="docutils literal"><span class="pre">to_pydatetime</span></tt> or register a converter for the Timestamp
type. See <a class="reference external" href="http://matplotlib.sourceforge.net/api/units_api.html">matplotlib documentation</a> for more on this.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>There are bugs in the user-facing API with the nanosecond datetime64 unit
in NumPy 1.6. In particular, the string version of the array shows garbage
values, and conversion to <tt class="docutils literal"><span class="pre">dtype=object</span></tt> is similarly broken.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [21]: </span><span class="n">rng</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">rng</span>
<span class="gr">Out[22]: </span>
<span class="go">&lt;class &#39;pandas.tseries.index.DatetimeIndex&#39;&gt;</span>
<span class="go">[2000-01-01, ..., 2000-01-10]</span>
<span class="go">Length: 10, Freq: D, Timezone: None</span>

<span class="gp">In [23]: </span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>
<span class="gr">Out[23]: </span>
<span class="go">array([&#39;2000-01-01T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-02T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-03T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-04T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-05T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-06T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-07T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-08T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-09T02:00:00.000000000+0200&#39;,</span>
<span class="go">       &#39;2000-01-10T02:00:00.000000000+0200&#39;], dtype=&#39;datetime64[ns]&#39;)</span>

<span class="gp">In [24]: </span><span class="n">converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">rng</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">converted</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[25]: </span><span class="il">947116800000000000L</span>
</pre></div>
</div>
<p class="last"><strong>Trust me: don&#8217;t panic</strong>. If you are using NumPy 1.6 and restrict your
interaction with <tt class="docutils literal"><span class="pre">datetime64</span></tt> values to pandas&#8217;s API you will be just
fine. There is nothing wrong with the data-type (a 64-bit integer
internally); all of the important data processing happens in pandas and is
heavily tested. I strongly recommend that you <strong>do not work directly with
datetime64 arrays in NumPy 1.6</strong> and only use the pandas API.</p>
</div>
<p><strong>Support for non-unique indexes</strong>: In the latter case, you may have code
inside a <tt class="docutils literal"><span class="pre">try:...</span> <span class="pre">catch:</span></tt> block that failed due to the index not being
unique. In many cases it will no longer fail (some method like <tt class="docutils literal"><span class="pre">append</span></tt> still
check for uniqueness unless disabled). However, all is not lost: you can
inspect <tt class="docutils literal"><span class="pre">index.is_unique</span></tt> and raise an exception explicitly if it is
<tt class="docutils literal"><span class="pre">False</span></tt> or go to a different code branch.</p>
</div>
</div>
<div class="section" id="v-0-7-3-april-12-2012">
<span id="whatsnew-0703"></span><h2>v.0.7.3 (April 12, 2012)<a class="headerlink" href="#v-0-7-3-april-12-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.7.2 and fixes many minor bugs and adds a number
of nice new features. There are also a couple of API changes to note; these
should not affect very many users, and we are inclined to call them &#8220;bug fixes&#8221;
even though they do constitute a change in behavior. See the <a class="reference internal" href="release.html#release"><em>full release
notes</em></a> or issue
tracker on GitHub for a complete list.</p>
<div class="section" id="id19">
<h3>New features<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New <a class="reference internal" href="io.html#io-fwf"><em>fixed width file reader</em></a>, <tt class="docutils literal"><span class="pre">read_fwf</span></tt></li>
<li>New <a class="reference internal" href="visualization.html#visualization-scatter-matrix"><em>scatter_matrix</em></a> function for making
a scatter plot matrix</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pandas.tools.plotting</span> <span class="kn">import</span> <span class="n">scatter_matrix</span>
<span class="n">scatter_matrix</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/scatter_matrix_kde.png" src="_images/scatter_matrix_kde.png" style="width: 5in;" />
<ul class="simple">
<li>Add <tt class="docutils literal"><span class="pre">stacked</span></tt> argument to Series and DataFrame&#8217;s <tt class="docutils literal"><span class="pre">plot</span></tt> method for
<a class="reference internal" href="visualization.html#visualization-barplot"><em>stacked bar plots</em></a>.</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/bar_plot_stacked_ex.png" src="_images/bar_plot_stacked_ex.png" style="width: 4in;" />
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">&#39;barh&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/barh_plot_stacked_ex.png" src="_images/barh_plot_stacked_ex.png" style="width: 4in;" />
<ul class="simple">
<li>Add log x and y <a class="reference internal" href="visualization.html#visualization-basic"><em>scaling options</em></a> to
<tt class="docutils literal"><span class="pre">DataFrame.plot</span></tt> and <tt class="docutils literal"><span class="pre">Series.plot</span></tt></li>
<li>Add <tt class="docutils literal"><span class="pre">kurt</span></tt> methods to Series and DataFrame for computing kurtosis</li>
</ul>
</div>
<div class="section" id="na-boolean-comparison-api-change">
<h3>NA Boolean Comparison API Change<a class="headerlink" href="#na-boolean-comparison-api-change" title="Permalink to this headline">¶</a></h3>
<p>Reverted some changes to how NA values (represented typically as <tt class="docutils literal"><span class="pre">NaN</span></tt> or
<tt class="docutils literal"><span class="pre">None</span></tt>) are handled in non-numeric Series:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">series</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s">&#39;Steve&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s">&#39;Joe&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">series</span> <span class="o">==</span> <span class="s">&#39;Steve&#39;</span>
<span class="gr">Out[2]: </span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">2    False</span>
<span class="go">dtype: bool</span>

<span class="gp">In [3]: </span><span class="n">series</span> <span class="o">!=</span> <span class="s">&#39;Steve&#39;</span>
<span class="gr">Out[3]: </span>
<span class="go">0    False</span>
<span class="go">1     True</span>
<span class="go">2     True</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p>In comparisons, NA / NaN will always come through as <tt class="docutils literal"><span class="pre">False</span></tt> except with
<tt class="docutils literal"><span class="pre">!=</span></tt> which is <tt class="docutils literal"><span class="pre">True</span></tt>. <em>Be very careful</em> with boolean arithmetic, especially
negation, in the presence of NA data. You may wish to add an explicit NA
filter into boolean array operations if you are worried about this:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [4]: </span><span class="n">mask</span> <span class="o">=</span> <span class="n">series</span> <span class="o">==</span> <span class="s">&#39;Steve&#39;</span>

<span class="gp">In [5]: </span><span class="n">series</span><span class="p">[</span><span class="n">mask</span> <span class="o">&amp;</span> <span class="n">series</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span>
<span class="gr">Out[5]: </span>
<span class="go">0    Steve</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>While propagating NA in comparisons may seem like the right behavior to some
users (and you could argue on purely technical grounds that this is the right
thing to do), the evaluation was made that propagating NA everywhere, including
in numerical arrays, would cause a large amount of problems for users. Thus, a
&#8220;practicality beats purity&#8221; approach was taken. This issue may be revisited at
some point in the future.</p>
</div>
<div class="section" id="id20">
<h3>Other API Changes<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p>When calling <tt class="docutils literal"><span class="pre">apply</span></tt> on a grouped Series, the return value will also be a
Series, to be more consistent with the <tt class="docutils literal"><span class="pre">groupby</span></tt> behavior with DataFrame:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s">&#39;A&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                     <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>                 <span class="s">&#39;B&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                        <span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>                 <span class="s">&#39;C&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="s">&#39;D&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">)})</span>
<span class="gp">   ...:</span> 

<span class="gp">In [2]: </span><span class="n">df</span>
<span class="gr">Out[2]: </span>
<span class="go">     A      B         C         D</span>
<span class="go">0  foo    one  0.144909  1.387310</span>
<span class="go">1  bar    one -1.033812  0.063490</span>
<span class="go">2  foo    two  0.197333  1.437656</span>
<span class="go">3  bar  three -0.059730 -0.814844</span>
<span class="go">4  foo    two  0.087205 -0.482060</span>
<span class="go">5  bar    two -1.607906  1.521442</span>
<span class="go">6  foo    one -1.275249  0.882182</span>
<span class="go">7  foo  three -0.054460 -0.108020</span>

<span class="go">[8 rows x 4 columns]</span>

<span class="gp">In [3]: </span><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)[</span><span class="s">&#39;C&#39;</span><span class="p">]</span>

<span class="gp">In [4]: </span><span class="n">grouped</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="gr">Out[4]: </span>
<span class="go">A         </span>
<span class="go">bar  count    3.000000</span>
<span class="go">     mean    -0.900483</span>
<span class="go">     std      0.782652</span>
<span class="go">     min     -1.607906</span>
<span class="go">     25%     -1.320859</span>
<span class="go">...</span>
<span class="go">foo  std    0.619410</span>
<span class="go">     min   -1.275249</span>
<span class="go">     25%   -0.054460</span>
<span class="go">     50%    0.087205</span>
<span class="go">     75%    0.144909</span>
<span class="go">     max    0.197333</span>
<span class="go">Length: 16, dtype: float64</span>

<span class="gp">In [5]: </span><span class="n">grouped</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">order</span><span class="p">()[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> <span class="c"># top 2 values</span>
<span class="gr">Out[5]: </span>
<span class="go">A     </span>
<span class="go">bar  1   -1.033812</span>
<span class="go">     3   -0.059730</span>
<span class="go">foo  0    0.144909</span>
<span class="go">     2    0.197333</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="v-0-7-2-march-16-2012">
<span id="whatsnew-0702"></span><h2>v.0.7.2 (March 16, 2012)<a class="headerlink" href="#v-0-7-2-march-16-2012" title="Permalink to this headline">¶</a></h2>
<p>This release targets bugs in 0.7.1, and adds a few minor features.</p>
<div class="section" id="id21">
<h3>New features<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add additional tie-breaking methods in DataFrame.rank (<a class="reference external" href="https://github.com/pydata/pandas/issues/874">GH874</a>)</li>
<li>Add ascending parameter to rank in Series, DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/875">GH875</a>)</li>
<li>Add coerce_float option to DataFrame.from_records (<a class="reference external" href="https://github.com/pydata/pandas/issues/893">GH893</a>)</li>
<li>Add sort_columns parameter to allow unsorted plots (<a class="reference external" href="https://github.com/pydata/pandas/issues/918">GH918</a>)</li>
<li>Enable column access via attributes on GroupBy (<a class="reference external" href="https://github.com/pydata/pandas/issues/882">GH882</a>)</li>
<li>Can pass dict of values to DataFrame.fillna (<a class="reference external" href="https://github.com/pydata/pandas/issues/661">GH661</a>)</li>
<li>Can select multiple hierarchical groups by passing list of values in .ix
(<a class="reference external" href="https://github.com/pydata/pandas/issues/134">GH134</a>)</li>
<li>Add <tt class="docutils literal"><span class="pre">axis</span></tt> option to DataFrame.fillna (<a class="reference external" href="https://github.com/pydata/pandas/issues/174">GH174</a>)</li>
<li>Add level keyword to <tt class="docutils literal"><span class="pre">drop</span></tt> for dropping values from a level (<a class="reference external" href="https://github.com/pydata/pandas/issues/159">GH159</a>)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id22">
<h3>Performance improvements<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Use khash for Series.value_counts, add raw function to algorithms.py (<a class="reference external" href="https://github.com/pydata/pandas/issues/861">GH861</a>)</li>
<li>Intercept __builtin__.sum in groupby (<a class="reference external" href="https://github.com/pydata/pandas/issues/885">GH885</a>)</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v-0-7-1-february-29-2012">
<span id="whatsnew-0701"></span><h2>v.0.7.1 (February 29, 2012)<a class="headerlink" href="#v-0-7-1-february-29-2012" title="Permalink to this headline">¶</a></h2>
<p>This release includes a few new features and addresses over a dozen bugs in
0.7.0.</p>
<div class="section" id="id23">
<h3>New features<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add <tt class="docutils literal"><span class="pre">to_clipboard</span></tt> function to pandas namespace for writing objects to
the system clipboard (<a class="reference external" href="https://github.com/pydata/pandas/issues/774">GH774</a>)</li>
<li>Add <tt class="docutils literal"><span class="pre">itertuples</span></tt> method to DataFrame for iterating through the rows of a
dataframe as tuples (<a class="reference external" href="https://github.com/pydata/pandas/issues/818">GH818</a>)</li>
<li>Add ability to pass fill_value and method to DataFrame and Series align
method (<a class="reference external" href="https://github.com/pydata/pandas/issues/806">GH806</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/807">GH807</a>)</li>
<li>Add fill_value option to reindex, align methods (<a class="reference external" href="https://github.com/pydata/pandas/issues/784">GH784</a>)</li>
<li>Enable concat to produce DataFrame from Series (<a class="reference external" href="https://github.com/pydata/pandas/issues/787">GH787</a>)</li>
<li>Add <tt class="docutils literal"><span class="pre">between</span></tt> method to Series (<a class="reference external" href="https://github.com/pydata/pandas/issues/802">GH802</a>)</li>
<li>Add HTML representation hook to DataFrame for the IPython HTML notebook
(<a class="reference external" href="https://github.com/pydata/pandas/issues/773">GH773</a>)</li>
<li>Support for reading Excel 2007 XML documents using openpyxl</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id24">
<h3>Performance improvements<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Improve performance and memory usage of fillna on DataFrame</li>
<li>Can concatenate a list of Series along axis=1 to obtain a DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/787">GH787</a>)</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v-0-7-0-february-9-2012">
<span id="whatsnew-0700"></span><h2>v.0.7.0 (February 9, 2012)<a class="headerlink" href="#v-0-7-0-february-9-2012" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id25">
<h3>New features<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New unified <a class="reference internal" href="merging.html#merging-join"><em>merge function</em></a> for efficiently performing
full gamut of database / relational-algebra operations. Refactored existing
join methods to use the new infrastructure, resulting in substantial
performance gains (<a class="reference external" href="https://github.com/pydata/pandas/issues/220">GH220</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/249">GH249</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/267">GH267</a>)</li>
<li>New <a class="reference internal" href="merging.html#merging-concat"><em>unified concatenation function</em></a> for concatenating
Series, DataFrame or Panel objects along an axis. Can form union or
intersection of the other axes. Improves performance of <tt class="docutils literal"><span class="pre">Series.append</span></tt> and
<tt class="docutils literal"><span class="pre">DataFrame.append</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/468">GH468</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/479">GH479</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/273">GH273</a>)</li>
<li><a class="reference internal" href="merging.html#merging-concatenation"><em>Can</em></a> pass multiple DataFrames to
<cite>DataFrame.append</cite> to concatenate (stack) and multiple Series to
<tt class="docutils literal"><span class="pre">Series.append</span></tt> too</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-list-of-dicts"><em>Can</em></a> pass list of dicts (e.g., a
list of JSON objects) to DataFrame constructor (<a class="reference external" href="https://github.com/pydata/pandas/issues/526">GH526</a>)</li>
<li>You can now <a class="reference internal" href="indexing.html#indexing-columns-multiple"><em>set multiple columns</em></a> in a
DataFrame via <tt class="docutils literal"><span class="pre">__getitem__</span></tt>, useful for transformation (<a class="reference external" href="https://github.com/pydata/pandas/issues/342">GH342</a>)</li>
<li>Handle differently-indexed output values in <tt class="docutils literal"><span class="pre">DataFrame.apply</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/498">GH498</a>)</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
<span class="gr">Out[2]: </span>
<span class="go">               0          1          2          3</span>
<span class="go">count  10.000000  10.000000  10.000000  10.000000</span>
<span class="go">mean    0.119046   0.455043  -0.093701  -0.330828</span>
<span class="go">std     0.814006   0.972606   0.948124   0.814913</span>
<span class="go">min    -0.964456  -0.790943  -1.921164  -1.578003</span>
<span class="go">25%    -0.512550  -0.462622  -0.683389  -0.934434</span>
<span class="go">50%     0.013691   0.415879  -0.061961  -0.343709</span>
<span class="go">75%     0.616168   1.351857   0.671847   0.150746</span>
<span class="go">max     1.507974   1.755240   1.183075   1.051356</span>

<span class="go">[8 rows x 4 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="indexing.html#indexing-reorderlevels"><em>Add</em></a> <tt class="docutils literal"><span class="pre">reorder_levels</span></tt> method to Series and
DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/534">GH534</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-dictionarylike"><em>Add</em></a> dict-like <tt class="docutils literal"><span class="pre">get</span></tt> function to DataFrame
and Panel (<a class="reference external" href="https://github.com/pydata/pandas/issues/521">GH521</a>)</li>
<li><a class="reference internal" href="basics.html#basics-iterrows"><em>Add</em></a> <tt class="docutils literal"><span class="pre">DataFrame.iterrows</span></tt> method for efficiently
iterating through the rows of a DataFrame</li>
<li><a class="reference internal" href="dsintro.html#dsintro-to-panel"><em>Add</em></a> <tt class="docutils literal"><span class="pre">DataFrame.to_panel</span></tt> with code adapted from
<tt class="docutils literal"><span class="pre">LongPanel.to_long</span></tt></li>
<li><a class="reference internal" href="basics.html#basics-reindexing"><em>Add</em></a> <tt class="docutils literal"><span class="pre">reindex_axis</span></tt> method added to DataFrame</li>
<li><a class="reference internal" href="basics.html#basics-stats"><em>Add</em></a> <tt class="docutils literal"><span class="pre">level</span></tt> option to binary arithmetic functions on
<tt class="docutils literal"><span class="pre">DataFrame</span></tt> and <tt class="docutils literal"><span class="pre">Series</span></tt></li>
<li><a class="reference internal" href="indexing.html#indexing-advanced-reindex"><em>Add</em></a> <tt class="docutils literal"><span class="pre">level</span></tt> option to the <tt class="docutils literal"><span class="pre">reindex</span></tt>
and <tt class="docutils literal"><span class="pre">align</span></tt> methods on Series and DataFrame for broadcasting values across
a level (<a class="reference external" href="https://github.com/pydata/pandas/issues/542">GH542</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/552">GH552</a>, others)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-panel-item-selection"><em>Add</em></a> attribute-based item access to
<tt class="docutils literal"><span class="pre">Panel</span></tt> and add IPython completion (<a class="reference external" href="https://github.com/pydata/pandas/issues/563">GH563</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-basic"><em>Add</em></a> <tt class="docutils literal"><span class="pre">logy</span></tt> option to <tt class="docutils literal"><span class="pre">Series.plot</span></tt> for
log-scaling on the Y axis</li>
<li><a class="reference internal" href="io.html#io-formatting"><em>Add</em></a> <tt class="docutils literal"><span class="pre">index</span></tt> and <tt class="docutils literal"><span class="pre">header</span></tt> options to
<tt class="docutils literal"><span class="pre">DataFrame.to_string</span></tt></li>
<li><a class="reference internal" href="merging.html#merging-multiple-join"><em>Can</em></a> pass multiple DataFrames to
<tt class="docutils literal"><span class="pre">DataFrame.join</span></tt> to join on index (<a class="reference external" href="https://github.com/pydata/pandas/issues/115">GH115</a>)</li>
<li><a class="reference internal" href="merging.html#merging-multiple-join"><em>Can</em></a> pass multiple Panels to <tt class="docutils literal"><span class="pre">Panel.join</span></tt>
(<a class="reference external" href="https://github.com/pydata/pandas/issues/115">GH115</a>)</li>
<li><a class="reference internal" href="io.html#io-formatting"><em>Added</em></a> <tt class="docutils literal"><span class="pre">justify</span></tt> argument to <tt class="docutils literal"><span class="pre">DataFrame.to_string</span></tt>
to allow different alignment of column headers</li>
<li><a class="reference internal" href="groupby.html#groupby-attributes"><em>Add</em></a> <tt class="docutils literal"><span class="pre">sort</span></tt> option to GroupBy to allow disabling
sorting of the group keys for potential speedups (<a class="reference external" href="https://github.com/pydata/pandas/issues/595">GH595</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-series"><em>Can</em></a> pass MaskedArray to Series
constructor (<a class="reference external" href="https://github.com/pydata/pandas/issues/563">GH563</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-panel-item-selection"><em>Add</em></a> Panel item access via attributes
and IPython completion (<a class="reference external" href="https://github.com/pydata/pandas/issues/554">GH554</a>)</li>
<li>Implement <tt class="docutils literal"><span class="pre">DataFrame.lookup</span></tt>, fancy-indexing analogue for retrieving values
given a sequence of row and column labels (<a class="reference external" href="https://github.com/pydata/pandas/issues/338">GH338</a>)</li>
<li>Can pass a <a class="reference internal" href="groupby.html#groupby-aggregate-multifunc"><em>list of functions</em></a> to
aggregate with groupby on a DataFrame, yielding an aggregated result with
hierarchical columns (<a class="reference external" href="https://github.com/pydata/pandas/issues/166">GH166</a>)</li>
<li>Can call <tt class="docutils literal"><span class="pre">cummin</span></tt> and <tt class="docutils literal"><span class="pre">cummax</span></tt> on Series and DataFrame to get cumulative
minimum and maximum, respectively (<a class="reference external" href="https://github.com/pydata/pandas/issues/647">GH647</a>)</li>
<li><tt class="docutils literal"><span class="pre">value_range</span></tt> added as utility function to get min and max of a dataframe
(<a class="reference external" href="https://github.com/pydata/pandas/issues/288">GH288</a>)</li>
<li>Added <tt class="docutils literal"><span class="pre">encoding</span></tt> argument to <tt class="docutils literal"><span class="pre">read_csv</span></tt>, <tt class="docutils literal"><span class="pre">read_table</span></tt>, <tt class="docutils literal"><span class="pre">to_csv</span></tt> and
<tt class="docutils literal"><span class="pre">from_csv</span></tt> for non-ascii text (<a class="reference external" href="https://github.com/pydata/pandas/issues/717">GH717</a>)</li>
<li><a class="reference internal" href="basics.html#basics-stats"><em>Added</em></a> <tt class="docutils literal"><span class="pre">abs</span></tt> method to pandas objects</li>
<li><a class="reference internal" href="reshaping.html#reshaping-pivot"><em>Added</em></a> <tt class="docutils literal"><span class="pre">crosstab</span></tt> function for easily computing frequency tables</li>
<li><a class="reference internal" href="indexing.html#indexing-set-ops"><em>Added</em></a> <tt class="docutils literal"><span class="pre">isin</span></tt> method to index objects</li>
<li><a class="reference internal" href="indexing.html#indexing-xs"><em>Added</em></a> <tt class="docutils literal"><span class="pre">level</span></tt> argument to <tt class="docutils literal"><span class="pre">xs</span></tt> method of DataFrame.</li>
</ul>
</div>
<div class="section" id="api-changes-to-integer-indexing">
<h3>API Changes to integer indexing<a class="headerlink" href="#api-changes-to-integer-indexing" title="Permalink to this headline">¶</a></h3>
<p>One of the potentially riskiest API changes in 0.7.0, but also one of the most
important, was a complete review of how <strong>integer indexes</strong> are handled with
regard to label-based indexing. Here is an example:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">s</span>
<span class="gr">Out[4]: </span>
<span class="go">0    -0.392051</span>
<span class="go">2    -0.189537</span>
<span class="go">4     0.886170</span>
<span class="go">6    -1.125894</span>
<span class="go">8     0.319635</span>
<span class="go">10    0.998222</span>
<span class="go">12    0.091743</span>
<span class="go">14   -2.032047</span>
<span class="go">16   -0.448560</span>
<span class="go">18    0.730510</span>
<span class="go">dtype: float64</span>

<span class="gp">In [5]: </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[5]: </span><span class="o">-</span><span class="mf">0.39205110783730279</span>

<span class="gp">In [6]: </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gr">Out[6]: </span><span class="o">-</span><span class="mf">0.18953739573269102</span>

<span class="gp">In [7]: </span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[7]: </span><span class="mf">0.88617008348573789</span>
</pre></div>
</div>
<p>This is all exactly identical to the behavior before. However, if you ask for a
key <strong>not</strong> contained in the Series, in versions 0.6.1 and prior, Series would
<em>fall back</em> on a location-based lookup. This now raises a <tt class="docutils literal"><span class="pre">KeyError</span></tt>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [2]: </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">KeyError: 1</span>
</pre></div>
</div>
<p>This change also has the same impact on DataFrame:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">df</span>
<span class="go">    0        1       2       3</span>
<span class="go">0   0.88427  0.3363 -0.1787  0.03162</span>
<span class="go">2   0.14451 -0.1415  0.2504  0.58374</span>
<span class="go">4  -1.44779 -0.9186 -1.4996  0.27163</span>
<span class="go">6  -0.26598 -2.4184 -0.2658  0.11503</span>
<span class="go">8  -0.58776  0.3144 -0.8566  0.61941</span>
<span class="go">10  0.10940 -0.7175 -1.0108  0.47990</span>
<span class="go">12 -1.16919 -0.3087 -0.6049 -0.43544</span>
<span class="go">14 -0.07337  0.3410  0.0424 -0.16037</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">KeyError: 3</span>
</pre></div>
</div>
<p>In order to support purely integer-based indexing, the following methods have
been added:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Series.iget_value(i)</span></tt></td>
<td>Retrieve value stored at location <tt class="docutils literal"><span class="pre">i</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">Series.iget(i)</span></tt></td>
<td>Alias for <tt class="docutils literal"><span class="pre">iget_value</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">DataFrame.irow(i)</span></tt></td>
<td>Retrieve the <tt class="docutils literal"><span class="pre">i</span></tt>-th row</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">DataFrame.icol(j)</span></tt></td>
<td>Retrieve the <tt class="docutils literal"><span class="pre">j</span></tt>-th column</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">DataFrame.iget_value(i,</span> <span class="pre">j)</span></tt></td>
<td>Retrieve the value at row <tt class="docutils literal"><span class="pre">i</span></tt> and column <tt class="docutils literal"><span class="pre">j</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="api-tweaks-regarding-label-based-slicing">
<h3>API tweaks regarding label-based slicing<a class="headerlink" href="#api-tweaks-regarding-label-based-slicing" title="Permalink to this headline">¶</a></h3>
<p>Label-based slicing using <tt class="docutils literal"><span class="pre">ix</span></tt> now requires that the index be sorted
(monotonic) <strong>unless</strong> both the start and endpoint are contained in the index:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [8]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s">&#39;gmkaec&#39;</span><span class="p">))</span>

<span class="gp">In [9]: </span><span class="n">s</span>
<span class="gr">Out[9]: </span>
<span class="go">g    1.269713</span>
<span class="go">m    1.209524</span>
<span class="go">k    2.160843</span>
<span class="go">a    0.533532</span>
<span class="go">e   -2.371548</span>
<span class="go">c    0.562726</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Then this is OK:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [10]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;k&#39;</span><span class="p">:</span><span class="s">&#39;e&#39;</span><span class="p">]</span>
<span class="gr">Out[10]: </span>
<span class="go">k    2.160843</span>
<span class="go">a    0.533532</span>
<span class="go">e   -2.371548</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>But this is not:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [12]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="s">&#39;h&#39;</span><span class="p">]</span>
<span class="go">KeyError &#39;b&#39;</span>
</pre></div>
</div>
<p>If the index had been sorted, the &#8220;range selection&#8221; would have been possible:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [11]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

<span class="gp">In [12]: </span><span class="n">s2</span>
<span class="gr">Out[12]: </span>
<span class="go">a    0.533532</span>
<span class="go">c    0.562726</span>
<span class="go">e   -2.371548</span>
<span class="go">g    1.269713</span>
<span class="go">k    2.160843</span>
<span class="go">m    1.209524</span>
<span class="go">dtype: float64</span>

<span class="gp">In [13]: </span><span class="n">s2</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="s">&#39;h&#39;</span><span class="p">]</span>
<span class="gr">Out[13]: </span>
<span class="go">c    0.562726</span>
<span class="go">e   -2.371548</span>
<span class="go">g    1.269713</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-series-operator">
<h3>Changes to Series <tt class="docutils literal"><span class="pre">[]</span></tt> operator<a class="headerlink" href="#changes-to-series-operator" title="Permalink to this headline">¶</a></h3>
<p>As as notational convenience, you can pass a sequence of labels or a label
slice to a Series when getting and setting values via <tt class="docutils literal"><span class="pre">[]</span></tt> (i.e. the
<tt class="docutils literal"><span class="pre">__getitem__</span></tt> and <tt class="docutils literal"><span class="pre">__setitem__</span></tt> methods). The behavior will be the same as
passing similar input to <tt class="docutils literal"><span class="pre">ix</span></tt> <strong>except in the case of integer indexing</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [14]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s">&#39;acegkm&#39;</span><span class="p">))</span>

<span class="gp">In [15]: </span><span class="n">s</span>
<span class="gr">Out[15]: </span>
<span class="go">a    2.031757</span>
<span class="go">c    0.851077</span>
<span class="go">e    0.660056</span>
<span class="go">g   -1.662471</span>
<span class="go">k    0.571380</span>
<span class="go">m    0.945588</span>
<span class="go">dtype: float64</span>

<span class="gp">In [16]: </span><span class="n">s</span><span class="p">[[</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">]]</span>
<span class="gr">Out[16]: </span>
<span class="go">m    0.945588</span>
<span class="go">a    2.031757</span>
<span class="go">c    0.851077</span>
<span class="go">e    0.660056</span>
<span class="go">dtype: float64</span>

<span class="gp">In [17]: </span><span class="n">s</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="s">&#39;l&#39;</span><span class="p">]</span>
<span class="gr">Out[17]: </span>
<span class="go">c    0.851077</span>
<span class="go">e    0.660056</span>
<span class="go">g   -1.662471</span>
<span class="go">k    0.571380</span>
<span class="go">dtype: float64</span>

<span class="gp">In [18]: </span><span class="n">s</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">:</span><span class="s">&#39;k&#39;</span><span class="p">]</span>
<span class="gr">Out[18]: </span>
<span class="go">c    0.851077</span>
<span class="go">e    0.660056</span>
<span class="go">g   -1.662471</span>
<span class="go">k    0.571380</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>In the case of integer indexes, the behavior will be exactly as before
(shadowing <tt class="docutils literal"><span class="pre">ndarray</span></tt>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [19]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [20]: </span><span class="n">s</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gr">Out[20]: </span>
<span class="go">4   -1.263534</span>
<span class="go">0   -0.414691</span>
<span class="go">2    2.108285</span>
<span class="go">dtype: float64</span>

<span class="gp">In [21]: </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[21]: </span>
<span class="go">2    2.108285</span>
<span class="go">4   -1.263534</span>
<span class="go">6    2.617801</span>
<span class="go">8    1.967592</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>If you wish to do indexing with sequences and slicing on an integer index with
label semantics, use <tt class="docutils literal"><span class="pre">ix</span></tt>.</p>
</div>
<div class="section" id="id26">
<h3>Other API Changes<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The deprecated <tt class="docutils literal"><span class="pre">LongPanel</span></tt> class has been completely removed</li>
<li>If <tt class="docutils literal"><span class="pre">Series.sort</span></tt> is called on a column of a DataFrame, an exception will
now be raised. Before it was possible to accidentally mutate a DataFrame&#8217;s
column by doing <tt class="docutils literal"><span class="pre">df[col].sort()</span></tt> instead of the side-effect free method
<tt class="docutils literal"><span class="pre">df[col].order()</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/316">GH316</a>)</li>
<li>Miscellaneous renames and deprecations which will (harmlessly) raise
<tt class="docutils literal"><span class="pre">FutureWarning</span></tt></li>
<li><tt class="docutils literal"><span class="pre">drop</span></tt> added as an optional parameter to <tt class="docutils literal"><span class="pre">DataFrame.reset_index</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/699">GH699</a>)</li>
</ul>
</div>
<div class="section" id="id27">
<h3>Performance improvements<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="groupby.html#groupby-aggregate-cython"><em>Cythonized GroupBy aggregations</em></a> no longer
presort the data, thus achieving a significant speedup (<a class="reference external" href="https://github.com/pydata/pandas/issues/93">GH93</a>).  GroupBy
aggregations with Python functions significantly sped up by clever
manipulation of the ndarray data type in Cython (<a class="reference external" href="https://github.com/pydata/pandas/issues/496">GH496</a>).</li>
<li>Better error message in DataFrame constructor when passed column labels
don&#8217;t match data (<a class="reference external" href="https://github.com/pydata/pandas/issues/497">GH497</a>)</li>
<li>Substantially improve performance of multi-GroupBy aggregation when a
Python function is passed, reuse ndarray object in Cython (<a class="reference external" href="https://github.com/pydata/pandas/issues/496">GH496</a>)</li>
<li>Can store objects indexed by tuples and floats in HDFStore (<a class="reference external" href="https://github.com/pydata/pandas/issues/492">GH492</a>)</li>
<li>Don&#8217;t print length by default in Series.to_string, add <cite>length</cite> option (<a class="reference external" href="https://github.com/pydata/pandas/issues/489">GH489</a>)</li>
<li>Improve Cython code for multi-groupby to aggregate without having to sort
the data (<a class="reference external" href="https://github.com/pydata/pandas/issues/93">GH93</a>)</li>
<li>Improve MultiIndex reindexing speed by storing tuples in the MultiIndex,
test for backwards unpickling compatibility</li>
<li>Improve column reindexing performance by using specialized Cython take
function</li>
<li>Further performance tweaking of Series.__getitem__ for standard use cases</li>
<li>Avoid Index dict creation in some cases (i.e. when getting slices, etc.),
regression from prior versions</li>
<li>Friendlier error message in setup.py if NumPy not installed</li>
<li>Use common set of NA-handling operations (sum, mean, etc.) in Panel class
also (<a class="reference external" href="https://github.com/pydata/pandas/issues/536">GH536</a>)</li>
<li>Default name assignment when calling <tt class="docutils literal"><span class="pre">reset_index</span></tt> on DataFrame with a
regular (non-hierarchical) index (<a class="reference external" href="https://github.com/pydata/pandas/issues/476">GH476</a>)</li>
<li>Use Cythonized groupers when possible in Series/DataFrame stat ops with
<tt class="docutils literal"><span class="pre">level</span></tt> parameter passed (<a class="reference external" href="https://github.com/pydata/pandas/issues/545">GH545</a>)</li>
<li>Ported skiplist data structure to C to speed up <tt class="docutils literal"><span class="pre">rolling_median</span></tt> by about
5-10x in most typical use cases (<a class="reference external" href="https://github.com/pydata/pandas/issues/374">GH374</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v-0-6-1-december-13-2011">
<span id="whatsnew-061"></span><h2>v.0.6.1 (December 13, 2011)<a class="headerlink" href="#v-0-6-1-december-13-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id28">
<h3>New features<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Can <a class="reference internal" href="merging.html#merging-append-row"><em>append single rows</em></a> (as Series) to a DataFrame</li>
<li>Add Spearman and Kendall rank <a class="reference internal" href="computation.html#computation-correlation"><em>correlation</em></a>
options to Series.corr and DataFrame.corr (<a class="reference external" href="https://github.com/pydata/pandas/issues/428">GH428</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-basics-get-value"><em>Added</em></a> <tt class="docutils literal"><span class="pre">get_value</span></tt> and <tt class="docutils literal"><span class="pre">set_value</span></tt> methods to
Series, DataFrame, and Panel for very low-overhead access (&gt;2x faster in many
cases) to scalar elements (<a class="reference external" href="https://github.com/pydata/pandas/issues/437">GH437</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/438">GH438</a>). <tt class="docutils literal"><span class="pre">set_value</span></tt> is capable of
producing an enlarged object.</li>
<li>Add PyQt table widget to sandbox (<a class="reference external" href="https://github.com/pydata/pandas/issues/435">GH435</a>)</li>
<li>DataFrame.align can <a class="reference internal" href="basics.html#basics-align-frame-series"><em>accept Series arguments</em></a>
and an <a class="reference internal" href="basics.html#basics-df-join"><em>axis option</em></a> (<a class="reference external" href="https://github.com/pydata/pandas/issues/461">GH461</a>)</li>
<li>Implement new <a class="reference internal" href="sparse.html#sparse-array"><em>SparseArray</em></a> and <a class="reference internal" href="sparse.html#sparse-list"><em>SparseList</em></a>
data structures. SparseSeries now derives from SparseArray (<a class="reference external" href="https://github.com/pydata/pandas/issues/463">GH463</a>)</li>
<li><a class="reference internal" href="basics.html#basics-console-output"><em>Better console printing options</em></a> (<a class="reference external" href="https://github.com/pydata/pandas/issues/453">GH453</a>)</li>
<li>Implement fast <a class="reference internal" href="computation.html#computation-ranking"><em>data ranking</em></a> for Series and
DataFrame, fast versions of scipy.stats.rankdata (<a class="reference external" href="https://github.com/pydata/pandas/issues/428">GH428</a>)</li>
<li>Implement <a class="reference internal" href="dsintro.html#basics-dataframe-from-items"><em>DataFrame.from_items</em></a> alternate
constructor (<a class="reference external" href="https://github.com/pydata/pandas/issues/444">GH444</a>)</li>
<li>DataFrame.convert_objects method for <a class="reference internal" href="basics.html#basics-cast"><em>inferring better dtypes</em></a>
for object columns (<a class="reference external" href="https://github.com/pydata/pandas/issues/302">GH302</a>)</li>
<li>Add <a class="reference internal" href="computation.html#stats-moments-corr-pairwise"><em>rolling_corr_pairwise</em></a> function for
computing Panel of correlation matrices (<a class="reference external" href="https://github.com/pydata/pandas/issues/189">GH189</a>)</li>
<li>Add <a class="reference internal" href="reshaping.html#reshaping-pivot-margins"><em>margins</em></a> option to <a class="reference internal" href="reshaping.html#reshaping-pivot"><em>pivot_table</em></a> for computing subgroup aggregates (<a class="reference external" href="https://github.com/pydata/pandas/issues/114">GH114</a>)</li>
<li>Add <tt class="docutils literal"><span class="pre">Series.from_csv</span></tt> function (<a class="reference external" href="https://github.com/pydata/pandas/issues/482">GH482</a>)</li>
<li><a class="reference internal" href="computation.html#stats-moments-binary"><em>Can pass</em></a> DataFrame/DataFrame and
DataFrame/Series to rolling_corr/rolling_cov (GH #462)</li>
<li>MultiIndex.get_level_values can <a class="reference internal" href="indexing.html#indexing-get-level-values"><em>accept the level name</em></a></li>
</ul>
</div>
<div class="section" id="id29">
<h3>Performance improvements<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improve memory usage of <cite>DataFrame.describe</cite> (do not copy data
unnecessarily) (PR #425)</li>
<li>Optimize scalar value lookups in the general case by 25% or more in Series
and DataFrame</li>
<li>Fix performance regression in cross-sectional count in DataFrame, affecting
DataFrame.dropna speed</li>
<li>Column deletion in DataFrame copies no data (computes views on blocks) (GH
#158)</li>
</ul>
</div>
</div>
<div class="section" id="v-0-6-0-november-25-2011">
<span id="whatsnew-060"></span><h2>v.0.6.0 (November 25, 2011)<a class="headerlink" href="#v-0-6-0-november-25-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id30">
<h3>New Features<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="reshaping.html#reshaping-melt"><em>Added</em></a> <tt class="docutils literal"><span class="pre">melt</span></tt> function to <tt class="docutils literal"><span class="pre">pandas.core.reshape</span></tt></li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><em>Added</em></a> <tt class="docutils literal"><span class="pre">level</span></tt> parameter to group by level in Series and DataFrame descriptive statistics (<a class="reference external" href="https://github.com/pydata/pandas/issues/313">GH313</a>)</li>
<li><a class="reference internal" href="basics.html#basics-head-tail"><em>Added</em></a> <tt class="docutils literal"><span class="pre">head</span></tt> and <tt class="docutils literal"><span class="pre">tail</span></tt> methods to Series, analogous to to DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/296">GH296</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-boolean"><em>Added</em></a> <tt class="docutils literal"><span class="pre">Series.isin</span></tt> function which checks if each value is contained in a passed sequence (<a class="reference external" href="https://github.com/pydata/pandas/issues/289">GH289</a>)</li>
<li><a class="reference internal" href="io.html#io-formatting"><em>Added</em></a> <tt class="docutils literal"><span class="pre">float_format</span></tt> option to <tt class="docutils literal"><span class="pre">Series.to_string</span></tt></li>
<li><a class="reference internal" href="io.html#io-parse-dates"><em>Added</em></a> <tt class="docutils literal"><span class="pre">skip_footer</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/291">GH291</a>) and <tt class="docutils literal"><span class="pre">converters</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/343">GH343</a>) options to <tt class="docutils literal"><span class="pre">read_csv</span></tt> and <tt class="docutils literal"><span class="pre">read_table</span></tt></li>
<li><a class="reference internal" href="indexing.html#indexing-duplicate"><em>Added</em></a> <tt class="docutils literal"><span class="pre">drop_duplicates</span></tt> and <tt class="docutils literal"><span class="pre">duplicated</span></tt> functions for removing duplicate DataFrame rows and checking for duplicate rows, respectively (<a class="reference external" href="https://github.com/pydata/pandas/issues/319">GH319</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-boolean"><em>Implemented</em></a> operators &#8216;&amp;&#8217;, &#8216;|&#8217;, &#8216;^&#8217;, &#8216;-&#8216; on DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/347">GH347</a>)</li>
<li><a class="reference internal" href="basics.html#basics-stats"><em>Added</em></a> <tt class="docutils literal"><span class="pre">Series.mad</span></tt>, mean absolute deviation</li>
<li><a class="reference internal" href="timeseries.html#timeseries-offsets"><em>Added</em></a> <tt class="docutils literal"><span class="pre">QuarterEnd</span></tt> DateOffset (<a class="reference external" href="https://github.com/pydata/pandas/issues/321">GH321</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-numpy-interop"><em>Added</em></a> <tt class="docutils literal"><span class="pre">dot</span></tt> to DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/65">GH65</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-panel"><em>Added</em></a> <tt class="docutils literal"><span class="pre">orient</span></tt> option to <tt class="docutils literal"><span class="pre">Panel.from_dict</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/359">GH359</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/301">GH301</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-dict"><em>Added</em></a> <tt class="docutils literal"><span class="pre">orient</span></tt> option to <tt class="docutils literal"><span class="pre">DataFrame.from_dict</span></tt></li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-records"><em>Added</em></a> passing list of tuples or list of lists to <tt class="docutils literal"><span class="pre">DataFrame.from_records</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/357">GH357</a>)</li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><em>Added</em></a> multiple levels to groupby (<a class="reference external" href="https://github.com/pydata/pandas/issues/103">GH103</a>)</li>
<li><a class="reference internal" href="basics.html#basics-sorting"><em>Allow</em></a> multiple columns in <tt class="docutils literal"><span class="pre">by</span></tt> argument of <tt class="docutils literal"><span class="pre">DataFrame.sort_index</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/92">GH92</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/362">GH362</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-basics-get-value"><em>Added</em></a> fast <tt class="docutils literal"><span class="pre">get_value</span></tt> and <tt class="docutils literal"><span class="pre">put_value</span></tt> methods to DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/360">GH360</a>)</li>
<li><a class="reference internal" href="computation.html#computation-covariance"><em>Added</em></a> <tt class="docutils literal"><span class="pre">cov</span></tt> instance methods to Series and DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/194">GH194</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/362">GH362</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-barplot"><em>Added</em></a> <tt class="docutils literal"><span class="pre">kind='bar'</span></tt> option to <tt class="docutils literal"><span class="pre">DataFrame.plot</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/348">GH348</a>)</li>
<li><a class="reference internal" href="basics.html#basics-idxmin"><em>Added</em></a> <tt class="docutils literal"><span class="pre">idxmin</span></tt> and <tt class="docutils literal"><span class="pre">idxmax</span></tt> to Series and DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/286">GH286</a>)</li>
<li><a class="reference internal" href="io.html#io-clipboard"><em>Added</em></a> <tt class="docutils literal"><span class="pre">read_clipboard</span></tt> function to parse DataFrame from clipboard (<a class="reference external" href="https://github.com/pydata/pandas/issues/300">GH300</a>)</li>
<li><a class="reference internal" href="basics.html#basics-stats"><em>Added</em></a> <tt class="docutils literal"><span class="pre">nunique</span></tt> function to Series for counting unique elements (<a class="reference external" href="https://github.com/pydata/pandas/issues/297">GH297</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe"><em>Made</em></a> DataFrame constructor use Series name if no columns passed (<a class="reference external" href="https://github.com/pydata/pandas/issues/373">GH373</a>)</li>
<li><a class="reference internal" href="io.html#io-parse-dates"><em>Support</em></a> regular expressions in read_table/read_csv (<a class="reference external" href="https://github.com/pydata/pandas/issues/364">GH364</a>)</li>
<li><a class="reference internal" href="io.html#io-html"><em>Added</em></a> <tt class="docutils literal"><span class="pre">DataFrame.to_html</span></tt> for writing DataFrame to HTML (<a class="reference external" href="https://github.com/pydata/pandas/issues/387">GH387</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe"><em>Added</em></a> support for MaskedArray data in DataFrame, masked values converted to NaN (<a class="reference external" href="https://github.com/pydata/pandas/issues/396">GH396</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-box"><em>Added</em></a> <tt class="docutils literal"><span class="pre">DataFrame.boxplot</span></tt> function (<a class="reference external" href="https://github.com/pydata/pandas/issues/368">GH368</a>)</li>
<li><a class="reference internal" href="basics.html#basics-apply"><em>Can</em></a> pass extra args, kwds to DataFrame.apply (<a class="reference external" href="https://github.com/pydata/pandas/issues/376">GH376</a>)</li>
<li><a class="reference internal" href="merging.html#merging-multikey-join"><em>Implement</em></a> <tt class="docutils literal"><span class="pre">DataFrame.join</span></tt> with vector <tt class="docutils literal"><span class="pre">on</span></tt> argument (<a class="reference external" href="https://github.com/pydata/pandas/issues/312">GH312</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-basic"><em>Added</em></a> <tt class="docutils literal"><span class="pre">legend</span></tt> boolean flag to <tt class="docutils literal"><span class="pre">DataFrame.plot</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/324">GH324</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-stacking"><em>Can</em></a> pass multiple levels to <tt class="docutils literal"><span class="pre">stack</span></tt> and <tt class="docutils literal"><span class="pre">unstack</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/370">GH370</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-pivot"><em>Can</em></a> pass multiple values columns to <tt class="docutils literal"><span class="pre">pivot_table</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/381">GH381</a>)</li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><em>Use</em></a> Series name in GroupBy for result index (<a class="reference external" href="https://github.com/pydata/pandas/issues/363">GH363</a>)</li>
<li><a class="reference internal" href="basics.html#basics-apply"><em>Added</em></a> <tt class="docutils literal"><span class="pre">raw</span></tt> option to <tt class="docutils literal"><span class="pre">DataFrame.apply</span></tt> for performance if only need ndarray (<a class="reference external" href="https://github.com/pydata/pandas/issues/309">GH309</a>)</li>
<li>Added proper, tested weighted least squares to standard and panel OLS (<a class="reference external" href="https://github.com/pydata/pandas/issues/303">GH303</a>)</li>
</ul>
</div>
<div class="section" id="performance-enhancements">
<h3>Performance Enhancements<a class="headerlink" href="#performance-enhancements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>VBENCH Cythonized <tt class="docutils literal"><span class="pre">cache_readonly</span></tt>, resulting in substantial micro-performance enhancements throughout the codebase (<a class="reference external" href="https://github.com/pydata/pandas/issues/361">GH361</a>)</li>
<li>VBENCH Special Cython matrix iterator for applying arbitrary reduction operations with 3-5x better performance than <cite>np.apply_along_axis</cite> (<a class="reference external" href="https://github.com/pydata/pandas/issues/309">GH309</a>)</li>
<li>VBENCH Improved performance of <tt class="docutils literal"><span class="pre">MultiIndex.from_tuples</span></tt></li>
<li>VBENCH Special Cython matrix iterator for applying arbitrary reduction operations</li>
<li>VBENCH + DOCUMENT Add <tt class="docutils literal"><span class="pre">raw</span></tt> option to <tt class="docutils literal"><span class="pre">DataFrame.apply</span></tt> for getting better performance when</li>
<li>VBENCH Faster cythonized count by level in Series and DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/341">GH341</a>)</li>
<li>VBENCH? Significant GroupBy performance enhancement with multiple keys with many &#8220;empty&#8221; combinations</li>
<li>VBENCH New Cython vectorized function <tt class="docutils literal"><span class="pre">map_infer</span></tt> speeds up <tt class="docutils literal"><span class="pre">Series.apply</span></tt> and <tt class="docutils literal"><span class="pre">Series.map</span></tt> significantly when passed elementwise Python function, motivated by (<a class="reference external" href="https://github.com/pydata/pandas/issues/355">GH355</a>)</li>
<li>VBENCH Significantly improved performance of <tt class="docutils literal"><span class="pre">Series.order</span></tt>, which also makes np.unique called on a Series faster (<a class="reference external" href="https://github.com/pydata/pandas/issues/327">GH327</a>)</li>
<li>VBENCH Vastly improved performance of GroupBy on axes with a MultiIndex (<a class="reference external" href="https://github.com/pydata/pandas/issues/299">GH299</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v-0-5-0-october-24-2011">
<span id="whatsnew-050"></span><h2>v.0.5.0 (October 24, 2011)<a class="headerlink" href="#v-0-5-0-october-24-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id31">
<h3>New Features<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="basics.html#basics-df-join"><em>Added</em></a> <tt class="docutils literal"><span class="pre">DataFrame.align</span></tt> method with standard join options</li>
<li><a class="reference internal" href="io.html#io-parse-dates"><em>Added</em></a> <tt class="docutils literal"><span class="pre">parse_dates</span></tt> option to <tt class="docutils literal"><span class="pre">read_csv</span></tt> and <tt class="docutils literal"><span class="pre">read_table</span></tt> methods to optionally try to parse dates in the index columns</li>
<li><a class="reference internal" href="io.html#io-parse-dates"><em>Added</em></a> <tt class="docutils literal"><span class="pre">nrows</span></tt>, <tt class="docutils literal"><span class="pre">chunksize</span></tt>, and <tt class="docutils literal"><span class="pre">iterator</span></tt> arguments to <tt class="docutils literal"><span class="pre">read_csv</span></tt> and <tt class="docutils literal"><span class="pre">read_table</span></tt>. The last two return a new <tt class="docutils literal"><span class="pre">TextParser</span></tt> class capable of lazily iterating through chunks of a flat file (<a class="reference external" href="https://github.com/pydata/pandas/issues/242">GH242</a>)</li>
<li><a class="reference internal" href="merging.html#merging-multikey-join"><em>Added</em></a> ability to join on multiple columns in <tt class="docutils literal"><span class="pre">DataFrame.join</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/214">GH214</a>)</li>
<li>Added private <tt class="docutils literal"><span class="pre">_get_duplicates</span></tt> function to <tt class="docutils literal"><span class="pre">Index</span></tt> for identifying duplicate values more easily (<a class="reference external" href="https://github.com/pydata/pandas/commit/5ca6ff5d822ee4ddef1ec0d87b6d83d8b4bbd3eb">ENH5c</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-df-cols"><em>Added</em></a> column attribute access to DataFrame.</li>
<li><a class="reference internal" href="indexing.html#indexing-df-cols"><em>Added</em></a> Python tab completion hook for DataFrame columns. (<a class="reference external" href="https://github.com/pydata/pandas/issues/233">GH233</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/230">GH230</a>)</li>
<li><a class="reference internal" href="basics.html#basics-describe"><em>Implemented</em></a> <tt class="docutils literal"><span class="pre">Series.describe</span></tt> for Series containing objects (<a class="reference external" href="https://github.com/pydata/pandas/issues/241">GH241</a>)</li>
<li><a class="reference internal" href="merging.html#merging-df-inner-join"><em>Added</em></a> inner join option to <tt class="docutils literal"><span class="pre">DataFrame.join</span></tt> when joining on key(s) (<a class="reference external" href="https://github.com/pydata/pandas/issues/248">GH248</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-df-cols"><em>Implemented</em></a> selecting DataFrame columns by passing a list to <tt class="docutils literal"><span class="pre">__getitem__</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/253">GH253</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-set-ops"><em>Implemented</em></a> &amp; and | to intersect / union Index objects, respectively (<a class="reference external" href="https://github.com/pydata/pandas/issues/261">GH261</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-pivot"><em>Added</em></a> <tt class="docutils literal"><span class="pre">pivot_table</span></tt> convenience function to pandas namespace (<a class="reference external" href="https://github.com/pydata/pandas/issues/234">GH234</a>)</li>
<li><a class="reference internal" href="basics.html#basics-rename-axis"><em>Implemented</em></a> <tt class="docutils literal"><span class="pre">Panel.rename_axis</span></tt> function (<a class="reference external" href="https://github.com/pydata/pandas/issues/243">GH243</a>)</li>
<li>DataFrame will show index level names in console output (<a class="reference external" href="https://github.com/pydata/pandas/issues/334">GH334</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-take"><em>Implemented</em></a> <tt class="docutils literal"><span class="pre">Panel.take</span></tt></li>
<li><a class="reference internal" href="basics.html#basics-console-output"><em>Added</em></a> <tt class="docutils literal"><span class="pre">set_eng_float_format</span></tt> for alternate DataFrame floating point string formatting (<a class="reference external" href="https://github.com/pydata/pandas/commit/6141961">ENH61</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-set-index"><em>Added</em></a> convenience <tt class="docutils literal"><span class="pre">set_index</span></tt> function for creating a DataFrame index from its existing columns</li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><em>Implemented</em></a> <tt class="docutils literal"><span class="pre">groupby</span></tt> hierarchical index level name  (<a class="reference external" href="https://github.com/pydata/pandas/issues/223">GH223</a>)</li>
<li><a class="reference internal" href="io.html#io-store-in-csv"><em>Added</em></a> support for different delimiters in <tt class="docutils literal"><span class="pre">DataFrame.to_csv</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/244">GH244</a>)</li>
<li>TODO: DOCS ABOUT TAKE METHODS</li>
</ul>
</div>
<div class="section" id="id32">
<h3>Performance Enhancements<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>VBENCH Major performance improvements in file parsing functions <tt class="docutils literal"><span class="pre">read_csv</span></tt> and <tt class="docutils literal"><span class="pre">read_table</span></tt></li>
<li>VBENCH Added Cython function for converting tuples to ndarray very fast. Speeds up many MultiIndex-related operations</li>
<li>VBENCH Refactored merging / joining code into a tidy class and disabled unnecessary computations in the float/object case, thus getting about 10% better performance (<a class="reference external" href="https://github.com/pydata/pandas/issues/211">GH211</a>)</li>
<li>VBENCH Improved speed of <tt class="docutils literal"><span class="pre">DataFrame.xs</span></tt> on mixed-type DataFrame objects by about 5x, regression from 0.3.0 (<a class="reference external" href="https://github.com/pydata/pandas/issues/215">GH215</a>)</li>
<li>VBENCH With new <tt class="docutils literal"><span class="pre">DataFrame.align</span></tt> method, speeding up binary operations between differently-indexed DataFrame objects by 10-25%.</li>
<li>VBENCH Significantly sped up conversion of nested dict into DataFrame (<a class="reference external" href="https://github.com/pydata/pandas/issues/212">GH212</a>)</li>
<li>VBENCH Significantly speed up DataFrame <tt class="docutils literal"><span class="pre">__repr__</span></tt> and <tt class="docutils literal"><span class="pre">count</span></tt> on large mixed-type DataFrame objects</li>
</ul>
</div>
</div>
<div class="section" id="v-0-4-3-through-v0-4-1-september-25-october-9-2011">
<span id="whatsnew-04x"></span><h2>v.0.4.3 through v0.4.1 (September 25 - October 9, 2011)<a class="headerlink" href="#v-0-4-3-through-v0-4-1-september-25-october-9-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id33">
<h3>New Features<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added Python 3 support using 2to3 (<a class="reference external" href="https://github.com/pydata/pandas/issues/200">GH200</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-name-attribute"><em>Added</em></a> <tt class="docutils literal"><span class="pre">name</span></tt> attribute to <tt class="docutils literal"><span class="pre">Series</span></tt>, now
prints as part of <tt class="docutils literal"><span class="pre">Series.__repr__</span></tt></li>
<li><a class="reference internal" href="missing_data.html#missing-isnull"><em>Added</em></a> instance methods <tt class="docutils literal"><span class="pre">isnull</span></tt> and <tt class="docutils literal"><span class="pre">notnull</span></tt> to
Series (<a class="reference external" href="https://github.com/pydata/pandas/issues/209">GH209</a>, <a class="reference external" href="https://github.com/pydata/pandas/issues/203">GH203</a>)</li>
<li><a class="reference internal" href="basics.html#basics-align"><em>Added</em></a> <tt class="docutils literal"><span class="pre">Series.align</span></tt> method for aligning two series
with choice of join method (<a class="reference external" href="https://github.com/pydata/pandas/commit/56e0c9ffafac79ce262b55a6a13e1b10a88fbe93">ENH56</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-get-level-values"><em>Added</em></a> method <tt class="docutils literal"><span class="pre">get_level_values</span></tt> to
<tt class="docutils literal"><span class="pre">MultiIndex</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/188">GH188</a>)</li>
<li>Set values in mixed-type <tt class="docutils literal"><span class="pre">DataFrame</span></tt> objects via <tt class="docutils literal"><span class="pre">.ix</span></tt> indexing attribute (<a class="reference external" href="https://github.com/pydata/pandas/issues/135">GH135</a>)</li>
<li>Added new <tt class="docutils literal"><span class="pre">DataFrame</span></tt> <a class="reference internal" href="basics.html#basics-dtypes"><em>methods</em></a>
<tt class="docutils literal"><span class="pre">get_dtype_counts</span></tt> and property <tt class="docutils literal"><span class="pre">dtypes</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/commit/dca3c5c5a6a3769ee01465baca04cfdfa66a4f76">ENHdc</a>)</li>
<li>Added <a class="reference internal" href="merging.html#merging-ignore-index"><em>ignore_index</em></a> option to
<tt class="docutils literal"><span class="pre">DataFrame.append</span></tt> to stack DataFrames (<a class="reference external" href="https://github.com/pydata/pandas/commit/1ba56251f0013ff7cd8834e9486cef2b10098371">ENH1b</a>)</li>
<li><tt class="docutils literal"><span class="pre">read_csv</span></tt> tries to <a class="reference internal" href="io.html#io-sniff"><em>sniff</em></a> delimiters using
<tt class="docutils literal"><span class="pre">csv.Sniffer</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/146">GH146</a>)</li>
<li><tt class="docutils literal"><span class="pre">read_csv</span></tt> can <a class="reference internal" href="io.html#io-csv-multiindex"><em>read</em></a> multiple columns into a
<tt class="docutils literal"><span class="pre">MultiIndex</span></tt>; DataFrame&#8217;s <tt class="docutils literal"><span class="pre">to_csv</span></tt> method writes out a corresponding
<tt class="docutils literal"><span class="pre">MultiIndex</span></tt> (<a class="reference external" href="https://github.com/pydata/pandas/issues/151">GH151</a>)</li>
<li><tt class="docutils literal"><span class="pre">DataFrame.rename</span></tt> has a new <tt class="docutils literal"><span class="pre">copy</span></tt> parameter to <a class="reference internal" href="basics.html#basics-rename"><em>rename</em></a> a DataFrame in place (<a class="reference external" href="https://github.com/pydata/pandas/commit/edd9f1945fc010a57fa0ae3b3444d1fffe592591">ENHed</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-unstack-by-name"><em>Enable</em></a> unstacking by name (<a class="reference external" href="https://github.com/pydata/pandas/issues/142">GH142</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-sortlevel-byname"><em>Enable</em></a> <tt class="docutils literal"><span class="pre">sortlevel</span></tt> to work by level (<a class="reference external" href="https://github.com/pydata/pandas/issues/141">GH141</a>)</li>
</ul>
</div>
<div class="section" id="id34">
<h3>Performance Enhancements<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Altered binary operations on differently-indexed SparseSeries objects
to use the integer-based (dense) alignment logic which is faster with a
larger number of blocks (<a class="reference external" href="https://github.com/pydata/pandas/issues/205">GH205</a>)</li>
<li>Wrote faster Cython data alignment / merging routines resulting in
substantial speed increases</li>
<li>Improved performance of <tt class="docutils literal"><span class="pre">isnull</span></tt> and <tt class="docutils literal"><span class="pre">notnull</span></tt>, a regression from v0.3.0
(<a class="reference external" href="https://github.com/pydata/pandas/issues/187">GH187</a>)</li>
<li>Refactored code related to <tt class="docutils literal"><span class="pre">DataFrame.join</span></tt> so that intermediate aligned
copies of the data in each <tt class="docutils literal"><span class="pre">DataFrame</span></tt> argument do not need to be created.
Substantial performance increases result (<a class="reference external" href="https://github.com/pydata/pandas/issues/176">GH176</a>)</li>
<li>Substantially improved performance of generic <tt class="docutils literal"><span class="pre">Index.intersection</span></tt> and
<tt class="docutils literal"><span class="pre">Index.union</span></tt></li>
<li>Implemented <tt class="docutils literal"><span class="pre">BlockManager.take</span></tt> resulting in significantly faster <tt class="docutils literal"><span class="pre">take</span></tt>
performance on mixed-type <tt class="docutils literal"><span class="pre">DataFrame</span></tt> objects (<a class="reference external" href="https://github.com/pydata/pandas/issues/104">GH104</a>)</li>
<li>Improved performance of <tt class="docutils literal"><span class="pre">Series.sort_index</span></tt></li>
<li>Significant groupby performance enhancement: removed unnecessary integrity
checks in DataFrame internals that were slowing down slicing operations to
retrieve groups</li>
<li>Optimized <tt class="docutils literal"><span class="pre">_ensure_index</span></tt> function resulting in performance savings in
type-checking Index objects</li>
<li>Wrote fast time series merging / joining methods in Cython. Will be
integrated later into DataFrame.join and related functions</li>
</ul>
</div>
</div>
</div>


                    </div>
                </div>
            </div>

            
            <div class="clearer"></div>
        </div>
    </div>
</div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="pandas: powerful Python data analysis toolkit"
             >previous</a> |</li>
        <li><a href="index.html">pandas 0.13.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2014, the pandas development team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>