<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>scipy.optimize.fmin_cobyla — SciPy v0.12 Reference Guide (DRAFT)</title><link href="../_static/scipy.css" rel="stylesheet" type="text/css"/><link href="../_static/pygments.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script><script src="../_static/jquery.js" type="text/javascript"></script><script src="../_static/underscore.js" type="text/javascript"></script><script src="../_static/doctools.js" type="text/javascript"></script><link href="../index.html" rel="top" title="SciPy v0.12 Reference Guide (DRAFT)"/><link href="../optimize.html" rel="up" title="Optimization and root finding (scipy.optimize)"/><link href="scipy.optimize.fmin_slsqp.html" rel="next" title="scipy.optimize.fmin_slsqp"/><link href="scipy.optimize.fmin_tnc.html" rel="prev" title="scipy.optimize.fmin_tnc"/></head><body>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="../np-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="scipy.optimize.fmin_slsqp.html" title="scipy.optimize.fmin_slsqp">next</a> |</li>
<li class="right">
<a accesskey="P" href="scipy.optimize.fmin_tnc.html" title="scipy.optimize.fmin_tnc">previous</a> |</li>
<li><a href="../index.html">SciPy v0.12 Reference Guide (DRAFT)</a> »</li>
<li><a accesskey="U" href="../optimize.html">Optimization and root finding (<tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">scipy.optimize</span></tt>)</a> »</li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="scipy-optimize-fmin-cobyla">
<h1>scipy.optimize.fmin_cobyla<a class="headerlink" href="#scipy-optimize-fmin-cobyla" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="scipy.optimize.fmin_cobyla"><a name="//apple_ref/cpp/func/scipy.optimize.fmin_cobyla"></a>
<tt class="descclassname">scipy.optimize.</tt><tt class="descname">fmin_cobyla</tt><big>(</big><em>func</em>, <em>x0</em>, <em>cons</em>, <em>args=()</em>, <em>consargs=None</em>, <em>rhobeg=1.0</em>, <em>rhoend=0.0001</em>, <em>iprint=1</em>, <em>maxfun=1000</em>, <em>disp=None</em><big>)</big><a class="reference external" href="http://github.com/scipy/scipy/blob/v0.12.0/scipy/optimize/cobyla.py#L24"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scipy.optimize.fmin_cobyla" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimize a function using the Constrained Optimization BY Linear
Approximation (COBYLA) method. This method wraps a FORTRAN
implentation of the algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"></col>
<col class="field-body"></col>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>func</strong> : callable</p>
<blockquote>
<div><p>Function to minimize. In the form func(x, *args).</p>
</div></blockquote>
<p><strong>x0</strong> : ndarray</p>
<blockquote>
<div><p>Initial guess.</p>
</div></blockquote>
<p><strong>cons</strong> : sequence</p>
<blockquote>
<div><p>Constraint functions; must all be <tt class="docutils literal"><span class="pre">&gt;=0</span></tt> (a single function
if only 1 constraint). Each function takes the parameters <em class="xref py py-obj">x</em>
as its first argument.</p>
</div></blockquote>
<p><strong>args</strong> : tuple</p>
<blockquote>
<div><p>Extra arguments to pass to function.</p>
</div></blockquote>
<p><strong>consargs</strong> : tuple</p>
<blockquote>
<div><p>Extra arguments to pass to constraint functions (default of None means
use same extra arguments as those passed to func).
Use <tt class="docutils literal"><span class="pre">()</span></tt> for no extra arguments.</p>
</div></blockquote>
<p><strong>rhobeg :</strong> :</p>
<blockquote>
<div><p>Reasonable initial changes to the variables.</p>
</div></blockquote>
<p><strong>rhoend :</strong> :</p>
<blockquote>
<div><p>Final accuracy in the optimization (not precisely guaranteed). This
is a lower bound on the size of the trust region.</p>
</div></blockquote>
<p><strong>iprint</strong> : {0, 1, 2, 3}</p>
<blockquote>
<div><p>Controls the frequency of output; 0 implies no output.  Deprecated.</p>
</div></blockquote>
<p><strong>disp</strong> : {0, 1, 2, 3}</p>
<blockquote>
<div><p>Over-rides the iprint interface.  Preferred.</p>
</div></blockquote>
<p><strong>maxfun</strong> : int</p>
<blockquote>
<div><p>Maximum number of function evaluations.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>x</strong> : ndarray</p>
<blockquote class="last">
<div><p>The argument that minimises <em class="xref py py-obj">f</em>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="scipy.optimize.minimize.html#scipy.optimize.minimize" title="scipy.optimize.minimize"><tt class="xref py py-obj docutils literal"><span class="pre">minimize</span></tt></a></dt>
<dd>Interface to minimization algorithms for multivariate functions. See the ‘COBYLA’ <em class="xref py py-obj">method</em> in particular.</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>This algorithm is based on linear approximations to the objective
function and each constraint. We briefly describe the algorithm.</p>
<p>Suppose the function is being minimized over k variables. At the
jth iteration the algorithm has k+1 points v_1, ..., v_(k+1),
an approximate solution x_j, and a radius RHO_j.
(i.e. linear plus a constant) approximations to the objective
function and constraint functions such that their function values
agree with the linear approximation on the k+1 points v_1,.., v_(k+1).
This gives a linear program to solve (where the linear approximations
of the constraint functions are constrained to be non-negative).</p>
<p>However the linear approximations are likely only good
approximations near the current simplex, so the linear program is
given the further requirement that the solution, which
will become x_(j+1), must be within RHO_j from x_j. RHO_j only
decreases, never increases. The initial RHO_j is rhobeg and the
final RHO_j is rhoend. In this way COBYLA’s iterations behave
like a trust region algorithm.</p>
<p>Additionally, the linear program may be inconsistent, or the
approximation may give poor improvement. For details about
how these issues are resolved, as well as how the points v_i are
updated, refer to the source code or the references below.</p>
<p class="rubric">References</p>
<p>Powell M.J.D. (1994), “A direct search optimization method that models
the objective and constraint functions by linear interpolation.”, in
Advances in Optimization and Numerical Analysis, eds. S. Gomez and
J-P Hennart, Kluwer Academic (Dordrecht), pp. 51-67</p>
<p>Powell M.J.D. (1998), “Direct search algorithms for optimization
calculations”, Acta Numerica 7, 287-336</p>
<p>Powell M.J.D. (2007), “A view of algorithms for optimization without
derivatives”, Cambridge University Technical Report DAMTP 2007/NA03</p>
<p class="rubric">Examples</p>
<p>Minimize the objective function f(x,y) = x*y subject
to the constraints x**2 + y**2 &lt; 1 and y &gt; 0:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">objective</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">constr1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">constr2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmin_cobyla</span><span class="p">(</span><span class="n">objective</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="n">constr1</span><span class="p">,</span> <span class="n">constr2</span><span class="p">],</span> <span class="n">rhoend</span><span class="o">=</span><span class="mf">1e-7</span><span class="p">)</span>

<span class="go">   Normal return from subroutine COBYLA</span>

<span class="go">   NFVALS =   64   F =-5.000000E-01    MAXCV = 1.998401E-14</span>
<span class="go">   X =-7.071069E-01   7.071067E-01</span>
<span class="go">array([-0.70710685,  0.70710671])</span>
</pre></div>
</div>
<p>The exact solution is (-sqrt(2)/2, sqrt(2)/2).</p>
</dd></dl>
</div>
</div>
</div>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<p class="logo"><a href="../index.html">
<img alt="Logo" class="logo" src="../_static/scipyshiny_small.png"/>
</a></p>
<h4>Previous topic</h4>
<p class="topless"><a href="scipy.optimize.fmin_tnc.html" title="previous chapter">scipy.optimize.fmin_tnc</a></p>
<h4>Next topic</h4>
<p class="topless"><a href="scipy.optimize.fmin_slsqp.html" title="next chapter">scipy.optimize.fmin_slsqp</a></p>
<div id="searchbox" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="../np-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="scipy.optimize.fmin_slsqp.html" title="scipy.optimize.fmin_slsqp">next</a> |</li>
<li class="right">
<a href="scipy.optimize.fmin_tnc.html" title="scipy.optimize.fmin_tnc">previous</a> |</li>
<li><a href="../index.html">SciPy v0.12 Reference Guide (DRAFT)</a> »</li>
<li><a href="../optimize.html">Optimization and root finding (<tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">scipy.optimize</span></tt>)</a> »</li>
</ul>
</div>
<div class="footer">
        © Copyright 2008-2009, The Scipy community.
      Last updated on May 01, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
</body></html>